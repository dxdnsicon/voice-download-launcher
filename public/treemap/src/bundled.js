/*
* @license Copyright 2020 The Lighthouse Authors. All Rights Reserved.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
* http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express
* or implied. See the License for the specific language governing
* permissions and limitations under the License.
*/
"use strict";window.LH_CURRENT_VERSION="9.2.3";const strings={"en-US":{allLabel:"All",allScriptsDropdownLabel:"All Scripts",coverageColumnName:"Coverage",duplicateModulesLabel:"Duplicate Modules",resourceBytesLabel:"Resource Bytes",tableColumnName:"Name",toggleTableButtonLabel:"Toggle Table",unusedBytesLabel:"Unused Bytes"},en:{allLabel:"All",allScriptsDropdownLabel:"All Scripts",coverageColumnName:"Coverage",duplicateModulesLabel:"Duplicate Modules",resourceBytesLabel:"Resource Bytes",tableColumnName:"Name",toggleTableButtonLabel:"Toggle Table",unusedBytesLabel:"Unused Bytes"},"en-AU":{allLabel:"All",allScriptsDropdownLabel:"All scripts",coverageColumnName:"Coverage",duplicateModulesLabel:"Duplicate modules",resourceBytesLabel:"Resource bytes",tableColumnName:"Name",toggleTableButtonLabel:"Toggle table",unusedBytesLabel:"Unused bytes"},"en-GB":{allLabel:"All",allScriptsDropdownLabel:"All scripts",coverageColumnName:"Coverage",duplicateModulesLabel:"Duplicate modules",resourceBytesLabel:"Resource bytes",tableColumnName:"Name",toggleTableButtonLabel:"Toggle table",unusedBytesLabel:"Unused bytes"},"en-IE":{allLabel:"All",allScriptsDropdownLabel:"All scripts",coverageColumnName:"Coverage",duplicateModulesLabel:"Duplicate modules",resourceBytesLabel:"Resource bytes",tableColumnName:"Name",toggleTableButtonLabel:"Toggle table",unusedBytesLabel:"Unused bytes"},"en-SG":{allLabel:"All",allScriptsDropdownLabel:"All scripts",coverageColumnName:"Coverage",duplicateModulesLabel:"Duplicate modules",resourceBytesLabel:"Resource bytes",tableColumnName:"Name",toggleTableButtonLabel:"Toggle table",unusedBytesLabel:"Unused bytes"},"en-ZA":{allLabel:"All",allScriptsDropdownLabel:"All scripts",coverageColumnName:"Coverage",duplicateModulesLabel:"Duplicate modules",resourceBytesLabel:"Resource bytes",tableColumnName:"Name",toggleTableButtonLabel:"Toggle table",unusedBytesLabel:"Unused bytes"},"en-IN":{allLabel:"All",allScriptsDropdownLabel:"All scripts",coverageColumnName:"Coverage",duplicateModulesLabel:"Duplicate modules",resourceBytesLabel:"Resource bytes",tableColumnName:"Name",toggleTableButtonLabel:"Toggle table",unusedBytesLabel:"Unused bytes"},"ar-XB":{allLabel:"‏‮All‬‏",allScriptsDropdownLabel:"‏‮All‬‏ ‏‮Scripts‬‏",coverageColumnName:"‏‮Coverage‬‏",duplicateModulesLabel:"‏‮Duplicate‬‏ ‏‮Modules‬‏",resourceBytesLabel:"‏‮Resource‬‏ ‏‮Bytes‬‏",tableColumnName:"‏‮Name‬‏",toggleTableButtonLabel:"‏‮Toggle‬‏ ‏‮Table‬‏",unusedBytesLabel:"‏‮Unused‬‏ ‏‮Bytes‬‏"},ar:{allLabel:"الكل",allScriptsDropdownLabel:"جميع النصوص البرمجية",coverageColumnName:"التغطية",duplicateModulesLabel:"الوحدات المكرَّرة",resourceBytesLabel:"حجم الموارد بوحدة البايت",tableColumnName:"الاسم",toggleTableButtonLabel:"تبديل الجدول",unusedBytesLabel:"وحدات بايت غير المستخدمة"},bg:{allLabel:"Всички",allScriptsDropdownLabel:"Всички скриптове",coverageColumnName:"Обхват",duplicateModulesLabel:"Дублиращи се модули",resourceBytesLabel:"Байтове на ресурсите",tableColumnName:"Име",toggleTableButtonLabel:"Превключване на таблицата",unusedBytesLabel:"Неизползвани байтове"},ca:{allLabel:"Tot",allScriptsDropdownLabel:"Tots els scripts",coverageColumnName:"Cobertura",duplicateModulesLabel:"Mòduls duplicats",resourceBytesLabel:"Bytes del recurs",tableColumnName:"Nom",toggleTableButtonLabel:"Commuta la taula",unusedBytesLabel:"Bytes no utilitzats"},cs:{allLabel:"Vše",allScriptsDropdownLabel:"Všechna písma",coverageColumnName:"Pokrytí",duplicateModulesLabel:"Duplicitní moduly",resourceBytesLabel:"Počet bajtů zdroje",tableColumnName:"Název",toggleTableButtonLabel:"Zobrazit nebo skrýt tabulku",unusedBytesLabel:"Nevyužité bajty"},da:{allLabel:"Alle",allScriptsDropdownLabel:"Alle scripts",coverageColumnName:"Dækning",duplicateModulesLabel:"Identiske moduler",resourceBytesLabel:"Bytes i ressourcefil",tableColumnName:"Navn",toggleTableButtonLabel:"Vis/skjul tabel",unusedBytesLabel:"Ubrugte bytes"},de:{allLabel:"Alles",allScriptsDropdownLabel:"Alle Skripts",coverageColumnName:"Abdeckung",duplicateModulesLabel:"Doppelte Module",resourceBytesLabel:"Ressourcengröße in Byte",tableColumnName:"Name",toggleTableButtonLabel:"Tabelle ein- oder ausblenden",unusedBytesLabel:"Nicht verwendete Byte"},el:{allLabel:"Όλα",allScriptsDropdownLabel:"Όλες οι γραφές",coverageColumnName:"Κάλυψη",duplicateModulesLabel:"Διπλότυπες λειτουργικές μονάδες",resourceBytesLabel:"Byte πόρου",tableColumnName:"Όνομα",toggleTableButtonLabel:"Εναλλαγή πίνακα",unusedBytesLabel:"Byte που δεν χρησιμοποιούνται"},"en-XA":{allLabel:"[Åļļ one]",allScriptsDropdownLabel:"[Åļļ Šçŕîþţš one two]",coverageColumnName:"[Çövéŕåĝé one]",duplicateModulesLabel:"[Ðûþļîçåţé Möðûļéš one two three]",resourceBytesLabel:"[Ŕéšöûŕçé Бýţéš one two]",tableColumnName:"[Ñåmé one]",toggleTableButtonLabel:"[Ţöĝĝļé Ţåбļé one two]",unusedBytesLabel:"[Ûñûšéð Бýţéš one two]"},"en-XL":{allLabel:"Âĺl̂",allScriptsDropdownLabel:"Âĺl̂ Śĉŕîṕt̂ś",coverageColumnName:"Ĉóv̂ér̂áĝé",duplicateModulesLabel:"D̂úp̂ĺîćât́ê Ḿôd́ûĺêś",resourceBytesLabel:"R̂éŝóûŕĉé B̂ýt̂éŝ",tableColumnName:"N̂ám̂é",toggleTableButtonLabel:"T̂óĝǵl̂é T̂áb̂ĺê",unusedBytesLabel:"Ûńûśêd́ B̂ýt̂éŝ"},es:{allLabel:"Todo",allScriptsDropdownLabel:"Todas las secuencias de comandos",coverageColumnName:"Cobertura",duplicateModulesLabel:"Módulos duplicados",resourceBytesLabel:"Bytes del recurso",tableColumnName:"Nombre",toggleTableButtonLabel:"Mostrar/Ocultar tabla",unusedBytesLabel:"Bytes sin usar"},"es-419":{allLabel:"Todo",allScriptsDropdownLabel:"Todas las secuencias de comandos",coverageColumnName:"Cobertura",duplicateModulesLabel:"Módulos duplicados",resourceBytesLabel:"Bytes de recursos",tableColumnName:"Nombre",toggleTableButtonLabel:"Activar o desactivar tabla",unusedBytesLabel:"Bytes sin usar"},"es-AR":{allLabel:"Todo",allScriptsDropdownLabel:"Todas las secuencias de comandos",coverageColumnName:"Cobertura",duplicateModulesLabel:"Módulos duplicados",resourceBytesLabel:"Bytes de recursos",tableColumnName:"Nombre",toggleTableButtonLabel:"Activar o desactivar tabla",unusedBytesLabel:"Bytes sin usar"},"es-BO":{allLabel:"Todo",allScriptsDropdownLabel:"Todas las secuencias de comandos",coverageColumnName:"Cobertura",duplicateModulesLabel:"Módulos duplicados",resourceBytesLabel:"Bytes de recursos",tableColumnName:"Nombre",toggleTableButtonLabel:"Activar o desactivar tabla",unusedBytesLabel:"Bytes sin usar"},"es-BR":{allLabel:"Todo",allScriptsDropdownLabel:"Todas las secuencias de comandos",coverageColumnName:"Cobertura",duplicateModulesLabel:"Módulos duplicados",resourceBytesLabel:"Bytes de recursos",tableColumnName:"Nombre",toggleTableButtonLabel:"Activar o desactivar tabla",unusedBytesLabel:"Bytes sin usar"},"es-BZ":{allLabel:"Todo",allScriptsDropdownLabel:"Todas las secuencias de comandos",coverageColumnName:"Cobertura",duplicateModulesLabel:"Módulos duplicados",resourceBytesLabel:"Bytes de recursos",tableColumnName:"Nombre",toggleTableButtonLabel:"Activar o desactivar tabla",unusedBytesLabel:"Bytes sin usar"},"es-CL":{allLabel:"Todo",allScriptsDropdownLabel:"Todas las secuencias de comandos",coverageColumnName:"Cobertura",duplicateModulesLabel:"Módulos duplicados",resourceBytesLabel:"Bytes de recursos",tableColumnName:"Nombre",toggleTableButtonLabel:"Activar o desactivar tabla",unusedBytesLabel:"Bytes sin usar"},"es-CO":{allLabel:"Todo",allScriptsDropdownLabel:"Todas las secuencias de comandos",coverageColumnName:"Cobertura",duplicateModulesLabel:"Módulos duplicados",resourceBytesLabel:"Bytes de recursos",tableColumnName:"Nombre",toggleTableButtonLabel:"Activar o desactivar tabla",unusedBytesLabel:"Bytes sin usar"},"es-CR":{allLabel:"Todo",allScriptsDropdownLabel:"Todas las secuencias de comandos",coverageColumnName:"Cobertura",duplicateModulesLabel:"Módulos duplicados",resourceBytesLabel:"Bytes de recursos",tableColumnName:"Nombre",toggleTableButtonLabel:"Activar o desactivar tabla",unusedBytesLabel:"Bytes sin usar"},"es-CU":{allLabel:"Todo",allScriptsDropdownLabel:"Todas las secuencias de comandos",coverageColumnName:"Cobertura",duplicateModulesLabel:"Módulos duplicados",resourceBytesLabel:"Bytes de recursos",tableColumnName:"Nombre",toggleTableButtonLabel:"Activar o desactivar tabla",unusedBytesLabel:"Bytes sin usar"},"es-DO":{allLabel:"Todo",allScriptsDropdownLabel:"Todas las secuencias de comandos",coverageColumnName:"Cobertura",duplicateModulesLabel:"Módulos duplicados",resourceBytesLabel:"Bytes de recursos",tableColumnName:"Nombre",toggleTableButtonLabel:"Activar o desactivar tabla",unusedBytesLabel:"Bytes sin usar"},"es-EC":{allLabel:"Todo",allScriptsDropdownLabel:"Todas las secuencias de comandos",coverageColumnName:"Cobertura",duplicateModulesLabel:"Módulos duplicados",resourceBytesLabel:"Bytes de recursos",tableColumnName:"Nombre",toggleTableButtonLabel:"Activar o desactivar tabla",unusedBytesLabel:"Bytes sin usar"},"es-GT":{allLabel:"Todo",allScriptsDropdownLabel:"Todas las secuencias de comandos",coverageColumnName:"Cobertura",duplicateModulesLabel:"Módulos duplicados",resourceBytesLabel:"Bytes de recursos",tableColumnName:"Nombre",toggleTableButtonLabel:"Activar o desactivar tabla",unusedBytesLabel:"Bytes sin usar"},"es-HN":{allLabel:"Todo",allScriptsDropdownLabel:"Todas las secuencias de comandos",coverageColumnName:"Cobertura",duplicateModulesLabel:"Módulos duplicados",resourceBytesLabel:"Bytes de recursos",tableColumnName:"Nombre",toggleTableButtonLabel:"Activar o desactivar tabla",unusedBytesLabel:"Bytes sin usar"},"es-MX":{allLabel:"Todo",allScriptsDropdownLabel:"Todas las secuencias de comandos",coverageColumnName:"Cobertura",duplicateModulesLabel:"Módulos duplicados",resourceBytesLabel:"Bytes de recursos",tableColumnName:"Nombre",toggleTableButtonLabel:"Activar o desactivar tabla",unusedBytesLabel:"Bytes sin usar"},"es-NI":{allLabel:"Todo",allScriptsDropdownLabel:"Todas las secuencias de comandos",coverageColumnName:"Cobertura",duplicateModulesLabel:"Módulos duplicados",resourceBytesLabel:"Bytes de recursos",tableColumnName:"Nombre",toggleTableButtonLabel:"Activar o desactivar tabla",unusedBytesLabel:"Bytes sin usar"},"es-PA":{allLabel:"Todo",allScriptsDropdownLabel:"Todas las secuencias de comandos",coverageColumnName:"Cobertura",duplicateModulesLabel:"Módulos duplicados",resourceBytesLabel:"Bytes de recursos",tableColumnName:"Nombre",toggleTableButtonLabel:"Activar o desactivar tabla",unusedBytesLabel:"Bytes sin usar"},"es-PE":{allLabel:"Todo",allScriptsDropdownLabel:"Todas las secuencias de comandos",coverageColumnName:"Cobertura",duplicateModulesLabel:"Módulos duplicados",resourceBytesLabel:"Bytes de recursos",tableColumnName:"Nombre",toggleTableButtonLabel:"Activar o desactivar tabla",unusedBytesLabel:"Bytes sin usar"},"es-PR":{allLabel:"Todo",allScriptsDropdownLabel:"Todas las secuencias de comandos",coverageColumnName:"Cobertura",duplicateModulesLabel:"Módulos duplicados",resourceBytesLabel:"Bytes de recursos",tableColumnName:"Nombre",toggleTableButtonLabel:"Activar o desactivar tabla",unusedBytesLabel:"Bytes sin usar"},"es-PY":{allLabel:"Todo",allScriptsDropdownLabel:"Todas las secuencias de comandos",coverageColumnName:"Cobertura",duplicateModulesLabel:"Módulos duplicados",resourceBytesLabel:"Bytes de recursos",tableColumnName:"Nombre",toggleTableButtonLabel:"Activar o desactivar tabla",unusedBytesLabel:"Bytes sin usar"},"es-SV":{allLabel:"Todo",allScriptsDropdownLabel:"Todas las secuencias de comandos",coverageColumnName:"Cobertura",duplicateModulesLabel:"Módulos duplicados",resourceBytesLabel:"Bytes de recursos",tableColumnName:"Nombre",toggleTableButtonLabel:"Activar o desactivar tabla",unusedBytesLabel:"Bytes sin usar"},"es-US":{allLabel:"Todo",allScriptsDropdownLabel:"Todas las secuencias de comandos",coverageColumnName:"Cobertura",duplicateModulesLabel:"Módulos duplicados",resourceBytesLabel:"Bytes de recursos",tableColumnName:"Nombre",toggleTableButtonLabel:"Activar o desactivar tabla",unusedBytesLabel:"Bytes sin usar"},"es-UY":{allLabel:"Todo",allScriptsDropdownLabel:"Todas las secuencias de comandos",coverageColumnName:"Cobertura",duplicateModulesLabel:"Módulos duplicados",resourceBytesLabel:"Bytes de recursos",tableColumnName:"Nombre",toggleTableButtonLabel:"Activar o desactivar tabla",unusedBytesLabel:"Bytes sin usar"},"es-VE":{allLabel:"Todo",allScriptsDropdownLabel:"Todas las secuencias de comandos",coverageColumnName:"Cobertura",duplicateModulesLabel:"Módulos duplicados",resourceBytesLabel:"Bytes de recursos",tableColumnName:"Nombre",toggleTableButtonLabel:"Activar o desactivar tabla",unusedBytesLabel:"Bytes sin usar"},fi:{allLabel:"Kaikki",allScriptsDropdownLabel:"Kaikki skriptit",coverageColumnName:"Kattavuus",duplicateModulesLabel:"Moduulien kaksoiskappaleet",resourceBytesLabel:"Resurssin tavut",tableColumnName:"Nimi",toggleTableButtonLabel:"Näytä/piilota taulukko",unusedBytesLabel:"Käyttämättömät tavut"},fil:{allLabel:"Lahat",allScriptsDropdownLabel:"Lahat ng Script",coverageColumnName:"Sakop",duplicateModulesLabel:"Mga Duplicate na Module",resourceBytesLabel:"Mga Byte ng Resource",tableColumnName:"Pangalan",toggleTableButtonLabel:"I-toggle ang Talahanayan",unusedBytesLabel:"Mga Hindi Nagamit na Byte"},fr:{allLabel:"Tout",allScriptsDropdownLabel:"Tous les scripts",coverageColumnName:"Couverture",duplicateModulesLabel:"Modules en double",resourceBytesLabel:"Octets de la ressource",tableColumnName:"Nom",toggleTableButtonLabel:"Activer/Désactiver le tableau",unusedBytesLabel:"Octets inutilisés"},he:{allLabel:"הכול",allScriptsDropdownLabel:"כל הסקריפטים",coverageColumnName:"כיסוי",duplicateModulesLabel:"מודולים כפולים",resourceBytesLabel:"בייטים בשימוש המשאב",tableColumnName:"שם",toggleTableButtonLabel:"החלפת מצב התצוגה של הטבלה",unusedBytesLabel:"בייטים לא בשימוש"},hi:{allLabel:"सभी",allScriptsDropdownLabel:"सभी स्क्रिप्ट",coverageColumnName:"कवरेज",duplicateModulesLabel:"डुप्लीकेट मॉड्यूल",resourceBytesLabel:"फ़ाइल का साइज़ (बाइट में)",tableColumnName:"नाम",toggleTableButtonLabel:"टेबल को टॉगल करें",unusedBytesLabel:"इस्तेमाल न की गई बाइट की संख्या"},hr:{allLabel:"Sve",allScriptsDropdownLabel:"Sve skripte",coverageColumnName:"Pokrivenost",duplicateModulesLabel:"Duplicirani moduli",resourceBytesLabel:"Bajtovi resursa",tableColumnName:"Naziv",toggleTableButtonLabel:"Prikaži/sakrij tablicu",unusedBytesLabel:"Neiskorišteni bajtovi"},hu:{allLabel:"Összes",allScriptsDropdownLabel:"Minden szkript",coverageColumnName:"Lefedettség",duplicateModulesLabel:"Ismétlődő modulok",resourceBytesLabel:"Forrásfájl mérete bájtokban",tableColumnName:"Név",toggleTableButtonLabel:"Táblázat elrejtése/megjelenítése",unusedBytesLabel:"Fel nem használt bájtok"},gsw:{allLabel:"Alles",allScriptsDropdownLabel:"Alle Skripts",coverageColumnName:"Abdeckung",duplicateModulesLabel:"Doppelte Module",resourceBytesLabel:"Ressourcengröße in Byte",tableColumnName:"Name",toggleTableButtonLabel:"Tabelle ein- oder ausblenden",unusedBytesLabel:"Nicht verwendete Byte"},id:{allLabel:"Semua",allScriptsDropdownLabel:"Semua Skrip",coverageColumnName:"Cakupan",duplicateModulesLabel:"Modul Duplikat",resourceBytesLabel:"Byte Resource",tableColumnName:"Nama",toggleTableButtonLabel:"Tampilkan/Sembunyikan Tabel",unusedBytesLabel:"Byte yang Tidak Digunakan"},in:{allLabel:"Semua",allScriptsDropdownLabel:"Semua Skrip",coverageColumnName:"Cakupan",duplicateModulesLabel:"Modul Duplikat",resourceBytesLabel:"Byte Resource",tableColumnName:"Nama",toggleTableButtonLabel:"Tampilkan/Sembunyikan Tabel",unusedBytesLabel:"Byte yang Tidak Digunakan"},it:{allLabel:"Tutto",allScriptsDropdownLabel:"Tutti gli script",coverageColumnName:"Copertura",duplicateModulesLabel:"Moduli duplicati",resourceBytesLabel:"Byte risorsa",tableColumnName:"Nome",toggleTableButtonLabel:"Mostra/nascondi tabella",unusedBytesLabel:"Byte non utilizzati"},iw:{allLabel:"הכול",allScriptsDropdownLabel:"כל הסקריפטים",coverageColumnName:"כיסוי",duplicateModulesLabel:"מודולים כפולים",resourceBytesLabel:"בייטים בשימוש המשאב",tableColumnName:"שם",toggleTableButtonLabel:"החלפת מצב התצוגה של הטבלה",unusedBytesLabel:"בייטים לא בשימוש"},ja:{allLabel:"すべて",allScriptsDropdownLabel:"すべてのスクリプト",coverageColumnName:"カバレッジ",duplicateModulesLabel:"重複モジュール",resourceBytesLabel:"リソースのサイズ（バイト）",tableColumnName:"名前",toggleTableButtonLabel:"表を切り替える",unusedBytesLabel:"使用していないバイト"},ko:{allLabel:"전체",allScriptsDropdownLabel:"모든 스크립트",coverageColumnName:"범위",duplicateModulesLabel:"중복 모듈",resourceBytesLabel:"리소스 바이트",tableColumnName:"이름",toggleTableButtonLabel:"표 전환",unusedBytesLabel:"사용하지 않은 바이트"},lt:{allLabel:"Viskas",allScriptsDropdownLabel:"Visi scenarijai",coverageColumnName:"Aprėptis",duplicateModulesLabel:"Tikslios modulių kopijos",resourceBytesLabel:"Šaltinių baitai",tableColumnName:"Pavadinimas",toggleTableButtonLabel:"Perjungti lentelę",unusedBytesLabel:"Nenaudojami baitai"},lv:{allLabel:"Visi",allScriptsDropdownLabel:"Visi skripti",coverageColumnName:"Tvērums",duplicateModulesLabel:"Dublēti moduļi",resourceBytesLabel:"Faila lielums baitos",tableColumnName:"Nosaukums",toggleTableButtonLabel:"Pārslēgt tabulu",unusedBytesLabel:"Neizmantotais apjoms baitos"},mo:{allLabel:"Toate",allScriptsDropdownLabel:"Toate scripturile",coverageColumnName:"Acoperire",duplicateModulesLabel:"Module dublate",resourceBytesLabel:"Byți resursă",tableColumnName:"Nume",toggleTableButtonLabel:"Activează / dezactivează tabelul",unusedBytesLabel:"Byți nefolosiți"},nl:{allLabel:"Alle",allScriptsDropdownLabel:"Alle scripts",coverageColumnName:"Dekking",duplicateModulesLabel:"Dubbele modules",resourceBytesLabel:"Resourcebytes",tableColumnName:"Naam",toggleTableButtonLabel:"Tabel schakelen",unusedBytesLabel:"Ongebruikte bytes"},nb:{allLabel:"Alt",allScriptsDropdownLabel:"Alle skript",coverageColumnName:"Dekning",duplicateModulesLabel:"Duplikatmoduler",resourceBytesLabel:"Ressursstørrelse i byte",tableColumnName:"Navn",toggleTableButtonLabel:"Slå av/på tabell",unusedBytesLabel:"Ubrukte byte"},no:{allLabel:"Alt",allScriptsDropdownLabel:"Alle skript",coverageColumnName:"Dekning",duplicateModulesLabel:"Duplikatmoduler",resourceBytesLabel:"Ressursstørrelse i byte",tableColumnName:"Navn",toggleTableButtonLabel:"Slå av/på tabell",unusedBytesLabel:"Ubrukte byte"},pl:{allLabel:"Wszystko",allScriptsDropdownLabel:"Wszystkie skrypty",coverageColumnName:"Pokrycie",duplicateModulesLabel:"Zduplikowane moduły",resourceBytesLabel:"Rozmiar zasobu (w bajtach)",tableColumnName:"Nazwa",toggleTableButtonLabel:"Przełącz tabelę",unusedBytesLabel:"Nieużywane bajty"},pt:{allLabel:"Tudo",allScriptsDropdownLabel:"Todos os scripts",coverageColumnName:"Cobertura",duplicateModulesLabel:"Módulos duplicados",resourceBytesLabel:"Bytes de recursos",tableColumnName:"Nome",toggleTableButtonLabel:"Alternar tabela",unusedBytesLabel:"Bytes não usados"},"pt-PT":{allLabel:"Tudo",allScriptsDropdownLabel:"Todos os scripts",coverageColumnName:"Cobertura",duplicateModulesLabel:"Módulos duplicados",resourceBytesLabel:"Bytes de recursos",tableColumnName:"Nome",toggleTableButtonLabel:"Ativar/desativar tabela",unusedBytesLabel:"Bytes não utilizados"},ro:{allLabel:"Toate",allScriptsDropdownLabel:"Toate scripturile",coverageColumnName:"Acoperire",duplicateModulesLabel:"Module dublate",resourceBytesLabel:"Byți resursă",tableColumnName:"Nume",toggleTableButtonLabel:"Activează / dezactivează tabelul",unusedBytesLabel:"Byți nefolosiți"},ru:{allLabel:"Все",allScriptsDropdownLabel:"Все скрипты",coverageColumnName:"Доля использования",duplicateModulesLabel:"Повторяющиеся модули",resourceBytesLabel:"Размер в байтах",tableColumnName:"Название",toggleTableButtonLabel:"Показать/скрыть таблицу",unusedBytesLabel:"Неиспользуемые байты"},sk:{allLabel:"Všetko",allScriptsDropdownLabel:"Všetky skripty",coverageColumnName:"Pokrytie",duplicateModulesLabel:"Duplikovať moduly",resourceBytesLabel:"Počet bajtov zdroja",tableColumnName:"Názov",toggleTableButtonLabel:"Prepnúť tabuľku",unusedBytesLabel:"Nepoužité bajty"},sl:{allLabel:"Vse",allScriptsDropdownLabel:"Vsi skripti",coverageColumnName:"Pokritost",duplicateModulesLabel:"Podvojeni moduli",resourceBytesLabel:"Bajti sredstva",tableColumnName:"Ime",toggleTableButtonLabel:"Preklop tabele",unusedBytesLabel:"Neuporabljeni bajti"},sr:{allLabel:"Све",allScriptsDropdownLabel:"Све скрипте",coverageColumnName:"Покривеност",duplicateModulesLabel:"Дуплирани модули",resourceBytesLabel:"Бајтови ресурса",tableColumnName:"Назив",toggleTableButtonLabel:"Укључи/искључи табелу",unusedBytesLabel:"Неискоришћени бајтови"},"sr-Latn":{allLabel:"Sve",allScriptsDropdownLabel:"Sve skripte",coverageColumnName:"Pokrivenost",duplicateModulesLabel:"Duplirani moduli",resourceBytesLabel:"Bajtovi resursa",tableColumnName:"Naziv",toggleTableButtonLabel:"Uključi/isključi tabelu",unusedBytesLabel:"Neiskorišćeni bajtovi"},sv:{allLabel:"Alla",allScriptsDropdownLabel:"Alla skript",coverageColumnName:"Täckning",duplicateModulesLabel:"Moduldubbletter",resourceBytesLabel:"Resursstorlek i byte",tableColumnName:"Namn",toggleTableButtonLabel:"Aktivera och inaktivera tabell",unusedBytesLabel:"Byte som inte används"},ta:{allLabel:"எல்லாம்",allScriptsDropdownLabel:"எல்லா ஸ்கிரிப்ட்டுகளும்",coverageColumnName:"கவரேஜ்",duplicateModulesLabel:"நகல் மாடியூல்கள்",resourceBytesLabel:"ஃபைலின் அளவு (பைட்டுகள்)",tableColumnName:"பெயர்",toggleTableButtonLabel:"டேபிளைக் காட்டு/மறை",unusedBytesLabel:"பயன்படுத்தப்படாத பைட்டுகள்"},te:{allLabel:"అన్నీ",allScriptsDropdownLabel:"అన్ని స్క్రిప్ట్‌లు",coverageColumnName:"కవరేజీ",duplicateModulesLabel:"డూప్లికేట్ మాడ్యూల్‌లు",resourceBytesLabel:"రిసోర్స్ బైట్‌లు",tableColumnName:"పేరు",toggleTableButtonLabel:"టోగుల్ టేబుల్",unusedBytesLabel:"వినియోగించని బైట్‌లు"},th:{allLabel:"ทั้งหมด",allScriptsDropdownLabel:"สคริปต์ทั้งหมด",coverageColumnName:"การครอบคลุม",duplicateModulesLabel:"โมดูลที่ซ้ำกัน",resourceBytesLabel:"ขนาดไฟล์ทรัพยากร (ไบต์)",tableColumnName:"ชื่อ",toggleTableButtonLabel:"ซ่อน/แสดงตาราง",unusedBytesLabel:"ไบต์ที่ไม่ได้ใช้"},tl:{allLabel:"Lahat",allScriptsDropdownLabel:"Lahat ng Script",coverageColumnName:"Sakop",duplicateModulesLabel:"Mga Duplicate na Module",resourceBytesLabel:"Mga Byte ng Resource",tableColumnName:"Pangalan",toggleTableButtonLabel:"I-toggle ang Talahanayan",unusedBytesLabel:"Mga Hindi Nagamit na Byte"},tr:{allLabel:"Tümü",allScriptsDropdownLabel:"Tüm Alfabeler",coverageColumnName:"Kapsam",duplicateModulesLabel:"Yinelenen Modüller",resourceBytesLabel:"Kaynak Baytları",tableColumnName:"Ad",toggleTableButtonLabel:"Tabloyu Aç/Kapat",unusedBytesLabel:"Kullanılmayan Baytlar"},uk:{allLabel:"Усе",allScriptsDropdownLabel:"Усі скрипти",coverageColumnName:"Дані про використання",duplicateModulesLabel:"Задубльовані модулі",resourceBytesLabel:"Розмір ресурсу в байтах",tableColumnName:"Назва",toggleTableButtonLabel:"Показати або сховати таблицю",unusedBytesLabel:"Невикористані байти"},vi:{allLabel:"Tất cả",allScriptsDropdownLabel:"Tất cả tập lệnh",coverageColumnName:"Độ bao phủ",duplicateModulesLabel:"Mô-đun trùng lặp",resourceBytesLabel:"Số byte tài nguyên",tableColumnName:"Tên",toggleTableButtonLabel:"Ẩn/hiện bảng",unusedBytesLabel:"Số byte chưa dùng đến"},zh:{allLabel:"全部",allScriptsDropdownLabel:"所有脚本",coverageColumnName:"覆盖率",duplicateModulesLabel:"重复的模块",resourceBytesLabel:"资源字节数",tableColumnName:"名称",toggleTableButtonLabel:"显示/隐藏表格",unusedBytesLabel:"未使用的字节数"},"zh-HK":{allLabel:"所有",allScriptsDropdownLabel:"所有指令碼",coverageColumnName:"覆蓋率",duplicateModulesLabel:"重複的模組",resourceBytesLabel:"資源字節",tableColumnName:"名稱",toggleTableButtonLabel:"顯示/隱藏表格",unusedBytesLabel:"未使用的字節"},"zh-TW":{allLabel:"全部",allScriptsDropdownLabel:"所有指令碼",coverageColumnName:"涵蓋率",duplicateModulesLabel:"重複模組",resourceBytesLabel:"資源位元組",tableColumnName:"名稱",toggleTableButtonLabel:"顯示/隱藏表格",unusedBytesLabel:"未使用的位元組"}};!function(){function e(){return o||(o=new Promise((function(e,t){var o=indexedDB.open("keyval-store",1);o.onerror=function(){t(o.error)},o.onupgradeneeded=function(){o.result.createObjectStore("keyval")},o.onsuccess=function(){e(o.result)}}))),o}function t(t,o){return e().then((function(e){return new Promise((function(i,n){var r=e.transaction("keyval",t);r.oncomplete=function(){i()},r.onerror=function(){n(r.error)},o(r.objectStore("keyval"))}))}))}var o,i={get:function(e){var o;return t("readonly",(function(t){o=t.get(e)})).then((function(){return o.result}))},set:function(e,o){return t("readwrite",(function(t){t.put(o,e)}))},delete:function(e){return t("readwrite",(function(t){t.delete(e)}))},clear:function(){return t("readwrite",(function(e){e.clear()}))},keys:function(){var e=[];return t("readonly",(function(t){(t.openKeyCursor||t.openCursor).call(t).onsuccess=function(){this.result&&(e.push(this.result.key),this.result.continue())}})).then((function(){return e}))}};"undefined"!=typeof module&&module.exports?module.exports=i:self.idbKeyval=i}(),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).EventTargetShim={})}(this,(function(e){function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var o=0;o<t.length;o++){var i=t[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function n(e,t,o){return t&&i(e.prototype,t),o&&i(e,o),e}function r(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function s(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,i)}return o}function a(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?s(Object(o),!0).forEach((function(t){r(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):s(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function h(e,t,o){return(h=d()?Reflect.construct:function(e,t,o){var i=[null];i.push.apply(i,t);var n=new(Function.bind.apply(e,i));return o&&c(n,o.prototype),n}).apply(null,arguments)}function p(e){var t="function"==typeof Map?new Map:void 0;return(p=function(e){if(null===e||(o=e,-1===Function.toString.call(o).indexOf("[native code]")))return e;var o;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,i)}function i(){return h(e,arguments,u(this).constructor)}return i.prototype=Object.create(e.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),c(i,e)})(e)}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?m(e):t}function g(e){var t=d();return function(){var o,i=u(e);if(t){var n=u(this).constructor;o=Reflect.construct(i,arguments,n)}else o=i.apply(this,arguments);return f(this,o)}}function b(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=u(e)););return e}function v(e,t,o){return(v="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,o){var i=b(e,t);if(i){var n=Object.getOwnPropertyDescriptor(i,t);return n.get?n.get.call(o):n.value}})(e,t,o||e)}function y(e,t,o,i){return(y="undefined"!=typeof Reflect&&Reflect.set?Reflect.set:function(e,t,o,i){var n,s=b(e,t);if(s){if((n=Object.getOwnPropertyDescriptor(s,t)).set)return n.set.call(i,o),!0;if(!n.writable)return!1}if(n=Object.getOwnPropertyDescriptor(i,t)){if(!n.writable)return!1;n.value=o,Object.defineProperty(i,t,n)}else r(i,t,o);return!0})(e,t,o,i)}function w(e,t,o,i,n){if(!y(e,t,o,i||e)&&n)throw new Error("failed to set property");return o}function C(e,t){(null==t||t>e.length)&&(t=e.length);for(var o=0,i=new Array(t);o<t;o++)i[o]=e[o];return i}function E(e,t){if(!e){for(var o=arguments.length,i=new Array(o>2?o-2:0),n=2;n<o;n++)i[n-2]=arguments[n];throw new TypeError(T(t,i))}}function T(e,t){var o=0;return e.replace(/%[os]/g,(function(){return R(t[o++])}))}function R(e){return"object"!==t(e)||null===e?String(e):Object.prototype.toString.call(e)}var L,_,M="undefined"!=typeof window?window:"undefined"!=typeof self?self:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:void 0,k=function(){function e(t,i){o(this,e),this.code=t,this.message=i}return n(e,[{key:"warn",value:function(){var e;try{for(var t,o=arguments.length,i=new Array(o),n=0;n<o;n++)i[n]=arguments[n];if(_)return void _(a(a({},this),{},{args:i}));var r=(null!==(e=(new Error).stack)&&void 0!==e?e:"").replace(/^(?:(?:[\0-\t\x0B\f\x0E-\u2027\u202A-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+?\n){2}/g,"\n");(t=console).warn.apply(t,[this.message].concat(i,[r]))}catch(e){}}}]),e}(),D=new k("W01","Unable to initialize event under dispatching."),x=new k("W02","Assigning any falsy value to 'cancelBubble' property has no effect."),S=new k("W03","Assigning any truthy value to 'returnValue' property has no effect."),N=new k("W04","Unable to preventDefault on non-cancelable events."),I=new k("W05","Unable to preventDefault inside passive event listener invocation."),B=new k("W06","An event listener wasn't added because it has been added already: %o, %o"),A=new k("W07","The %o option value was abandoned because the event listener wasn't added as duplicated."),P=new k("W08","The 'callback' argument must be a function or an object that has 'handleEvent' method: %o"),O=new k("W09","Event attribute handler must be a function: %o"),z=function(){function e(t,i){o(this,e),Object.defineProperty(this,"isTrusted",{value:!1,enumerable:!0});var n=null!=i?i:{};V.set(this,{type:String(t),bubbles:Boolean(n.bubbles),cancelable:Boolean(n.cancelable),composed:Boolean(n.composed),target:null,currentTarget:null,stopPropagationFlag:!1,stopImmediatePropagationFlag:!1,canceledFlag:!1,inPassiveListenerFlag:!1,dispatchFlag:!1,timeStamp:Date.now()})}return n(e,null,[{key:"NONE",get:function(){return H}},{key:"CAPTURING_PHASE",get:function(){return F}},{key:"AT_TARGET",get:function(){return j}},{key:"BUBBLING_PHASE",get:function(){return U}}]),n(e,[{key:"composedPath",value:function(){var e=W(this).currentTarget;return e?[e]:[]}},{key:"stopPropagation",value:function(){W(this).stopPropagationFlag=!0}},{key:"stopImmediatePropagation",value:function(){var e=W(this);e.stopPropagationFlag=e.stopImmediatePropagationFlag=!0}},{key:"preventDefault",value:function(){G(W(this))}},{key:"initEvent",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=W(this);i.dispatchFlag?D.warn():V.set(this,a(a({},i),{},{type:String(e),bubbles:Boolean(t),cancelable:Boolean(o),target:null,currentTarget:null,stopPropagationFlag:!1,stopImmediatePropagationFlag:!1,canceledFlag:!1}))}},{key:"type",get:function(){return W(this).type}},{key:"target",get:function(){return W(this).target}},{key:"srcElement",get:function(){return W(this).target}},{key:"currentTarget",get:function(){return W(this).currentTarget}},{key:"NONE",get:function(){return H}},{key:"CAPTURING_PHASE",get:function(){return F}},{key:"AT_TARGET",get:function(){return j}},{key:"BUBBLING_PHASE",get:function(){return U}},{key:"eventPhase",get:function(){return W(this).dispatchFlag?2:0}},{key:"cancelBubble",get:function(){return W(this).stopPropagationFlag},set:function(e){e?W(this).stopPropagationFlag=!0:x.warn()}},{key:"bubbles",get:function(){return W(this).bubbles}},{key:"cancelable",get:function(){return W(this).cancelable}},{key:"returnValue",get:function(){return!W(this).canceledFlag},set:function(e){e?S.warn():G(W(this))}},{key:"defaultPrevented",get:function(){return W(this).canceledFlag}},{key:"composed",get:function(){return W(this).composed}},{key:"isTrusted",get:function(){return!1}},{key:"timeStamp",get:function(){return W(this).timeStamp}}]),e}(),H=0,F=1,j=2,U=3,V=new WeakMap;function W(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"this",o=V.get(e);return E(null!=o,"'%s' must be an object that Event constructor created, but got another one: %o",t,e),o}function G(e){e.inPassiveListenerFlag?I.warn():e.cancelable?e.canceledFlag=!0:N.warn()}Object.defineProperty(z,"NONE",{enumerable:!0}),Object.defineProperty(z,"CAPTURING_PHASE",{enumerable:!0}),Object.defineProperty(z,"AT_TARGET",{enumerable:!0}),Object.defineProperty(z,"BUBBLING_PHASE",{enumerable:!0});for(var q,$=Object.getOwnPropertyNames(z.prototype),K=0;K<$.length;++K)"constructor"!==$[K]&&Object.defineProperty(z.prototype,$[K],{enumerable:!0});void 0!==M&&void 0!==M.Event&&Object.setPrototypeOf(z.prototype,M.Event.prototype);var Z={INDEX_SIZE_ERR:1,DOMSTRING_SIZE_ERR:2,HIERARCHY_REQUEST_ERR:3,WRONG_DOCUMENT_ERR:4,INVALID_CHARACTER_ERR:5,NO_DATA_ALLOWED_ERR:6,NO_MODIFICATION_ALLOWED_ERR:7,NOT_FOUND_ERR:8,NOT_SUPPORTED_ERR:9,INUSE_ATTRIBUTE_ERR:10,INVALID_STATE_ERR:11,SYNTAX_ERR:12,INVALID_MODIFICATION_ERR:13,NAMESPACE_ERR:14,INVALID_ACCESS_ERR:15,VALIDATION_ERR:16,TYPE_MISMATCH_ERR:17,SECURITY_ERR:18,NETWORK_ERR:19,ABORT_ERR:20,URL_MISMATCH_ERR:21,QUOTA_EXCEEDED_ERR:22,TIMEOUT_ERR:23,INVALID_NODE_TYPE_ERR:24,DATA_CLONE_ERR:25};function J(e){for(var t=Object.keys(Z),o=function(o){var i=t[o],n=Z[i];Object.defineProperty(e,i,{get:function(){return n},configurable:!0,enumerable:!0})},i=0;i<t.length;++i)o(i)}var X=function(e){l(i,e);var t=g(i);function i(e){var n,r,s;o(this,i),s=t.call(this,e.type,{bubbles:e.bubbles,cancelable:e.cancelable,composed:e.composed}),e.cancelBubble&&v((n=m(s),u(i.prototype)),"stopPropagation",n).call(n),e.defaultPrevented&&v((r=m(s),u(i.prototype)),"preventDefault",r).call(r),Y.set(m(s),{original:e});for(var a=Object.keys(e),l=0;l<a.length;++l){var c=a[l];c in m(s)||Object.defineProperty(m(s),c,oe(e,c))}return s}return n(i,null,[{key:"wrap",value:function(e){return new(te(e))(e)}}]),n(i,[{key:"stopPropagation",value:function(){v(u(i.prototype),"stopPropagation",this).call(this);var e=Q(this).original;"stopPropagation"in e&&e.stopPropagation()}},{key:"stopImmediatePropagation",value:function(){v(u(i.prototype),"stopImmediatePropagation",this).call(this);var e=Q(this).original;"stopImmediatePropagation"in e&&e.stopImmediatePropagation()}},{key:"preventDefault",value:function(){v(u(i.prototype),"preventDefault",this).call(this);var e=Q(this).original;"preventDefault"in e&&e.preventDefault()}},{key:"cancelBubble",get:function(){return v(u(i.prototype),"cancelBubble",this)},set:function(e){w(u(i.prototype),"cancelBubble",e,this,!0);var t=Q(this).original;"cancelBubble"in t&&(t.cancelBubble=e)}},{key:"returnValue",get:function(){return v(u(i.prototype),"returnValue",this)},set:function(e){w(u(i.prototype),"returnValue",e,this,!0);var t=Q(this).original;"returnValue"in t&&(t.returnValue=e)}},{key:"timeStamp",get:function(){var e=Q(this).original;return"timeStamp"in e?e.timeStamp:v(u(i.prototype),"timeStamp",this)}}]),i}(z),Y=new WeakMap;function Q(e){var t=Y.get(e);return E(null!=t,"'this' is expected an Event object, but got",e),t}var ee=new WeakMap;function te(e){var t=Object.getPrototypeOf(e);if(null==t)return X;var i=ee.get(t);return null==i&&(i=function(e,t){for(var i=function(e){l(i,e);var t=g(i);function i(){return o(this,i),t.apply(this,arguments)}return i}(e),n=Object.keys(t),r=0;r<n.length;++r)Object.defineProperty(i.prototype,n[r],oe(t,n[r]));return i}(te(t),t),ee.set(t,i)),i}function oe(e,t){var o=Object.getOwnPropertyDescriptor(e,t);return{get:function(){var e=Q(this).original,o=e[t];return"function"==typeof o?o.bind(e):o},set:function(e){Q(this).original[t]=e},configurable:o.configurable,enumerable:o.enumerable}}function ie(e){e.flags|=8}function ne(e){return 1==(1&e.flags)}function re(e){return 2==(2&e.flags)}function se(e){return 4==(4&e.flags)}function ae(e){return 8==(8&e.flags)}function le(e,t,o){var i=e.callback;try{"function"==typeof i?i.call(t,o):"function"==typeof i.handleEvent&&i.handleEvent(o)}catch(e){!function(e){try{var t=e instanceof Error?e:new Error(R(e));if(L)return void L(t);if("function"==typeof dispatchEvent&&"function"==typeof ErrorEvent)dispatchEvent(new ErrorEvent("error",{error:t,message:t.message}));else if("undefined"!=typeof process&&"function"==typeof process.emit)return void process.emit("uncaughtException",t);console.error(t)}catch(e){}}(e)}}function ue(e,t,o){for(var i=e.listeners,n=0;n<i.length;++n)if(i[n].callback===t&&ne(i[n])===o)return n;return-1}function ce(e,t,o,i,n,r){var s;r&&(s=de.bind(null,e,t,o),r.addEventListener("abort",s));var a=function(e,t,o,i,n,r){return{callback:e,flags:(t?1:0)|(o?2:0)|(i?4:0),signal:n,signalListener:r}}(t,o,i,n,r,s);return e.cow?(e.cow=!1,e.listeners=[].concat(function(e){return function(e){if(Array.isArray(e))return C(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return C(e,t);var o=Object.prototype.toString.call(e).slice(8,-1);return"Object"===o&&e.constructor&&(o=e.constructor.name),"Map"===o||"Set"===o?Array.from(e):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?C(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(e.listeners),[a])):e.listeners.push(a),a}function de(e,t,o){var i=ue(e,t,o);return-1!==i&&he(e,i)}function he(e,t){var o=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=e.listeners[t];return ie(i),i.signal&&i.signal.removeEventListener("abort",i.signalListener),e.cow&&!o?(e.cow=!1,e.listeners=e.listeners.filter((function(e,o){return o!==t})),!1):(e.listeners.splice(t,1),!0)}function pe(e,t){var o;return null!==(o=e[t])&&void 0!==o?o:e[t]={attrCallback:void 0,attrListener:void 0,cow:!1,listeners:[]}}ee.set(Object.prototype,X),void 0!==M&&void 0!==M.Event&&ee.set(M.Event.prototype,X);var me=function(){function e(){o(this,e),fe.set(this,Object.create(null))}return n(e,[{key:"addEventListener",value:function(e,o,i){var n=ge(this),r=function(e,o,i){var n;return be(o),"object"===t(i)&&null!==i?{type:String(e),callback:null!=o?o:void 0,capture:Boolean(i.capture),passive:Boolean(i.passive),once:Boolean(i.once),signal:null!==(n=i.signal)&&void 0!==n?n:void 0}:{type:String(e),callback:null!=o?o:void 0,capture:Boolean(i),passive:!1,once:!1,signal:void 0}}(e,o,i),s=r.callback,a=r.capture,l=r.once,u=r.passive,c=r.signal,d=r.type;if(null!=s&&!(null==c?void 0:c.aborted)){var h=pe(n,d),p=ue(h,s,a);-1===p?ce(h,s,a,u,l,c):function(e,t,o,i){B.warn(ne(e)?"capture":"bubble",e.callback),re(e)!==t&&A.warn("passive"),se(e)!==o&&A.warn("once"),e.signal!==i&&A.warn("signal")}(h.listeners[p],u,l,c)}}},{key:"removeEventListener",value:function(e,o,i){var n=ge(this),r=function(e,o,i){return be(o),"object"===t(i)&&null!==i?{type:String(e),callback:null!=o?o:void 0,capture:Boolean(i.capture)}:{type:String(e),callback:null!=o?o:void 0,capture:Boolean(i)}}(e,o,i),s=r.callback,a=r.capture,l=n[r.type];null!=s&&l&&de(l,s,a)}},{key:"dispatchEvent",value:function(e){var t=ge(this)[String(e.type)];if(null==t)return!0;var i,r=e instanceof z?e:X.wrap(e),s=W(r,"event");if(s.dispatchFlag)throw i="This event has been in dispatching.",M.DOMException?new M.DOMException(i,"InvalidStateError"):(null==q&&(q=function(e){l(i,e);var t=g(i);function i(e){var n;return o(this,i),n=t.call(this,e),Error.captureStackTrace&&Error.captureStackTrace(m(n),i),n}return n(i,[{key:"code",get:function(){return 11}},{key:"name",get:function(){return"InvalidStateError"}}]),i}(p(Error)),Object.defineProperties(q.prototype,{code:{enumerable:!0},name:{enumerable:!0}}),J(q),J(q.prototype)),new q(i));if(s.dispatchFlag=!0,s.target=s.currentTarget=this,!s.stopPropagationFlag){var a=t.cow,u=t.listeners;t.cow=!0;for(var c=0;c<u.length;++c){var d=u[c];if(!ae(d)&&(se(d)&&he(t,c,!a)&&(c-=1),s.inPassiveListenerFlag=re(d),le(d,this,r),s.inPassiveListenerFlag=!1,s.stopImmediatePropagationFlag))break}a||(t.cow=!1)}return s.target=null,s.currentTarget=null,s.stopImmediatePropagationFlag=!1,s.stopPropagationFlag=!1,s.dispatchFlag=!1,!s.canceledFlag}}]),e}(),fe=new WeakMap;function ge(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"this",o=fe.get(e);return E(null!=o,"'%s' must be an object that EventTarget constructor created, but got another one: %o",t,e),o}function be(e){if("function"!=typeof e&&("object"!==t(e)||null===e||"function"!=typeof e.handleEvent)){if(null!=e&&"object"!==t(e))throw new TypeError(T(P.message,[e]));P.warn(e)}}for(var ve=Object.getOwnPropertyNames(me.prototype),ye=0;ye<ve.length;++ye)"constructor"!==ve[ye]&&Object.defineProperty(me.prototype,ve[ye],{enumerable:!0});function we(e,t){var o,i;return null!==(i=null===(o=ge(e,"target")[t])||void 0===o?void 0:o.attrCallback)&&void 0!==i?i:null}function Ce(e,o,i){null!=i&&"function"!=typeof i&&O.warn(i),"function"==typeof i||"object"===t(i)&&null!==i?function(e,t,o){var i=pe(ge(e,"target"),String(t));i.attrCallback=o,null==i.attrListener&&(i.attrListener=ce(i,function(e){return function(t){var o=e.attrCallback;"function"==typeof o&&o.call(this,t)}}(i),!1,!1,!1,void 0))}(e,o,i):function(e,t){var o=ge(e,"target")[String(t)];o&&o.attrListener&&(de(o,o.attrListener.callback,!1),o.attrCallback=o.attrListener=void 0)}(e,o)}function Ee(e,t,o){Object.defineProperty(e,"on".concat(t),{get:function(){return we(this,t)},set:function(e){Ce(this,t,e)},configurable:!0,enumerable:!0})}void 0!==M&&void 0!==M.EventTarget&&Object.setPrototypeOf(me.prototype,M.EventTarget.prototype),e.Event=z,e.EventTarget=me,e.default=me,e.defineCustomEventTarget=function(){for(var e=function(e){l(i,e);var t=g(i);function i(){return o(this,i),t.apply(this,arguments)}return i}(me),t=0;t<arguments.length;++t)Ee(e.prototype,t<0||arguments.length<=t?void 0:arguments[t]);return e},e.defineEventAttribute=Ee,e.getEventAttributeValue=we,e.setErrorHandler=function(e){E("function"==typeof e||void 0===e,"The error handler must be a function or undefined, but got %o.",e),L=e},e.setEventAttributeValue=Ce,e.setWarningHandler=function(e){E("function"==typeof e||void 0===e,"The warning handler must be a function or undefined, but got %o.",e),_=e},Object.defineProperty(e,"__esModule",{value:!0})}));var webtreemap=function(e){const t="webtreemap-node";function o(e){return e.classList.contains(t)}function i(e){let t=0,i=e;for(;i=i.previousElementSibling;)o(i)&&t++;return t}function n(e){let t=[],n=e;for(;n&&o(n);)t.unshift(i(n)),n=n.parentElement;return t.shift(),t}function r(e){return Math.round(e)+"px"}class s{constructor(e,t){this.node=e,this.options=function(e){const t={padding:e.padding||[14,3,3,3],spacing:e.spacing||0,lowerBound:void 0===e.lowerBound?.1:e.lowerBound,applyMutations:e.applyMutations||(()=>null),caption:e.caption||(e=>e.id||""),showNode:e.showNode||((e,o,i)=>o>20&&i>=t.padding[0]),showChildren:e.showChildren||((e,t,o)=>t>40&&o>40)};return t}(t)}ensureDOM(e){if(e.dom)return e.dom;const o=document.createElement("div");if(o.className=t,o.setAttribute("role","treeitem"),o.tabIndex=-1,this.options.caption){const t=document.createElement("div");t.className="webtreemap-caption",t.textContent=this.options.caption(e),o.appendChild(t)}return e.dom=o,this.options.applyMutations(e),o}selectSpan(e,t,o){let i=e[o].size,n=i,r=0,s=0,a=o;for(;a<e.length;a++){const o=e[a].size;o<i&&(i=o),o>n&&(n=o);const l=r+o,u=Math.max(n*t*t/(l*l),l*l/(i*t*t));if(s&&u>s)break;s=u,r=l}return{end:a,sum:r}}layoutChildren(e,t,o,i){const n=e.size,s=e.children;if(!s)return;let a=-1,l=-1,u=o-1,c=i-1;const d=this.options.spacing,h=this.options.padding;l+=h[0],h[1]&&(u-=h[1]+1),c-=h[2],a+=h[3];let p=0;if(this.options.showChildren(e,u-a,c-l)){const o=Math.sqrt(n/((u-a)*(c-l)));var m=a,f=l;e:for(let i=0;i<s.length;){m=a;const l=o*(u-a),{end:c,sum:h}=this.selectSpan(s,l,i);if(h/n<this.options.lowerBound)break;const g=h/l,b=Math.round(g/o)+1;for(p=i;p<c;p++){const i=s[p],n=i.size/g,a=Math.round(n/o)+1;if(!this.options.showNode(i,a-d,b-d))break e;const l=null==i.dom,u=this.ensureDOM(i),c=u.style;c.left=r(m),c.width=r(a-d),c.top=r(f),c.height=r(b-d),u.setAttribute("aria-level",(t+1).toString()),l&&e.dom.appendChild(u),this.associateCaptionWithLabelledBy(u),this.layoutChildren(i,t+1,a,b),m+=a-1}f+=b-1,i=c}}for(;p<s.length&&s[p].dom;p++)s[p].dom.parentNode.removeChild(s[p].dom),s[p].dom=void 0}render(e){const t=this.ensureDOM(this.node);t.onclick=e=>{let t=e.target;for(;!o(t);)if(t=t.parentElement,!t)return;let i=n(t);this.zoom(i)},t.onkeydown=e=>{if(!(e.target instanceof HTMLElement))return;let o;switch(e.key){case"Enter":const i=n(e.target);return void this.zoom(i);case"ArrowUp":if(o=e.target.parentElement,o===t.parentElement)return;break;case"ArrowDown":o=e.target.querySelector(".webtreemap-node");break;case"ArrowLeft":o=e.target.previousElementSibling;break;case"ArrowRight":o=e.target.nextElementSibling}if(!o)return;if(!o.matches(".webtreemap-node"))return;o=o;const i=Array.from(t.querySelectorAll('*[tabindex="0"]'));for(const e of i)e.tabIndex=-1;e.preventDefault(),o.tabIndex=0,o.focus()},e.appendChild(t),this.layout(this.node,e),this.associateCaptionWithLabelledBy(t),t.tabIndex=0,t.setAttribute("role","tree")}layout(e,t){const o=t.offsetWidth,i=t.offsetHeight;e.dom.style.width=o+"px",e.dom.style.height=i+"px",this.layoutChildren(this.node,0,o,i)}zoom(e){let t=this.node;const[o,i,n,s]=this.options.padding;let a=t.dom.offsetWidth,l=t.dom.offsetHeight;for(const u of e){if(a-=s+i,l-=o+n,!t.children)throw new Error("bad address");for(const e of t.children)e.dom&&(e.dom.style.zIndex="0");t=t.children[u];const e=t.dom.style;e.zIndex="1",e.left=r(s-1),e.width=r(a),e.top=r(o-1),e.height=r(l)}this.layoutChildren(t,0,a,l)}associateCaptionWithLabelledBy(e){const t="_wtm-cap-"+n(e).join("-");e.firstElementChild.id=t,e.setAttribute("aria-labelledby",t)}}return e.TreeMap=s,e.flatten=function e(t,o=((e,t)=>`${e}/${t}`)){if(t.children){for(const i of t.children)e(i,o);if(1===t.children.length){const e=t.children[0];t.id+="/"+e.id,t.children=e.children}}},e.getAddress=n,e.isDOMNode=o,e.render=function(e,t,o){new s(t,o).render(e)},e.rollup=function e(t){if(!t.children)return;let o=0;for(const i of t.children)e(i),o+=i.size;o>t.size&&(t.size=o)},e.sort=function e(t){if(t.children){for(const o of t.children)e(o);t.children.sort(((e,t)=>t.size-e.size))}},e.treeify=function(e){const t={size:0};for(const[o,i]of e){const e=o.replace(/\/$/,"").split("/");let n=t;for(;e.length>0;){const t=e.shift();n.children||(n.children=[]);let r=n.children.find((e=>e.id===t));if(r||(r={id:t,size:0},n.children.push(r)),0===e.length){if(0!==r.size)throw new Error(`duplicate path ${o} ${r.size}`);r.size=i}n=r}}return t},e}({}),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Array.prototype.findIndex||Object.defineProperty(Array.prototype,"findIndex",{value:function(e){if(null==this)throw new TypeError('"this" is null or not defined');var t=Object(this),o=t.length>>>0;if("function"!=typeof e)throw new TypeError("predicate must be a function");for(var i=arguments[1],n=0;n<o;){var r=t[n];if(e.call(i,r,n,t))return n;n++}return-1}}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(e){if(null==this)throw new TypeError('"this" is null or not defined');var t=Object(this),o=t.length>>>0;if("function"!=typeof e)throw new TypeError("predicate must be a function");for(var i=arguments[1],n=0;n<o;){var r=t[n];if(e.call(i,r,n,t))return r;n++}}}),String.prototype.includes||(String.prototype.includes=function(e,t){if(e instanceof RegExp)throw TypeError("first argument must not be a RegExp");return void 0===t&&(t=0),-1!==this.indexOf(e,t)}),Array.prototype.includes||Object.defineProperty(Array.prototype,"includes",{value:function(e,t){if(null==this)throw new TypeError('"this" is null or not defined');var o=Object(this),i=o.length>>>0;if(0===i)return!1;var n=0|t,r=Math.max(n>=0?n:i-Math.abs(n),0);function s(e,t){return e===t||"number"==typeof e&&"number"==typeof t&&isNaN(e)&&isNaN(t)}for(;r<i;){if(s(o[r],e))return!0;r++}return!1}}),"function"!=typeof Object.assign&&Object.defineProperty(Object,"assign",{value:function(e,t){if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var o=Object(e),i=1;i<arguments.length;i++){var n=arguments[i];if(null!=n)for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(o[r]=n[r])}return o},writable:!0,configurable:!0});var ColumnManager=function(e){this.table=e,this.blockHozScrollEvent=!1,this.headersElement=this.createHeadersElement(),this.element=this.createHeaderElement(),this.rowManager=null,this.columns=[],this.columnsByIndex=[],this.columnsByField={},this.scrollLeft=0,this.element.insertBefore(this.headersElement,this.element.firstChild)};ColumnManager.prototype.createHeadersElement=function(){var e=document.createElement("div");return e.classList.add("tabulator-headers"),e},ColumnManager.prototype.createHeaderElement=function(){var e=document.createElement("div");return e.classList.add("tabulator-header"),this.table.options.headerVisible||e.classList.add("tabulator-header-hidden"),e},ColumnManager.prototype.initialize=function(){},ColumnManager.prototype.setRowManager=function(e){this.rowManager=e},ColumnManager.prototype.getElement=function(){return this.element},ColumnManager.prototype.getHeadersElement=function(){return this.headersElement},ColumnManager.prototype.scrollHorizontal=function(e){var t=0,o=this.element.scrollWidth-this.table.element.clientWidth;this.element.scrollLeft=e,e>o?(t=e-o,this.element.style.marginLeft=-t+"px"):this.element.style.marginLeft=0,this.scrollLeft=e,this.table.modExists("frozenColumns")&&this.table.modules.frozenColumns.scrollHorizontal()},ColumnManager.prototype.generateColumnsFromRowData=function(e){var t,o,i=[],n=this.table.options.autoColumnsDefinitions;if(e&&e.length){for(var r in t=e[0]){var s={field:r,title:r},a=t[r];switch(void 0===a?"undefined":_typeof(a)){case"undefined":o="string";break;case"boolean":o="boolean";break;case"object":o=Array.isArray(a)?"array":"string";break;default:o=isNaN(a)||""===a?a.match(/((^[0-9]+[a-z]+)|(^[a-z]+[0-9]+))+$/i)?"alphanum":"string":"number"}s.sorter=o,i.push(s)}if(n)switch(void 0===n?"undefined":_typeof(n)){case"function":this.table.options.columns=n.call(this.table,i);break;case"object":Array.isArray(n)?i.forEach((function(e){var t=n.find((function(t){return t.field===e.field}));t&&Object.assign(e,t)})):i.forEach((function(e){n[e.field]&&Object.assign(e,n[e.field])})),this.table.options.columns=i}else this.table.options.columns=i;this.setColumns(this.table.options.columns)}},ColumnManager.prototype.setColumns=function(e,t){for(var o=this;o.headersElement.firstChild;)o.headersElement.removeChild(o.headersElement.firstChild);o.columns=[],o.columnsByIndex=[],o.columnsByField={},o.table.modExists("frozenColumns")&&o.table.modules.frozenColumns.reset(),e.forEach((function(e,t){o._addColumn(e)})),o._reIndexColumns(),o.table.options.responsiveLayout&&o.table.modExists("responsiveLayout",!0)&&o.table.modules.responsiveLayout.initialize(),this.table.options.virtualDomHoz&&this.table.vdomHoz.reinitialize(!1,!0),o.redraw(!0)},ColumnManager.prototype._addColumn=function(e,t,o){var i=new Column(e,this),n=i.getElement(),r=o?this.findColumnIndex(o):o;if(o&&r>-1){var s=this.columns.indexOf(o.getTopColumn()),a=o.getElement();t?(this.columns.splice(s,0,i),a.parentNode.insertBefore(n,a)):(this.columns.splice(s+1,0,i),a.parentNode.insertBefore(n,a.nextSibling))}else t?(this.columns.unshift(i),this.headersElement.insertBefore(i.getElement(),this.headersElement.firstChild)):(this.columns.push(i),this.headersElement.appendChild(i.getElement())),i.columnRendered();return i},ColumnManager.prototype.registerColumnField=function(e){e.definition.field&&(this.columnsByField[e.definition.field]=e)},ColumnManager.prototype.registerColumnPosition=function(e){this.columnsByIndex.push(e)},ColumnManager.prototype._reIndexColumns=function(){this.columnsByIndex=[],this.columns.forEach((function(e){e.reRegisterPosition()}))},ColumnManager.prototype._verticalAlignHeaders=function(){var e=this,t=0;e.columns.forEach((function(e){var o;e.clearVerticalAlign(),(o=e.getHeight())>t&&(t=o)})),e.columns.forEach((function(o){o.verticalAlign(e.table.options.columnHeaderVertAlign,t)})),e.rowManager.adjustTableSize()},ColumnManager.prototype.findColumn=function(e){return"object"!=(void 0===e?"undefined":_typeof(e))?this.columnsByField[e]||!1:e instanceof Column?e:e instanceof ColumnComponent?e._getSelf()||!1:"undefined"!=typeof HTMLElement&&e instanceof HTMLElement&&this.columns.find((function(t){return t.element===e}))||!1},ColumnManager.prototype.getColumnByField=function(e){return this.columnsByField[e]},ColumnManager.prototype.getColumnsByFieldRoot=function(e){var t=this,o=[];return Object.keys(this.columnsByField).forEach((function(i){i.split(".")[0]===e&&o.push(t.columnsByField[i])})),o},ColumnManager.prototype.getColumnByIndex=function(e){return this.columnsByIndex[e]},ColumnManager.prototype.getFirstVisibileColumn=function(e){return(e=this.columnsByIndex.findIndex((function(e){return e.visible})))>-1&&this.columnsByIndex[e]},ColumnManager.prototype.getColumns=function(){return this.columns},ColumnManager.prototype.findColumnIndex=function(e){return this.columnsByIndex.findIndex((function(t){return e===t}))},ColumnManager.prototype.getRealColumns=function(){return this.columnsByIndex},ColumnManager.prototype.traverse=function(e){this.columnsByIndex.forEach((function(t,o){e(t,o)}))},ColumnManager.prototype.getDefinitions=function(e){var t=[];return this.columnsByIndex.forEach((function(o){(!e||e&&o.visible)&&t.push(o.getDefinition())})),t},ColumnManager.prototype.getDefinitionTree=function(){var e=[];return this.columns.forEach((function(t){e.push(t.getDefinition(!0))})),e},ColumnManager.prototype.getComponents=function(e){var t=[];return(e?this.columns:this.columnsByIndex).forEach((function(e){t.push(e.getComponent())})),t},ColumnManager.prototype.getWidth=function(){var e=0;return this.columnsByIndex.forEach((function(t){t.visible&&(e+=t.getWidth())})),e},ColumnManager.prototype.moveColumn=function(e,t,o){this.moveColumnActual(e,t,o),this.table.options.responsiveLayout&&this.table.modExists("responsiveLayout",!0)&&this.table.modules.responsiveLayout.initialize(),this.table.modExists("columnCalcs")&&this.table.modules.columnCalcs.recalc(this.table.rowManager.activeRows),t.element.parentNode.insertBefore(e.element,t.element),o&&t.element.parentNode.insertBefore(t.element,e.element),this._verticalAlignHeaders(),this.table.rowManager.reinitialize()},ColumnManager.prototype.moveColumnActual=function(e,t,o){e.parent.isGroup?this._moveColumnInArray(e.parent.columns,e,t,o):this._moveColumnInArray(this.columns,e,t,o),this._moveColumnInArray(this.columnsByIndex,e,t,o,!0),this.table.options.responsiveLayout&&this.table.modExists("responsiveLayout",!0)&&this.table.modules.responsiveLayout.initialize(),this.table.options.virtualDomHoz&&this.table.vdomHoz.reinitialize(!0),this.table.options.columnMoved&&this.table.options.columnMoved.call(this.table,e.getComponent(),this.table.columnManager.getComponents()),this.table.options.persistence&&this.table.modExists("persistence",!0)&&this.table.modules.persistence.config.columns&&this.table.modules.persistence.save("columns")},ColumnManager.prototype._moveColumnInArray=function(e,t,o,i,n){var r,s=this,a=e.indexOf(t),l=[];a>-1&&(e.splice(a,1),(r=e.indexOf(o))>-1?i&&(r+=1):r=a,e.splice(r,0,t),n&&(this.table.options.dataTree&&this.table.modExists("dataTree",!0)&&this.table.rowManager.rows.forEach((function(e){l=l.concat(s.table.modules.dataTree.getTreeChildren(e,!1,!0))})),(l=l.concat(this.table.rowManager.rows)).forEach((function(e){if(e.cells.length){var t=e.cells.splice(a,1)[0];e.cells.splice(r,0,t)}}))))},ColumnManager.prototype.scrollToColumn=function(e,t,o){var i=this,n=0,r=0,s=0,a=e.getElement();return new Promise((function(l,u){if(void 0===t&&(t=i.table.options.scrollToColumnPosition),void 0===o&&(o=i.table.options.scrollToColumnIfVisible),e.visible){switch(t){case"middle":case"center":s=-i.element.clientWidth/2;break;case"right":s=a.clientWidth-i.headersElement.clientWidth}if(!o&&(r=a.offsetLeft)>0&&r+a.offsetWidth<i.element.clientWidth)return!1;n=a.offsetLeft+s,n=Math.max(Math.min(n,i.table.rowManager.element.scrollWidth-i.table.rowManager.element.clientWidth),0),i.table.rowManager.scrollHorizontal(n),i.scrollHorizontal(n),l()}else console.warn("Scroll Error - Column not visible"),u("Scroll Error - Column not visible")}))},ColumnManager.prototype.generateCells=function(e){var t=[];return this.columnsByIndex.forEach((function(o){t.push(o.generateCell(e))})),t},ColumnManager.prototype.getFlexBaseWidth=function(){var e=this,t=e.table.element.clientWidth,o=0;return e.rowManager.element.scrollHeight>e.rowManager.element.clientHeight&&(t-=e.rowManager.element.offsetWidth-e.rowManager.element.clientWidth),this.columnsByIndex.forEach((function(i){var n,r,s;i.visible&&(n=i.definition.width||0,r=void 0===i.minWidth?e.table.options.columnMinWidth:parseInt(i.minWidth),s="string"==typeof n?n.indexOf("%")>-1?t/100*parseInt(n):parseInt(n):n,o+=s>r?s:r)})),o},ColumnManager.prototype.addColumn=function(e,t,o){var i=this;return new Promise((function(n,r){var s=i._addColumn(e,t,o);i._reIndexColumns(),i.table.options.responsiveLayout&&i.table.modExists("responsiveLayout",!0)&&i.table.modules.responsiveLayout.initialize(),i.table.modExists("columnCalcs")&&i.table.modules.columnCalcs.recalc(i.table.rowManager.activeRows),i.redraw(!0),"fitColumns"!=i.table.modules.layout.getMode()&&s.reinitializeWidth(),i._verticalAlignHeaders(),i.table.rowManager.reinitialize(),i.table.options.virtualDomHoz&&i.table.vdomHoz.reinitialize(),n(s)}))},ColumnManager.prototype.deregisterColumn=function(e){var t,o=e.getField();o&&delete this.columnsByField[o],(t=this.columnsByIndex.indexOf(e))>-1&&this.columnsByIndex.splice(t,1),(t=this.columns.indexOf(e))>-1&&this.columns.splice(t,1),this.table.options.responsiveLayout&&this.table.modExists("responsiveLayout",!0)&&this.table.modules.responsiveLayout.initialize(),this._verticalAlignHeaders(),this.redraw()},ColumnManager.prototype.redraw=function(e){e&&(Tabulator.prototype.helpers.elVisible(this.element)&&this._verticalAlignHeaders(),this.table.rowManager.resetScroll(),this.table.rowManager.reinitialize()),["fitColumns","fitDataStretch"].indexOf(this.table.modules.layout.getMode())>-1||e?this.table.modules.layout.layout():this.table.options.responsiveLayout&&this.table.modExists("responsiveLayout",!0)&&this.table.modules.responsiveLayout.update(),this.table.modExists("frozenColumns")&&this.table.modules.frozenColumns.layout(),this.table.modExists("columnCalcs")&&this.table.modules.columnCalcs.recalc(this.table.rowManager.activeRows),e&&(this.table.options.persistence&&this.table.modExists("persistence",!0)&&this.table.modules.persistence.config.columns&&this.table.modules.persistence.save("columns"),this.table.modExists("columnCalcs")&&this.table.modules.columnCalcs.redraw()),this.table.footerManager.redraw()};var ColumnComponent=function(e){this._column=e,this.type="ColumnComponent"};ColumnComponent.prototype.getElement=function(){return this._column.getElement()},ColumnComponent.prototype.getDefinition=function(){return this._column.getDefinition()},ColumnComponent.prototype.getField=function(){return this._column.getField()},ColumnComponent.prototype.getCells=function(){var e=[];return this._column.cells.forEach((function(t){e.push(t.getComponent())})),e},ColumnComponent.prototype.getVisibility=function(){return console.warn("getVisibility function is deprecated, you should now use the isVisible function"),this._column.visible},ColumnComponent.prototype.isVisible=function(){return this._column.visible},ColumnComponent.prototype.show=function(){this._column.isGroup?this._column.columns.forEach((function(e){e.show()})):this._column.show()},ColumnComponent.prototype.hide=function(){this._column.isGroup?this._column.columns.forEach((function(e){e.hide()})):this._column.hide()},ColumnComponent.prototype.toggle=function(){this._column.visible?this.hide():this.show()},ColumnComponent.prototype.delete=function(){return this._column.delete()},ColumnComponent.prototype.getSubColumns=function(){var e=[];return this._column.columns.length&&this._column.columns.forEach((function(t){e.push(t.getComponent())})),e},ColumnComponent.prototype.getParentColumn=function(){return this._column.parent instanceof Column&&this._column.parent.getComponent()},ColumnComponent.prototype._getSelf=function(){return this._column},ColumnComponent.prototype.scrollTo=function(){return this._column.table.columnManager.scrollToColumn(this._column)},ColumnComponent.prototype.getTable=function(){return this._column.table},ColumnComponent.prototype.headerFilterFocus=function(){this._column.table.modExists("filter",!0)&&this._column.table.modules.filter.setHeaderFilterFocus(this._column)},ColumnComponent.prototype.reloadHeaderFilter=function(){this._column.table.modExists("filter",!0)&&this._column.table.modules.filter.reloadHeaderFilter(this._column)},ColumnComponent.prototype.getHeaderFilterValue=function(){if(this._column.table.modExists("filter",!0))return this._column.table.modules.filter.getHeaderFilterValue(this._column)},ColumnComponent.prototype.setHeaderFilterValue=function(e){this._column.table.modExists("filter",!0)&&this._column.table.modules.filter.setHeaderFilterValue(this._column,e)},ColumnComponent.prototype.move=function(e,t){var o=this._column.table.columnManager.findColumn(e);o?this._column.table.columnManager.moveColumn(this._column,o,t):console.warn("Move Error - No matching column found:",o)},ColumnComponent.prototype.getNextColumn=function(){var e=this._column.nextColumn();return!!e&&e.getComponent()},ColumnComponent.prototype.getPrevColumn=function(){var e=this._column.prevColumn();return!!e&&e.getComponent()},ColumnComponent.prototype.updateDefinition=function(e){return this._column.updateDefinition(e)},ColumnComponent.prototype.getWidth=function(){return this._column.getWidth()},ColumnComponent.prototype.setWidth=function(e){var t;return t=!0===e?this._column.reinitializeWidth(!0):this._column.setWidth(e),this._column.table.options.virtualDomHoz&&this._column.table.vdomHoz.reinitialize(!0),t},ColumnComponent.prototype.validate=function(){return this._column.validate()};var Column=function e(t,o){var i=this;this.table=o.table,this.definition=t,this.parent=o,this.type="column",this.columns=[],this.cells=[],this.element=this.createElement(),this.contentElement=!1,this.titleHolderElement=!1,this.titleElement=!1,this.groupElement=this.createGroupElement(),this.isGroup=!1,this.tooltip=!1,this.hozAlign="",this.vertAlign="",this.field="",this.fieldStructure="",this.getFieldValue="",this.setFieldValue="",this.titleFormatterRendered=!1,this.setField(this.definition.field),this.table.options.invalidOptionWarnings&&this.checkDefinition(),this.modules={},this.cellEvents={cellClick:!1,cellDblClick:!1,cellContext:!1,cellTap:!1,cellDblTap:!1,cellTapHold:!1,cellMouseEnter:!1,cellMouseLeave:!1,cellMouseOver:!1,cellMouseOut:!1,cellMouseMove:!1},this.width=null,this.widthStyled="",this.maxWidth=null,this.maxWidthStyled="",this.minWidth=null,this.minWidthStyled="",this.widthFixed=!1,this.visible=!0,this.component=null,this._mapDepricatedFunctionality(),t.columns?(this.isGroup=!0,t.columns.forEach((function(t,o){var n=new e(t,i);i.attachColumn(n)})),i.checkColumnVisibility()):o.registerColumnField(this),t.rowHandle&&!1!==this.table.options.movableRows&&this.table.modExists("moveRow")&&this.table.modules.moveRow.setHandle(!0),this._buildHeader(),this.bindModuleColumns()};Column.prototype.createElement=function(){var e=document.createElement("div");return e.classList.add("tabulator-col"),e.setAttribute("role","columnheader"),e.setAttribute("aria-sort","none"),e},Column.prototype.createGroupElement=function(){var e=document.createElement("div");return e.classList.add("tabulator-col-group-cols"),e},Column.prototype.checkDefinition=function(){var e=this;Object.keys(this.definition).forEach((function(t){-1===e.defaultOptionList.indexOf(t)&&console.warn("Invalid column definition option in '"+(e.field||e.definition.title)+"' column:",t)}))},Column.prototype.setField=function(e){this.field=e,this.fieldStructure=e?this.table.options.nestedFieldSeparator?e.split(this.table.options.nestedFieldSeparator):[e]:[],this.getFieldValue=this.fieldStructure.length>1?this._getNestedData:this._getFlatData,this.setFieldValue=this.fieldStructure.length>1?this._setNestedData:this._setFlatData},Column.prototype.registerColumnPosition=function(e){this.parent.registerColumnPosition(e)},Column.prototype.registerColumnField=function(e){this.parent.registerColumnField(e)},Column.prototype.reRegisterPosition=function(){this.isGroup?this.columns.forEach((function(e){e.reRegisterPosition()})):this.registerColumnPosition(this)},Column.prototype._mapDepricatedFunctionality=function(){void 0!==this.definition.hideInHtml&&(this.definition.htmlOutput=!this.definition.hideInHtml,console.warn("hideInHtml column definition property is deprecated, you should now use htmlOutput")),void 0!==this.definition.align&&(this.definition.hozAlign=this.definition.align,console.warn("align column definition property is deprecated, you should now use hozAlign")),void 0!==this.definition.downloadTitle&&(this.definition.titleDownload=this.definition.downloadTitle,console.warn("downloadTitle definition property is deprecated, you should now use titleDownload"))},Column.prototype.setTooltip=function(){var e=this,t=e.definition,o=t.headerTooltip||!1===t.tooltip?t.headerTooltip:e.table.options.tooltipsHeader;o?!0===o?t.field?e.table.modules.localize.bind("columns|"+t.field,(function(o){e.element.setAttribute("title",o||t.title)})):e.element.setAttribute("title",t.title):("function"==typeof o&&!1===(o=o(e.getComponent()))&&(o=""),e.element.setAttribute("title",o)):e.element.setAttribute("title","")},Column.prototype._buildHeader=function(){for(var e=this,t=e.definition;e.element.firstChild;)e.element.removeChild(e.element.firstChild);t.headerVertical&&(e.element.classList.add("tabulator-col-vertical"),"flip"===t.headerVertical&&e.element.classList.add("tabulator-col-vertical-flip")),e.contentElement=e._bindEvents(),e.contentElement=e._buildColumnHeaderContent(),e.element.appendChild(e.contentElement),e.isGroup?e._buildGroupHeader():e._buildColumnHeader(),e.setTooltip(),e.table.options.resizableColumns&&e.table.modExists("resizeColumns")&&e.table.modules.resizeColumns.initializeColumn("header",e,e.element),t.headerFilter&&e.table.modExists("filter")&&e.table.modExists("edit")&&(void 0!==t.headerFilterPlaceholder&&t.field&&e.table.modules.localize.setHeaderFilterColumnPlaceholder(t.field,t.headerFilterPlaceholder),e.table.modules.filter.initializeColumn(e)),e.table.modExists("frozenColumns")&&e.table.modules.frozenColumns.initializeColumn(e),e.table.options.movableColumns&&!e.isGroup&&e.table.modExists("moveColumn")&&e.table.modules.moveColumn.initializeColumn(e),(t.topCalc||t.bottomCalc)&&e.table.modExists("columnCalcs")&&e.table.modules.columnCalcs.initializeColumn(e),e.table.modExists("persistence")&&e.table.modules.persistence.config.columns&&e.table.modules.persistence.initializeColumn(e),e.element.addEventListener("mouseenter",(function(t){e.setTooltip()}))},Column.prototype._bindEvents=function(){var e,t,o,i=this,n=i.definition;"function"==typeof n.headerClick&&i.element.addEventListener("click",(function(e){n.headerClick(e,i.getComponent())})),"function"==typeof n.headerDblClick&&i.element.addEventListener("dblclick",(function(e){n.headerDblClick(e,i.getComponent())})),"function"==typeof n.headerContext&&i.element.addEventListener("contextmenu",(function(e){n.headerContext(e,i.getComponent())})),"function"==typeof n.headerTap&&(o=!1,i.element.addEventListener("touchstart",(function(e){o=!0}),{passive:!0}),i.element.addEventListener("touchend",(function(e){o&&n.headerTap(e,i.getComponent()),o=!1}))),"function"==typeof n.headerDblTap&&(e=null,i.element.addEventListener("touchend",(function(t){e?(clearTimeout(e),e=null,n.headerDblTap(t,i.getComponent())):e=setTimeout((function(){clearTimeout(e),e=null}),300)}))),"function"==typeof n.headerTapHold&&(t=null,i.element.addEventListener("touchstart",(function(e){clearTimeout(t),t=setTimeout((function(){clearTimeout(t),t=null,o=!1,n.headerTapHold(e,i.getComponent())}),1e3)}),{passive:!0}),i.element.addEventListener("touchend",(function(e){clearTimeout(t),t=null}))),"function"==typeof n.cellClick&&(i.cellEvents.cellClick=n.cellClick),"function"==typeof n.cellDblClick&&(i.cellEvents.cellDblClick=n.cellDblClick),"function"==typeof n.cellContext&&(i.cellEvents.cellContext=n.cellContext),"function"==typeof n.cellMouseEnter&&(i.cellEvents.cellMouseEnter=n.cellMouseEnter),"function"==typeof n.cellMouseLeave&&(i.cellEvents.cellMouseLeave=n.cellMouseLeave),"function"==typeof n.cellMouseOver&&(i.cellEvents.cellMouseOver=n.cellMouseOver),"function"==typeof n.cellMouseOut&&(i.cellEvents.cellMouseOut=n.cellMouseOut),"function"==typeof n.cellMouseMove&&(i.cellEvents.cellMouseMove=n.cellMouseMove),"function"==typeof n.cellTap&&(i.cellEvents.cellTap=n.cellTap),"function"==typeof n.cellDblTap&&(i.cellEvents.cellDblTap=n.cellDblTap),"function"==typeof n.cellTapHold&&(i.cellEvents.cellTapHold=n.cellTapHold),"function"==typeof n.cellEdited&&(i.cellEvents.cellEdited=n.cellEdited),"function"==typeof n.cellEditing&&(i.cellEvents.cellEditing=n.cellEditing),"function"==typeof n.cellEditCancelled&&(i.cellEvents.cellEditCancelled=n.cellEditCancelled)},Column.prototype._buildColumnHeader=function(){var e=this,t=this.definition,o=this.table;(o.modExists("sort")&&o.modules.sort.initializeColumn(this,this.titleHolderElement),(t.headerContextMenu||t.headerClickMenu||t.headerMenu)&&o.modExists("menu")&&o.modules.menu.initializeColumnHeader(this),o.modExists("format")&&o.modules.format.initializeColumn(this),void 0!==t.editor&&o.modExists("edit")&&o.modules.edit.initializeColumn(this),void 0!==t.validator&&o.modExists("validate")&&o.modules.validate.initializeColumn(this),o.modExists("mutator")&&o.modules.mutator.initializeColumn(this),o.modExists("accessor")&&o.modules.accessor.initializeColumn(this),_typeof(o.options.responsiveLayout)&&o.modExists("responsiveLayout")&&o.modules.responsiveLayout.initializeColumn(this),void 0!==t.visible&&(t.visible?this.show(!0):this.hide(!0)),t.cssClass)&&t.cssClass.split(" ").forEach((function(t){e.element.classList.add(t)}));t.field&&this.element.setAttribute("tabulator-field",t.field),this.setMinWidth(void 0===t.minWidth?this.table.options.columnMinWidth:parseInt(t.minWidth)),(t.maxWidth||this.table.options.columnMaxWidth)&&!1!==t.maxWidth&&this.setMaxWidth(void 0===t.maxWidth?this.table.options.columnMaxWidth:parseInt(t.maxWidth)),this.reinitializeWidth(),this.tooltip=this.definition.tooltip||!1===this.definition.tooltip?this.definition.tooltip:this.table.options.tooltips,this.hozAlign=void 0===this.definition.hozAlign?this.table.options.cellHozAlign:this.definition.hozAlign,this.vertAlign=void 0===this.definition.vertAlign?this.table.options.cellVertAlign:this.definition.vertAlign,this.titleElement.style.textAlign=this.definition.headerHozAlign||this.table.options.headerHozAlign},Column.prototype._buildColumnHeaderContent=function(){this.definition,this.table;var e=document.createElement("div");return e.classList.add("tabulator-col-content"),this.titleHolderElement=document.createElement("div"),this.titleHolderElement.classList.add("tabulator-col-title-holder"),e.appendChild(this.titleHolderElement),this.titleElement=this._buildColumnHeaderTitle(),this.titleHolderElement.appendChild(this.titleElement),e},Column.prototype._buildColumnHeaderTitle=function(){var e=this,t=e.definition,o=e.table,i=document.createElement("div");if(i.classList.add("tabulator-col-title"),t.editableTitle){var n=document.createElement("input");n.classList.add("tabulator-title-editor"),n.addEventListener("click",(function(e){e.stopPropagation(),n.focus()})),n.addEventListener("change",(function(){t.title=n.value,o.options.columnTitleChanged.call(e.table,e.getComponent())})),i.appendChild(n),t.field?o.modules.localize.bind("columns|"+t.field,(function(e){n.value=e||t.title||"&nbsp;"})):n.value=t.title||"&nbsp;"}else t.field?o.modules.localize.bind("columns|"+t.field,(function(o){e._formatColumnHeaderTitle(i,o||t.title||"&nbsp;")})):e._formatColumnHeaderTitle(i,t.title||"&nbsp;");return i},Column.prototype._formatColumnHeaderTitle=function(e,t){var o,i,n,r,s,a=this;if(this.definition.titleFormatter&&this.table.modExists("format"))switch(o=this.table.modules.format.getFormatter(this.definition.titleFormatter),s=function(e){a.titleFormatterRendered=e},r={getValue:function(){return t},getElement:function(){return e}},n="function"==typeof(n=this.definition.titleFormatterParams||{})?n():n,void 0===(i=o.call(this.table.modules.format,r,n,s))?"undefined":_typeof(i)){case"object":i instanceof Node?e.appendChild(i):(e.innerHTML="",console.warn("Format Error - Title formatter has returned a type of object, the only valid formatter object return is an instance of Node, the formatter returned:",i));break;case"undefined":case"null":e.innerHTML="";break;default:e.innerHTML=i}else e.innerHTML=t},Column.prototype._buildGroupHeader=function(){var e=this;(this.element.classList.add("tabulator-col-group"),this.element.setAttribute("role","columngroup"),this.element.setAttribute("aria-title",this.definition.title),this.definition.cssClass)&&this.definition.cssClass.split(" ").forEach((function(t){e.element.classList.add(t)}));(this.definition.headerContextMenu||this.definition.headerMenu)&&this.table.modExists("menu")&&this.table.modules.menu.initializeColumnHeader(this),this.titleElement.style.textAlign=this.definition.headerHozAlign||this.table.options.headerHozAlign,this.element.appendChild(this.groupElement)},Column.prototype._getFlatData=function(e){return e[this.field]},Column.prototype._getNestedData=function(e){for(var t,o=e,i=this.fieldStructure,n=i.length,r=0;r<n&&(t=o=o[i[r]],o);r++);return t},Column.prototype._setFlatData=function(e,t){this.field&&(e[this.field]=t)},Column.prototype._setNestedData=function(e,t){for(var o=e,i=this.fieldStructure,n=i.length,r=0;r<n;r++)if(r==n-1)o[i[r]]=t;else{if(!o[i[r]]){if(void 0===t)break;o[i[r]]={}}o=o[i[r]]}},Column.prototype.attachColumn=function(e){var t=this;t.groupElement?(t.columns.push(e),t.groupElement.appendChild(e.getElement())):console.warn("Column Warning - Column being attached to another column instead of column group")},Column.prototype.verticalAlign=function(e,t){var o=this.parent.isGroup?this.parent.getGroupElement().clientHeight:t||this.parent.getHeadersElement().clientHeight;this.element.style.height=o+"px",this.isGroup&&(this.groupElement.style.minHeight=o-this.contentElement.offsetHeight+"px"),this.isGroup||"top"===e||(this.element.style.paddingTop="bottom"===e?this.element.clientHeight-this.contentElement.offsetHeight+"px":(this.element.clientHeight-this.contentElement.offsetHeight)/2+"px"),this.columns.forEach((function(t){t.verticalAlign(e)}))},Column.prototype.clearVerticalAlign=function(){this.element.style.paddingTop="",this.element.style.height="",this.element.style.minHeight="",this.groupElement.style.minHeight="",this.columns.forEach((function(e){e.clearVerticalAlign()}))},Column.prototype.bindModuleColumns=function(){"rownum"==this.definition.formatter&&(this.table.rowManager.rowNumColumn=this)},Column.prototype.getElement=function(){return this.element},Column.prototype.getGroupElement=function(){return this.groupElement},Column.prototype.getField=function(){return this.field},Column.prototype.getFirstColumn=function(){return this.isGroup?!!this.columns.length&&this.columns[0].getFirstColumn():this},Column.prototype.getLastColumn=function(){return this.isGroup?!!this.columns.length&&this.columns[this.columns.length-1].getLastColumn():this},Column.prototype.getColumns=function(){return this.columns},Column.prototype.getCells=function(){return this.cells},Column.prototype.getTopColumn=function(){return this.parent.isGroup?this.parent.getTopColumn():this},Column.prototype.getDefinition=function(e){var t=[];return this.isGroup&&e&&(this.columns.forEach((function(e){t.push(e.getDefinition(!0))})),this.definition.columns=t),this.definition},Column.prototype.checkColumnVisibility=function(){var e=!1;this.columns.forEach((function(t){t.visible&&(e=!0)})),e?(this.show(),this.parent.table.options.columnVisibilityChanged.call(this.table,this.getComponent(),!1)):this.hide()},Column.prototype.show=function(e,t){this.visible||(this.visible=!0,this.element.style.display="",this.parent.isGroup&&this.parent.checkColumnVisibility(),this.cells.forEach((function(e){e.show()})),this.isGroup||null!==this.width||this.reinitializeWidth(),this.table.columnManager._verticalAlignHeaders(),this.table.options.persistence&&this.table.modExists("persistence",!0)&&this.table.modules.persistence.config.columns&&this.table.modules.persistence.save("columns"),!t&&this.table.options.responsiveLayout&&this.table.modExists("responsiveLayout",!0)&&this.table.modules.responsiveLayout.updateColumnVisibility(this,this.visible),e||this.table.options.columnVisibilityChanged.call(this.table,this.getComponent(),!0),this.parent.isGroup&&this.parent.matchChildWidths(),!this.silent&&this.table.options.virtualDomHoz&&this.table.vdomHoz.reinitialize())},Column.prototype.hide=function(e,t){this.visible&&(this.visible=!1,this.element.style.display="none",this.table.columnManager._verticalAlignHeaders(),this.parent.isGroup&&this.parent.checkColumnVisibility(),this.cells.forEach((function(e){e.hide()})),this.table.options.persistence&&this.table.modExists("persistence",!0)&&this.table.modules.persistence.config.columns&&this.table.modules.persistence.save("columns"),!t&&this.table.options.responsiveLayout&&this.table.modExists("responsiveLayout",!0)&&this.table.modules.responsiveLayout.updateColumnVisibility(this,this.visible),e||this.table.options.columnVisibilityChanged.call(this.table,this.getComponent(),!1),this.parent.isGroup&&this.parent.matchChildWidths(),!this.silent&&this.table.options.virtualDomHoz&&this.table.vdomHoz.reinitialize())},Column.prototype.matchChildWidths=function(){var e=0;this.contentElement&&this.columns.length&&(this.columns.forEach((function(t){t.visible&&(e+=t.getWidth())})),this.contentElement.style.maxWidth=e-1+"px",this.parent.isGroup&&this.parent.matchChildWidths())},Column.prototype.removeChild=function(e){var t=this.columns.indexOf(e);t>-1&&this.columns.splice(t,1),this.columns.length||this.delete()},Column.prototype.setWidth=function(e){this.widthFixed=!0,this.setWidthActual(e)},Column.prototype.setWidthActual=function(e){isNaN(e)&&(e=Math.floor(this.table.element.clientWidth/100*parseInt(e))),e=Math.max(this.minWidth,e),this.maxWidth&&(e=Math.min(this.maxWidth,e)),this.width=e,this.widthStyled=e?e+"px":"",this.element.style.width=this.widthStyled,this.isGroup||this.cells.forEach((function(e){e.setWidth()})),this.parent.isGroup&&this.parent.matchChildWidths(),this.table.modExists("frozenColumns")&&this.table.modules.frozenColumns.layout()},Column.prototype.checkCellHeights=function(){var e=[];this.cells.forEach((function(t){t.row.heightInitialized&&(null!==t.row.getElement().offsetParent?(e.push(t.row),t.row.clearCellHeight()):t.row.heightInitialized=!1)})),e.forEach((function(e){e.calcHeight()})),e.forEach((function(e){e.setCellHeight()}))},Column.prototype.getWidth=function(){var e=0;return this.isGroup?this.columns.forEach((function(t){t.visible&&(e+=t.getWidth())})):e=this.width,e},Column.prototype.getHeight=function(){return this.element.offsetHeight},Column.prototype.setMinWidth=function(e){this.minWidth=e,this.minWidthStyled=e?e+"px":"",this.element.style.minWidth=this.minWidthStyled,this.cells.forEach((function(e){e.setMinWidth()}))},Column.prototype.setMaxWidth=function(e){this.maxWidth=e,this.maxWidthStyled=e?e+"px":"",this.element.style.maxWidth=this.maxWidthStyled,this.cells.forEach((function(e){e.setMaxWidth()}))},Column.prototype.delete=function(){var e=this;return new Promise((function(t,o){e.isGroup&&e.columns.forEach((function(e){e.delete()})),e.table.modExists("edit")&&e.table.modules.edit.currentCell.column===e&&e.table.modules.edit.cancelEdit();for(var i=e.cells.length,n=0;n<i;n++)e.cells[0].delete();e.element.parentNode&&e.element.parentNode.removeChild(e.element),e.element=!1,e.contentElement=!1,e.titleElement=!1,e.groupElement=!1,e.parent.isGroup&&e.parent.removeChild(e),e.table.columnManager.deregisterColumn(e),e.table.options.virtualDomHoz&&e.table.vdomHoz.reinitialize(!0),t()}))},Column.prototype.columnRendered=function(){this.titleFormatterRendered&&this.titleFormatterRendered()},Column.prototype.validate=function(){var e=[];return this.cells.forEach((function(t){t.validate()||e.push(t.getComponent())})),!e.length||e},Column.prototype.generateCell=function(e){var t=new Cell(this,e);return this.cells.push(t),t},Column.prototype.nextColumn=function(){var e=this.table.columnManager.findColumnIndex(this);return e>-1&&this._nextVisibleColumn(e+1)},Column.prototype._nextVisibleColumn=function(e){var t=this.table.columnManager.getColumnByIndex(e);return!t||t.visible?t:this._nextVisibleColumn(e+1)},Column.prototype.prevColumn=function(){var e=this.table.columnManager.findColumnIndex(this);return e>-1&&this._prevVisibleColumn(e-1)},Column.prototype._prevVisibleColumn=function(e){var t=this.table.columnManager.getColumnByIndex(e);return!t||t.visible?t:this._prevVisibleColumn(e-1)},Column.prototype.reinitializeWidth=function(e){this.widthFixed=!1,void 0===this.definition.width||e||this.setWidth(this.definition.width),this.table.modExists("filter")&&this.table.modules.filter.hideHeaderFilterElements(),this.fitToData(),this.table.modExists("filter")&&this.table.modules.filter.showHeaderFilterElements()},Column.prototype.fitToData=function(){var e=this;this.widthFixed||(this.element.style.width="",e.cells.forEach((function(e){e.clearWidth()})));var t=this.element.offsetWidth;e.width&&this.widthFixed||(e.cells.forEach((function(e){var o=e.getWidth();o>t&&(t=o)})),t&&e.setWidthActual(t+1))},Column.prototype.updateDefinition=function(e){var t=this;return new Promise((function(o,i){var n;t.isGroup||t.parent.isGroup?(console.warn("Column Update Error - The updateDefinition function is only available on ungrouped columns"),i("Column Update Error - The updateDefinition function is only available on columns, not column groups")):(n=Object.assign({},t.getDefinition()),n=Object.assign(n,e),t.table.columnManager.addColumn(n,!1,t).then((function(e){n.field==t.field&&(t.field=!1),t.delete().then((function(){o(e.getComponent())})).catch((function(e){i(e)}))})).catch((function(e){i(e)})))}))},Column.prototype.deleteCell=function(e){var t=this.cells.indexOf(e);t>-1&&this.cells.splice(t,1)},Column.prototype.defaultOptionList=["title","field","columns","visible","align","hozAlign","vertAlign","width","minWidth","maxWidth","widthGrow","widthShrink","resizable","frozen","responsive","tooltip","cssClass","rowHandle","hideInHtml","print","htmlOutput","sorter","sorterParams","formatter","formatterParams","variableHeight","editable","editor","editorParams","validator","mutator","mutatorParams","mutatorData","mutatorDataParams","mutatorEdit","mutatorEditParams","mutatorClipboard","mutatorClipboardParams","accessor","accessorParams","accessorData","accessorDataParams","accessorDownload","accessorDownloadParams","accessorClipboard","accessorClipboardParams","accessorPrint","accessorPrintParams","accessorHtmlOutput","accessorHtmlOutputParams","clipboard","download","downloadTitle","topCalc","topCalcParams","topCalcFormatter","topCalcFormatterParams","bottomCalc","bottomCalcParams","bottomCalcFormatter","bottomCalcFormatterParams","cellClick","cellDblClick","cellContext","cellTap","cellDblTap","cellTapHold","cellMouseEnter","cellMouseLeave","cellMouseOver","cellMouseOut","cellMouseMove","cellEditing","cellEdited","cellEditCancelled","headerSort","headerSortStartingDir","headerSortTristate","headerClick","headerDblClick","headerContext","headerTap","headerDblTap","headerTapHold","headerTooltip","headerVertical","headerHozAlign","editableTitle","titleFormatter","titleFormatterParams","headerFilter","headerFilterPlaceholder","headerFilterParams","headerFilterEmptyCheck","headerFilterFunc","headerFilterFuncParams","headerFilterLiveFilter","print","headerContextMenu","headerMenu","contextMenu","clickMenu","formatterPrint","formatterPrintParams","formatterClipboard","formatterClipboardParams","formatterHtmlOutput","formatterHtmlOutputParams","titlePrint","titleClipboard","titleHtmlOutput","titleDownload"],Column.prototype.getComponent=function(){return this.component||(this.component=new ColumnComponent(this)),this.component};var RowManager=function(e){this.table=e,this.element=this.createHolderElement(),this.tableElement=this.createTableElement(),this.heightFixer=this.createTableElement(),this.columnManager=null,this.height=0,this.firstRender=!1,this.renderMode="virtual",this.fixedHeight=!1,this.rows=[],this.activeRows=[],this.activeRowsCount=0,this.displayRows=[],this.displayRowsCount=0,this.scrollTop=0,this.scrollLeft=0,this.vDomRowHeight=20,this.vDomTop=0,this.vDomBottom=0,this.vDomScrollPosTop=0,this.vDomScrollPosBottom=0,this.vDomTopPad=0,this.vDomBottomPad=0,this.vDomMaxRenderChain=90,this.vDomWindowBuffer=0,this.vDomWindowMinTotalRows=20,this.vDomWindowMinMarginRows=5,this.vDomTopNewRows=[],this.vDomBottomNewRows=[],this.rowNumColumn=!1,this.redrawBlock=!1,this.redrawBlockRestoreConfig=!1,this.redrawBlockRederInPosition=!1};RowManager.prototype.createHolderElement=function(){var e=document.createElement("div");return e.classList.add("tabulator-tableHolder"),e.setAttribute("tabindex",0),e},RowManager.prototype.createTableElement=function(){var e=document.createElement("div");return e.classList.add("tabulator-table"),e},RowManager.prototype.getElement=function(){return this.element},RowManager.prototype.getTableElement=function(){return this.tableElement},RowManager.prototype.getRowPosition=function(e,t){return t?this.activeRows.indexOf(e):this.rows.indexOf(e)},RowManager.prototype.setColumnManager=function(e){this.columnManager=e},RowManager.prototype.initialize=function(){var e=this;e.setRenderMode(),e.element.appendChild(e.tableElement),e.firstRender=!0,e.element.addEventListener("scroll",(function(){var t=e.element.scrollLeft;e.scrollLeft!=t&&(e.columnManager.scrollHorizontal(t),e.table.options.groupBy&&e.table.modules.groupRows.scrollHeaders(t),e.table.modExists("columnCalcs")&&e.table.modules.columnCalcs.scrollHorizontal(t),e.table.options.scrollHorizontal(t)),e.scrollLeft=t})),"virtual"===this.renderMode&&e.element.addEventListener("scroll",(function(){var t=e.element.scrollTop,o=e.scrollTop>t;e.scrollTop!=t?(e.scrollTop=t,e.scrollVertical(o),"scroll"==e.table.options.ajaxProgressiveLoad&&e.table.modules.ajax.nextPage(e.element.scrollHeight-e.element.clientHeight-t),e.table.options.scrollVertical(t)):e.scrollTop=t}))},RowManager.prototype.findRow=function(e){var t=this;return"object"!=(void 0===e?"undefined":_typeof(e))?null!=e&&(t.rows.find((function(o){return o.data[t.table.options.index]==e}))||!1):e instanceof Row?e:e instanceof RowComponent?e._getSelf()||!1:"undefined"!=typeof HTMLElement&&e instanceof HTMLElement&&t.rows.find((function(t){return t.getElement()===e}))||!1},RowManager.prototype.getRowFromDataObject=function(e){return this.rows.find((function(t){return t.data===e}))||!1},RowManager.prototype.getRowFromPosition=function(e,t){return t?this.activeRows[e]:this.rows[e]},RowManager.prototype.scrollToRow=function(e,t,o){var i,n=this,r=this.getDisplayRows().indexOf(e),s=e.getElement(),a=0;return new Promise((function(e,l){if(r>-1){if(void 0===t&&(t=n.table.options.scrollToRowPosition),void 0===o&&(o=n.table.options.scrollToRowIfVisible),"nearest"===t)switch(n.renderMode){case"classic":i=Tabulator.prototype.helpers.elOffset(s).top,t=Math.abs(n.element.scrollTop-i)>Math.abs(n.element.scrollTop+n.element.clientHeight-i)?"bottom":"top";break;case"virtual":t=Math.abs(n.vDomTop-r)>Math.abs(n.vDomBottom-r)?"bottom":"top"}if(!o&&Tabulator.prototype.helpers.elVisible(s)&&(a=Tabulator.prototype.helpers.elOffset(s).top-Tabulator.prototype.helpers.elOffset(n.element).top)>0&&a<n.element.clientHeight-s.offsetHeight)return!1;switch(n.renderMode){case"classic":n.element.scrollTop=Tabulator.prototype.helpers.elOffset(s).top-Tabulator.prototype.helpers.elOffset(n.element).top+n.element.scrollTop;break;case"virtual":n._virtualRenderFill(r,!0)}switch(t){case"middle":case"center":n.element.scrollHeight-n.element.scrollTop==n.element.clientHeight?n.element.scrollTop=n.element.scrollTop+(s.offsetTop-n.element.scrollTop)-(n.element.scrollHeight-s.offsetTop)/2:n.element.scrollTop=n.element.scrollTop-n.element.clientHeight/2;break;case"bottom":n.element.scrollHeight-n.element.scrollTop==n.element.clientHeight?n.element.scrollTop=n.element.scrollTop-(n.element.scrollHeight-s.offsetTop)+s.offsetHeight:n.element.scrollTop=n.element.scrollTop-n.element.clientHeight+s.offsetHeight}e()}else console.warn("Scroll Error - Row not visible"),l("Scroll Error - Row not visible")}))},RowManager.prototype.setData=function(e,t,o){var i=this,n=this;return new Promise((function(r,s){t&&i.getDisplayRows().length?n.table.options.pagination?n._setDataActual(e,!0):i.reRenderInPosition((function(){n._setDataActual(e)})):(i.table.options.autoColumns&&o&&i.table.columnManager.generateColumnsFromRowData(e),i.resetScroll(),i._setDataActual(e)),r()}))},RowManager.prototype._setDataActual=function(e,t){var o=this;o.table.options.dataLoading.call(this.table,e),this._wipeElements(),this.table.options.history&&this.table.modExists("history")&&this.table.modules.history.clear(),Array.isArray(e)?(this.table.modExists("selectRow")&&this.table.modules.selectRow.clearSelectionData(),this.table.options.reactiveData&&this.table.modExists("reactiveData",!0)&&this.table.modules.reactiveData.watchData(e),e.forEach((function(e,t){if(e&&"object"===(void 0===e?"undefined":_typeof(e))){var i=new Row(e,o);o.rows.push(i)}else console.warn("Data Loading Warning - Invalid row data detected and ignored, expecting object but received:",e)})),o.refreshActiveData(!1,!1,t),o.table.options.dataLoaded.call(this.table,e)):console.error("Data Loading Error - Unable to process data due to invalid data type \nExpecting: array \nReceived: ",void 0===e?"undefined":_typeof(e),"\nData:     ",e)},RowManager.prototype._wipeElements=function(){this.rows.forEach((function(e){e.wipe()})),this.table.options.groupBy&&this.table.modExists("groupRows")&&this.table.modules.groupRows.wipe(),this.rows=[],this.activeRows=[],this.activeRowsCount=0,this.displayRows=[],this.displayRowsCount=0,this.adjustTableSize()},RowManager.prototype.deleteRow=function(e,t){var o=this.rows.indexOf(e),i=this.activeRows.indexOf(e);i>-1&&this.activeRows.splice(i,1),o>-1&&this.rows.splice(o,1),this.setActiveRows(this.activeRows),this.displayRowIterator((function(t){var o=t.indexOf(e);o>-1&&t.splice(o,1)})),t||this.reRenderInPosition(),this.regenerateRowNumbers(),this.table.options.rowDeleted.call(this.table,e.getComponent()),this.table.options.dataChanged&&this.table.options.dataChanged.call(this.table,this.getData()),this.table.options.groupBy&&this.table.modExists("groupRows")?this.table.modules.groupRows.updateGroupRows(!0):this.table.options.pagination&&this.table.modExists("page")?this.refreshActiveData(!1,!1,!0):this.table.options.pagination&&this.table.modExists("page")&&this.refreshActiveData("page")},RowManager.prototype.addRow=function(e,t,o,i){var n=this.addRowActual(e,t,o,i);return this.table.options.history&&this.table.modExists("history")&&this.table.modules.history.action("rowAdd",n,{data:e,pos:t,index:o}),n},RowManager.prototype.addRows=function(e,t,o){var i=this,n=this,r=[];return new Promise((function(s,a){t=i.findAddRowPos(t),Array.isArray(e)||(e=[e]),e.length-1,(void 0===o&&t||void 0!==o&&!t)&&e.reverse(),e.forEach((function(e,i){var s=n.addRow(e,t,o,!0);r.push(s)})),i.table.options.groupBy&&i.table.modExists("groupRows")?i.table.modules.groupRows.updateGroupRows(!0):i.table.options.pagination&&i.table.modExists("page")?i.refreshActiveData(!1,!1,!0):i.reRenderInPosition(),i.table.modExists("columnCalcs")&&i.table.modules.columnCalcs.recalc(i.table.rowManager.activeRows),i.regenerateRowNumbers(),s(r)}))},RowManager.prototype.findAddRowPos=function(e){return void 0===e&&(e=this.table.options.addRowPos),"pos"===e&&(e=!0),"bottom"===e&&(e=!1),e},RowManager.prototype.addRowActual=function(e,t,o,i){var n,r,s=e instanceof Row?e:new Row(e||{},this),a=this.findAddRowPos(t),l=-1;if(!o&&this.table.options.pagination&&"page"==this.table.options.paginationAddRow&&(r=this.getDisplayRows(),a?r.length?o=r[0]:this.activeRows.length&&(o=this.activeRows[this.activeRows.length-1],a=!1):r.length&&(o=r[r.length-1],a=!(r.length<this.table.modules.page.getPageSize()))),void 0!==o&&(o=this.findRow(o)),this.table.options.groupBy&&this.table.modExists("groupRows")){this.table.modules.groupRows.assignRowToGroup(s);var u=s.getGroup().rows;u.length>1&&(!o||o&&-1==u.indexOf(o)?a?u[0]!==s&&(o=u[0],this._moveRowInArray(s.getGroup().rows,s,o,!a)):u[u.length-1]!==s&&(o=u[u.length-1],this._moveRowInArray(s.getGroup().rows,s,o,!a)):this._moveRowInArray(s.getGroup().rows,s,o,!a))}return o&&(l=this.rows.indexOf(o)),o&&l>-1?(n=this.activeRows.indexOf(o),this.displayRowIterator((function(e){var t=e.indexOf(o);t>-1&&e.splice(a?t:t+1,0,s)})),n>-1&&this.activeRows.splice(a?n:n+1,0,s),this.rows.splice(a?l:l+1,0,s)):a?(this.displayRowIterator((function(e){e.unshift(s)})),this.activeRows.unshift(s),this.rows.unshift(s)):(this.displayRowIterator((function(e){e.push(s)})),this.activeRows.push(s),this.rows.push(s)),this.setActiveRows(this.activeRows),this.table.options.rowAdded.call(this.table,s.getComponent()),this.table.options.dataChanged&&this.table.options.dataChanged.call(this.table,this.getData()),i||this.reRenderInPosition(),s},RowManager.prototype.moveRow=function(e,t,o){this.table.options.history&&this.table.modExists("history")&&this.table.modules.history.action("rowMove",e,{posFrom:this.getRowPosition(e),posTo:this.getRowPosition(t),to:t,after:o}),this.moveRowActual(e,t,o),this.regenerateRowNumbers(),this.table.options.rowMoved.call(this.table,e.getComponent())},RowManager.prototype.moveRowActual=function(e,t,o){var i=this;if(this._moveRowInArray(this.rows,e,t,o),this._moveRowInArray(this.activeRows,e,t,o),this.displayRowIterator((function(n){i._moveRowInArray(n,e,t,o)})),this.table.options.groupBy&&this.table.modExists("groupRows")){!o&&t instanceof Group&&(t=this.table.rowManager.prevDisplayRow(e)||t);var n=t.getGroup(),r=e.getGroup();n===r?this._moveRowInArray(n.rows,e,t,o):(r&&r.removeRow(e),n.insertRow(e,t,o))}},RowManager.prototype._moveRowInArray=function(e,t,o,i){var n,r,s;if(t!==o&&((n=e.indexOf(t))>-1&&(e.splice(n,1),(r=e.indexOf(o))>-1?i?e.splice(r+1,0,t):e.splice(r,0,t):e.splice(n,0,t)),e===this.getDisplayRows())){s=r>n?r:n+1;for(var a=n<r?n:r;a<=s;a++)e[a]&&this.styleRow(e[a],a)}},RowManager.prototype.clearData=function(){this.setData([])},RowManager.prototype.getRowIndex=function(e){return this.findRowIndex(e,this.rows)},RowManager.prototype.getDisplayRowIndex=function(e){var t=this.getDisplayRows().indexOf(e);return t>-1&&t},RowManager.prototype.nextDisplayRow=function(e,t){var o=this.getDisplayRowIndex(e),i=!1;return!1!==o&&o<this.displayRowsCount-1&&(i=this.getDisplayRows()[o+1]),!i||i instanceof Row&&"row"==i.type?i:this.nextDisplayRow(i,t)},RowManager.prototype.prevDisplayRow=function(e,t){var o=this.getDisplayRowIndex(e),i=!1;return o&&(i=this.getDisplayRows()[o-1]),!t||!i||i instanceof Row&&"row"==i.type?i:this.prevDisplayRow(i,t)},RowManager.prototype.findRowIndex=function(e,t){var o;return!!((e=this.findRow(e))&&(o=t.indexOf(e))>-1)&&o},RowManager.prototype.getData=function(e,t){var o=[];return this.getRows(e).forEach((function(e){"row"==e.type&&o.push(e.getData(t||"data"))})),o},RowManager.prototype.getComponents=function(e){var t=[];return this.getRows(e).forEach((function(e){t.push(e.getComponent())})),t},RowManager.prototype.getDataCount=function(e){return this.getRows(e).length},RowManager.prototype._genRemoteRequest=function(){var e=this,t=this.table,o=t.options,i={};if(t.modExists("page")){if(o.ajaxSorting){var n=this.table.modules.sort.getSort();n.forEach((function(e){delete e.column})),i[this.table.modules.page.paginationDataSentNames.sorters]=n}if(o.ajaxFiltering){var r=this.table.modules.filter.getFilters(!0,!0);i[this.table.modules.page.paginationDataSentNames.filters]=r}this.table.modules.ajax.setParams(i,!0)}t.modules.ajax.sendRequest().then((function(t){e._setDataActual(t,!0)})).catch((function(e){}))},RowManager.prototype.filterRefresh=function(){var e=this.table,t=e.options,o=this.scrollLeft;t.ajaxFiltering?"remote"==t.pagination&&e.modExists("page")?(e.modules.page.reset(!0),e.modules.page.setPage(1).then((function(){})).catch((function(){}))):t.ajaxProgressiveLoad?e.modules.ajax.loadData().then((function(){})).catch((function(){})):this._genRemoteRequest():this.refreshActiveData("filter"),this.scrollHorizontal(o)},RowManager.prototype.sorterRefresh=function(e){var t=this.table,o=this.table.options,i=this.scrollLeft;o.ajaxSorting?("remote"==o.pagination||o.progressiveLoad)&&t.modExists("page")?(t.modules.page.reset(!0),t.modules.page.setPage(1).then((function(){})).catch((function(){}))):o.ajaxProgressiveLoad?t.modules.ajax.loadData().then((function(){})).catch((function(){})):this._genRemoteRequest():this.refreshActiveData(e?"filter":"sort"),this.scrollHorizontal(i)},RowManager.prototype.scrollHorizontal=function(e){this.scrollLeft=e,this.element.scrollLeft=e,this.table.options.groupBy&&this.table.modules.groupRows.scrollHeaders(e),this.table.modExists("columnCalcs")&&this.table.modules.columnCalcs.scrollHorizontal(e)},RowManager.prototype.refreshActiveData=function(e,t,o){var i,n=this,r=this.table,s=["all","filter","sort","display","freeze","group","tree","page"];if(this.redrawBlock)(!this.redrawBlockRestoreConfig||s.indexOf(e)<s.indexOf(this.redrawBlockRestoreConfig.stage))&&(this.redrawBlockRestoreConfig={stage:e,skipStage:t,renderInPosition:o});else{switch(n.table.modExists("edit")&&n.table.modules.edit.cancelEdit(),e||(e="all"),r.options.selectable&&!r.options.selectablePersistence&&r.modExists("selectRow")&&r.modules.selectRow.deselectRows(),e){case"all":case"filter":t?t=!1:r.modExists("filter")?n.setActiveRows(r.modules.filter.filter(n.rows)):n.setActiveRows(n.rows.slice(0));case"sort":t?t=!1:r.modExists("sort")&&r.modules.sort.sort(this.activeRows),this.regenerateRowNumbers();case"display":this.resetDisplayRows();case"freeze":t?t=!1:this.table.modExists("frozenRows")&&r.modules.frozenRows.isFrozen()&&(r.modules.frozenRows.getDisplayIndex()||r.modules.frozenRows.setDisplayIndex(this.getNextDisplayIndex()),i=r.modules.frozenRows.getDisplayIndex(),!0!==(i=n.setDisplayRows(r.modules.frozenRows.getRows(this.getDisplayRows(i-1)),i))&&r.modules.frozenRows.setDisplayIndex(i));case"group":t?t=!1:r.options.groupBy&&r.modExists("groupRows")&&(r.modules.groupRows.getDisplayIndex()||r.modules.groupRows.setDisplayIndex(this.getNextDisplayIndex()),i=r.modules.groupRows.getDisplayIndex(),!0!==(i=n.setDisplayRows(r.modules.groupRows.getRows(this.getDisplayRows(i-1)),i))&&r.modules.groupRows.setDisplayIndex(i));case"tree":t?t=!1:r.options.dataTree&&r.modExists("dataTree")&&(r.modules.dataTree.getDisplayIndex()||r.modules.dataTree.setDisplayIndex(this.getNextDisplayIndex()),i=r.modules.dataTree.getDisplayIndex(),!0!==(i=n.setDisplayRows(r.modules.dataTree.getRows(this.getDisplayRows(i-1)),i))&&r.modules.dataTree.setDisplayIndex(i)),r.options.pagination&&r.modExists("page")&&!o&&"local"==r.modules.page.getMode()&&r.modules.page.reset();case"page":t?t=!1:r.options.pagination&&r.modExists("page")&&(r.modules.page.getDisplayIndex()||r.modules.page.setDisplayIndex(this.getNextDisplayIndex()),i=r.modules.page.getDisplayIndex(),"local"==r.modules.page.getMode()&&r.modules.page.setMaxRows(this.getDisplayRows(i-1).length),!0!==(i=n.setDisplayRows(r.modules.page.getRows(this.getDisplayRows(i-1)),i))&&r.modules.page.setDisplayIndex(i))}Tabulator.prototype.helpers.elVisible(n.element)&&(o?n.reRenderInPosition():("all"===e&&this.table.options.virtualDomHoz&&this.table.vdomHoz.dataChange(),n.renderTable(),r.options.layoutColumnsOnNewData&&n.table.columnManager.redraw(!0))),r.modExists("columnCalcs")&&r.modules.columnCalcs.recalc(this.activeRows)}},RowManager.prototype.regenerateRowNumbers=function(){var e=this;this.rowNumColumn&&this.activeRows.forEach((function(t){var o=t.getCell(e.rowNumColumn);o&&o._generateContents()}))},RowManager.prototype.setActiveRows=function(e){this.activeRows=e,this.activeRowsCount=this.activeRows.length},RowManager.prototype.resetDisplayRows=function(){this.displayRows=[],this.displayRows.push(this.activeRows.slice(0)),this.displayRowsCount=this.displayRows[0].length,this.table.modExists("frozenRows")&&this.table.modules.frozenRows.setDisplayIndex(0),this.table.options.groupBy&&this.table.modExists("groupRows")&&this.table.modules.groupRows.setDisplayIndex(0),this.table.options.pagination&&this.table.modExists("page")&&this.table.modules.page.setDisplayIndex(0)},RowManager.prototype.getNextDisplayIndex=function(){return this.displayRows.length},RowManager.prototype.setDisplayRows=function(e,t){var o=!0;return t&&void 0!==this.displayRows[t]?(this.displayRows[t]=e,o=!0):(this.displayRows.push(e),o=t=this.displayRows.length-1),t==this.displayRows.length-1&&(this.displayRowsCount=this.displayRows[this.displayRows.length-1].length),o},RowManager.prototype.getDisplayRows=function(e){return void 0===e?this.displayRows.length?this.displayRows[this.displayRows.length-1]:[]:this.displayRows[e]||[]},RowManager.prototype.getVisibleRows=function(e){var t=this.element.scrollTop,o=this.element.clientHeight+t,i=!1,n=0,r=0,s=this.getDisplayRows();if(e){this.getDisplayRows();for(var a=this.vDomTop;a<=this.vDomBottom;a++)if(s[a])if(i){if(!(o-s[a].getElement().offsetTop>=0))break;r=a}else if(t-s[a].getElement().offsetTop>=0)n=a;else{if(i=!0,!(o-s[a].getElement().offsetTop>=0))break;r=a}}else n=this.vDomTop,r=this.vDomBottom;return s.slice(n,r+1)},RowManager.prototype.displayRowIterator=function(e){this.displayRows.forEach(e),this.displayRowsCount=this.displayRows[this.displayRows.length-1].length},RowManager.prototype.getRows=function(e){var t;switch(e){case"active":t=this.activeRows;break;case"display":t=this.table.rowManager.getDisplayRows();break;case"visible":t=this.getVisibleRows(!0);break;case"selected":t=this.table.modules.selectRow.selectedRows;break;default:t=this.rows}return t},RowManager.prototype.reRenderInPosition=function(e){if("virtual"==this.getRenderMode())if(this.redrawBlock)e?e():this.redrawBlockRederInPosition=!0;else{for(var t=this.element.scrollTop,o=!1,i=!1,n=this.scrollLeft,r=this.getDisplayRows(),s=this.vDomTop;s<=this.vDomBottom;s++)if(r[s]){var a=t-r[s].getElement().offsetTop;if(!(!1===i||Math.abs(a)<i))break;i=a,o=s}e&&e(),this._virtualRenderFill(!1===o?this.displayRowsCount-1:o,!0,i||0),this.scrollHorizontal(n)}else this.renderTable(),e&&e()},RowManager.prototype.setRenderMode=function(){this.table.options.virtualDom?(this.renderMode="virtual",this.table.element.clientHeight||this.table.options.height?this.fixedHeight=!0:this.fixedHeight=!1):this.renderMode="classic"},RowManager.prototype.getRenderMode=function(){return this.renderMode},RowManager.prototype.renderTable=function(){switch(this.table.options.renderStarted.call(this.table),this.element.scrollTop=0,this.renderMode){case"classic":this._simpleRender();break;case"virtual":this._virtualRenderFill()}this.firstRender&&(this.displayRowsCount?(this.firstRender=!1,this.table.modules.layout.layout()):this.renderEmptyScroll()),this.table.modExists("frozenColumns")&&this.table.modules.frozenColumns.layout(),this.displayRowsCount||this.table.options.placeholder&&(this.table.options.placeholder.setAttribute("tabulator-render-mode",this.renderMode),this.getElement().appendChild(this.table.options.placeholder),this.table.options.placeholder.style.width=this.table.columnManager.getWidth()+"px"),this.table.options.renderComplete.call(this.table)},RowManager.prototype._simpleRender=function(){this._clearVirtualDom(),this.displayRowsCount?this.checkClassicModeGroupHeaderWidth():this.renderEmptyScroll()},RowManager.prototype.checkClassicModeGroupHeaderWidth=function(){var e=this,t=this.tableElement,o=!0;e.getDisplayRows().forEach((function(i,n){e.styleRow(i,n),t.appendChild(i.getElement()),i.initialize(!0),"group"!==i.type&&(o=!1)})),t.style.minWidth=o?e.table.columnManager.getWidth()+"px":""},RowManager.prototype.renderEmptyScroll=function(){this.table.options.placeholder?this.tableElement.style.display="none":this.tableElement.style.minWidth=this.table.columnManager.getWidth()+"px"},RowManager.prototype._clearVirtualDom=function(){var e=this.tableElement;for(this.table.options.placeholder&&this.table.options.placeholder.parentNode&&this.table.options.placeholder.parentNode.removeChild(this.table.options.placeholder);e.firstChild;)e.removeChild(e.firstChild);e.style.paddingTop="",e.style.paddingBottom="",e.style.minWidth="",e.style.minHeight="",e.style.display="",e.style.visibility="",this.scrollTop=0,this.scrollLeft=0,this.vDomTop=0,this.vDomBottom=0,this.vDomTopPad=0,this.vDomBottomPad=0},RowManager.prototype.styleRow=function(e,t){var o=e.getElement();t%2?(o.classList.add("tabulator-row-even"),o.classList.remove("tabulator-row-odd")):(o.classList.add("tabulator-row-odd"),o.classList.remove("tabulator-row-even"))},RowManager.prototype._virtualRenderFill=function(e,t,o){var i=this,n=i.tableElement,r=i.element,s=0,a=0,l=0,u=0,c=!0,d=i.getDisplayRows();if(o=o||0,e=e||0){for(;n.firstChild;)n.removeChild(n.firstChild);var h=(i.displayRowsCount-e+1)*i.vDomRowHeight;h<i.height&&(e-=Math.ceil((i.height-h)/i.vDomRowHeight))<0&&(e=0),e-=s=Math.min(Math.max(Math.floor(i.vDomWindowBuffer/i.vDomRowHeight),i.vDomWindowMinMarginRows),e)}else i._clearVirtualDom();if(i.displayRowsCount&&Tabulator.prototype.helpers.elVisible(i.element)){for(i.vDomTop=e,i.vDomBottom=e-1;(a<=i.height+i.vDomWindowBuffer||u<i.vDomWindowMinTotalRows)&&i.vDomBottom<i.displayRowsCount-1;){var p,m=i.vDomBottom+1,f=d[m];i.styleRow(f,m),n.appendChild(f.getElement()),f.initialize(),f.heightInitialized||f.normalizeHeight(!0),p=f.getHeight(),u<s?l+=p:a+=p,p>this.vDomWindowBuffer&&(this.vDomWindowBuffer=2*p),"group"!==f.type&&(c=!1),i.vDomBottom++,u++}e?(i.vDomTopPad=t?i.vDomRowHeight*this.vDomTop+o:i.scrollTop-l,i.vDomBottomPad=i.vDomBottom==i.displayRowsCount-1?0:Math.max(i.vDomScrollHeight-i.vDomTopPad-a-l,0)):(this.vDomTopPad=0,i.vDomRowHeight=Math.floor((a+l)/u),i.vDomBottomPad=i.vDomRowHeight*(i.displayRowsCount-i.vDomBottom-1),i.vDomScrollHeight=l+a+i.vDomBottomPad-i.height),n.style.paddingTop=i.vDomTopPad+"px",n.style.paddingBottom=i.vDomBottomPad+"px",t&&(this.scrollTop=i.vDomTopPad+l+o-(this.element.scrollWidth>this.element.clientWidth?this.element.offsetHeight-this.element.clientHeight:0)),this.scrollTop=Math.min(this.scrollTop,this.element.scrollHeight-this.height),this.element.scrollWidth>this.element.offsetWidth&&t&&(this.scrollTop+=this.element.offsetHeight-this.element.clientHeight),this.vDomScrollPosTop=this.scrollTop,this.vDomScrollPosBottom=this.scrollTop,r.scrollTop=this.scrollTop,n.style.minWidth=c?i.table.columnManager.getWidth()+"px":"",i.table.options.groupBy&&"fitDataFill"!=i.table.modules.layout.getMode()&&i.displayRowsCount==i.table.modules.groupRows.countGroups()&&(i.tableElement.style.minWidth=i.table.columnManager.getWidth())}else this.renderEmptyScroll();this.fixedHeight||this.adjustTableSize()},RowManager.prototype.scrollVertical=function(e){var t=this.scrollTop-this.vDomScrollPosTop,o=this.scrollTop-this.vDomScrollPosBottom,i=2*this.vDomWindowBuffer;if(-t>i||o>i){var n=this.scrollLeft;this._virtualRenderFill(Math.floor(this.element.scrollTop/this.element.scrollHeight*this.displayRowsCount)),this.scrollHorizontal(n)}else e?(t<0&&this._addTopRow(-t),o<0&&(this.vDomScrollHeight-this.scrollTop>this.vDomWindowBuffer?this._removeBottomRow(-o):this.vDomScrollPosBottom=this.scrollTop)):(t>=0&&(this.scrollTop>this.vDomWindowBuffer?this._removeTopRow(t):this.vDomScrollPosTop=this.scrollTop),o>=0&&this._addBottomRow(o))},RowManager.prototype._addTopRow=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=this.tableElement,i=this.getDisplayRows();if(this.vDomTop){var n=this.vDomTop-1,r=i[n],s=r.getHeight()||this.vDomRowHeight;e>=s&&(this.styleRow(r,n),o.insertBefore(r.getElement(),o.firstChild),r.initialized&&r.heightInitialized||(this.vDomTopNewRows.push(r),r.heightInitialized||r.clearCellHeight()),r.initialize(),this.vDomTopPad-=s,this.vDomTopPad<0&&(this.vDomTopPad=n*this.vDomRowHeight),n||(this.vDomTopPad=0),o.style.paddingTop=this.vDomTopPad+"px",this.vDomScrollPosTop-=s,this.vDomTop--),e=-(this.scrollTop-this.vDomScrollPosTop),r.getHeight()>this.vDomWindowBuffer&&(this.vDomWindowBuffer=2*r.getHeight()),t<this.vDomMaxRenderChain&&this.vDomTop&&e>=(i[this.vDomTop-1].getHeight()||this.vDomRowHeight)?this._addTopRow(e,t+1):this._quickNormalizeRowHeight(this.vDomTopNewRows)}},RowManager.prototype._removeTopRow=function(e){var t=this.tableElement,o=this.getDisplayRows()[this.vDomTop],i=o.getHeight()||this.vDomRowHeight;if(e>=i){var n=o.getElement();n.parentNode.removeChild(n),this.vDomTopPad+=i,t.style.paddingTop=this.vDomTopPad+"px",this.vDomScrollPosTop+=this.vDomTop?i:i+this.vDomWindowBuffer,this.vDomTop++,e=this.scrollTop-this.vDomScrollPosTop,this._removeTopRow(e)}},RowManager.prototype._addBottomRow=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=this.tableElement,i=this.getDisplayRows();if(this.vDomBottom<this.displayRowsCount-1){var n=this.vDomBottom+1,r=i[n],s=r.getHeight()||this.vDomRowHeight;e>=s&&(this.styleRow(r,n),o.appendChild(r.getElement()),r.initialized&&r.heightInitialized||(this.vDomBottomNewRows.push(r),r.heightInitialized||r.clearCellHeight()),r.initialize(),this.vDomBottomPad-=s,(this.vDomBottomPad<0||n==this.displayRowsCount-1)&&(this.vDomBottomPad=0),o.style.paddingBottom=this.vDomBottomPad+"px",this.vDomScrollPosBottom+=s,this.vDomBottom++),e=this.scrollTop-this.vDomScrollPosBottom,r.getHeight()>this.vDomWindowBuffer&&(this.vDomWindowBuffer=2*r.getHeight()),t<this.vDomMaxRenderChain&&this.vDomBottom<this.displayRowsCount-1&&e>=(i[this.vDomBottom+1].getHeight()||this.vDomRowHeight)?this._addBottomRow(e,t+1):this._quickNormalizeRowHeight(this.vDomBottomNewRows)}},RowManager.prototype._removeBottomRow=function(e){var t=this.tableElement,o=this.getDisplayRows()[this.vDomBottom],i=o.getHeight()||this.vDomRowHeight;if(e>=i){var n=o.getElement();n.parentNode&&n.parentNode.removeChild(n),this.vDomBottomPad+=i,this.vDomBottomPad<0&&(this.vDomBottomPad=0),t.style.paddingBottom=this.vDomBottomPad+"px",this.vDomScrollPosBottom-=i,this.vDomBottom--,e=-(this.scrollTop-this.vDomScrollPosBottom),this._removeBottomRow(e)}},RowManager.prototype._quickNormalizeRowHeight=function(e){e.forEach((function(e){e.calcHeight()})),e.forEach((function(e){e.setCellHeight()})),e.length=0},RowManager.prototype.normalizeHeight=function(){this.activeRows.forEach((function(e){e.normalizeHeight()}))},RowManager.prototype.adjustTableSize=function(){var e,t=this.element.clientHeight;if("virtual"===this.renderMode){var o=Math.floor(this.columnManager.getElement().getBoundingClientRect().height+(this.table.footerManager&&this.table.footerManager.active&&!this.table.footerManager.external?this.table.footerManager.getElement().getBoundingClientRect().height:0));this.fixedHeight?(this.element.style.minHeight="calc(100% - "+o+"px)",this.element.style.height="calc(100% - "+o+"px)",this.element.style.maxHeight="calc(100% - "+o+"px)"):(this.element.style.height="",this.element.style.height=this.table.element.clientHeight-o+"px",this.element.scrollTop=this.scrollTop),this.height=this.element.clientHeight,this.vDomWindowBuffer=this.table.options.virtualDomBuffer||this.height,this.fixedHeight||t==this.element.clientHeight||((e=this.table.modExists("resizeTable"))&&!this.table.modules.resizeTable.autoResize||!e)&&this.redraw()}},RowManager.prototype.reinitialize=function(){this.rows.forEach((function(e){e.reinitialize(!0)}))},RowManager.prototype.blockRedraw=function(){this.redrawBlock=!0,this.redrawBlockRestoreConfig=!1},RowManager.prototype.restoreRedraw=function(){this.redrawBlock=!1,this.redrawBlockRestoreConfig?(this.refreshActiveData(this.redrawBlockRestoreConfig.stage,this.redrawBlockRestoreConfig.skipStage,this.redrawBlockRestoreConfig.renderInPosition),this.redrawBlockRestoreConfig=!1):this.redrawBlockRederInPosition&&this.reRenderInPosition(),this.redrawBlockRederInPosition=!1},RowManager.prototype.redraw=function(e){var t=this.scrollLeft;this.adjustTableSize(),this.table.tableWidth=this.table.element.clientWidth,e?this.renderTable():("classic"==this.renderMode?this.table.options.groupBy?this.refreshActiveData("group",!1,!1):this._simpleRender():(this.reRenderInPosition(),this.scrollHorizontal(t)),this.displayRowsCount||this.table.options.placeholder&&this.getElement().appendChild(this.table.options.placeholder))},RowManager.prototype.resetScroll=function(){if(this.element.scrollLeft=0,this.element.scrollTop=0,"ie"===this.table.browser){var e=document.createEvent("Event");e.initEvent("scroll",!1,!0),this.element.dispatchEvent(e)}else this.element.dispatchEvent(new Event("scroll"))};var VDomHoz=function(e){this.table=e,this.element=this.table.rowManager.tableElement,this.holderEl=this.table.rowManager.element,this.leftCol=0,this.rightCol=0,this.scrollLeft=0,this.vDomScrollPosLeft=0,this.vDomScrollPosRight=0,this.vDomPadLeft=0,this.vDomPadRight=0,this.fitDataColAvg=0,this.window=200,this.initialized=!1,this.columns=[],this.compatabilityCheck()&&this.initialize()};VDomHoz.prototype.compatabilityCheck=function(){var e=this.table.options,t=!0;return"fitDataTable"==e.layout&&(console.warn("Horizontal Vitrual DOM is not compatible with fitDataTable layout mode"),t=!1),e.responsiveLayout&&(console.warn("Horizontal Vitrual DOM is not compatible with responsive columns"),t=!1),this.table.rtl&&(console.warn("Horizontal Vitrual DOM is not currently compatible with RTL text direction"),t=!1),e.columns&&e.columns.find((function(e){return e.frozen}))&&(console.warn("Horizontal Vitrual DOM is not compatible with frozen columns"),t=!1),t||(e.virtualDomHoz=!1),t},VDomHoz.prototype.initialize=function(){var e=this;this.holderEl.addEventListener("scroll",(function(){var t=e.holderEl.scrollLeft;e.scrollLeft!=t&&(e.scrollLeft=t,e.scroll(t-(e.vDomScrollPosLeft+e.window)))}))},VDomHoz.prototype.deinitialize=function(){this.initialized=!1},VDomHoz.prototype.clear=function(){this.columns=[],this.leftCol=-1,this.rightCol=0,this.vDomScrollPosLeft=0,this.vDomScrollPosRight=0,this.vDomPadLeft=0,this.vDomPadRight=0},VDomHoz.prototype.dataChange=function(){var e,t,o=!1,i=0,n=0;if("fitData"===this.table.options.layout){if(this.table.columnManager.columnsByIndex.forEach((function(e){!e.definition.width&&e.visible&&(o=!0)})),o&&o&&this.table.rowManager.getDisplayRows().length&&(this.vDomScrollPosRight=this.scrollLeft+this.holderEl.clientWidth+this.window,e=this.table.options.groupBy?this.table.modules.groupRows.getGroups(!1)[0].getRows(!1)[0]:this.table.rowManager.getDisplayRows()[0])){t=e.getElement(),e.generateCells(),this.element.appendChild(t);for(n=0;n<e.cells.length;n++){var r=e.cells[n];if(t.appendChild(r.getElement()),r.column.reinitializeWidth(),(i+=r.column.getWidth())>this.vDomScrollPosRight)break}for(t.parentNode.removeChild(t),this.fitDataColAvg=Math.floor(i/(n+1));n<this.table.columnManager.columnsByIndex.length;n++)this.table.columnManager.columnsByIndex[n].setWidth(this.fitDataColAvg);this.reinitialize(!1,!0)}}else"fitColumns"===this.table.options.layout&&(this.table.modules.layout.layout(),this.table.vdomHoz.reinitialize(!1,!0))},VDomHoz.prototype.fitDataLayoutOverride=function(){for(var e=this.leftCol;e<=this.rightCol;e++)this.columns[e].reinitializeWidth()},VDomHoz.prototype.reinitialize=function(e,t){var o=this,i={cols:this.columns,leftCol:this.leftCol,rightCol:this.rightCol};if(!e||this.initialized){this.clear(),this.scrollLeft=this.holderEl.scrollLeft,this.vDomScrollPosLeft=this.scrollLeft-this.window,this.vDomScrollPosRight=this.scrollLeft+this.holderEl.clientWidth+this.window;var n=0;this.table.columnManager.columnsByIndex.forEach((function(e){var t={};if(e.visible){var i=e.getWidth();t.leftPos=n,t.rightPos=n+i,n+i>o.vDomScrollPosLeft&&n<o.vDomScrollPosRight?(-1==o.leftCol&&(o.leftCol=o.columns.length,o.vDomPadLeft=n),o.rightCol=o.columns.length):-1!==o.leftCol&&(o.vDomPadRight+=i),o.columns.push(e),e.modules.vdomHoz=t,n+=i}})),this.element.style.paddingLeft=this.vDomPadLeft+"px",this.element.style.paddingRight=this.vDomPadRight+"px",this.initialized=!0,t||e&&!this.reinitChanged(i)||this.renitializeRows(),this.holderEl.scrollLeft=this.scrollLeft}},VDomHoz.prototype.reinitChanged=function(e){var t=this,o=!0;return e.cols.length!==this.columns.length||e.leftCol!==this.leftCol||e.rightCol!==this.rightCol||(e.cols.forEach((function(e,i){e!==t.columns[i]&&(o=!1)})),!o)},VDomHoz.prototype.renitializeRows=function(){var e=this;this.table.rowManager.getVisibleRows().forEach((function(t){e.reinitializeRow(t,!0)}))},VDomHoz.prototype.scroll=function(e){this.vDomScrollPosLeft+=e,this.vDomScrollPosRight+=e,e>.8*this.holderEl.clientWidth?this.reinitialize():e>0?(this.addColRight(),this.removeColLeft()):(this.addColLeft(),this.removeColRight())},VDomHoz.prototype.colPositionAdjust=function(e,t,o){for(var i=e;i<t;i++){var n=this.columns[i];n.modules.vdomHoz.leftPos-=o,n.modules.vdomHoz.rightPos-=o}},VDomHoz.prototype.addColRight=function(){var e,t,o=this.columns[this.rightCol+1];o&&o.modules.vdomHoz.leftPos<=this.vDomScrollPosRight&&(this.table.rowManager.getVisibleRows().forEach((function(e){if("group"!==e.type){var t=e.getCell(o);e.getElement().appendChild(t.getElement()),t.cellRendered()}})),this.fitDataColAvg&&(e=o.getWidth())===this.fitDataColAvg&&(o.reinitializeWidth(),(t=e-o.getWidth())&&(o.modules.vdomHoz.rightPos-=t,this.colPositionAdjust(this.rightCol+1,this.columns.length,t))),this.rightCol++,this.rightCol>=this.columns.length-1?this.vDomPadRight=0:this.vDomPadRight-=o.getWidth(),this.element.style.paddingRight=this.vDomPadRight+"px",this.addColRight())},VDomHoz.prototype.addColLeft=function(){var e=this.columns[this.leftCol-1];e&&e.modules.vdomHoz.rightPos>=this.vDomScrollPosLeft&&(this.table.rowManager.getVisibleRows().forEach((function(t){if("group"!==t.type){var o=t.getCell(e);t.getElement().prepend(o.getElement()),o.cellRendered()}})),this.leftCol?this.vDomPadLeft-=e.getWidth():this.vDomPadLeft=0,this.element.style.paddingLeft=this.vDomPadLeft+"px",this.leftCol--,this.addColLeft())},VDomHoz.prototype.removeColRight=function(e){var t;(e=this.columns[this.rightCol])&&e.modules.vdomHoz.leftPos>this.vDomScrollPosRight&&(t=this.table.rowManager.getVisibleRows(),e.modules.vdomHoz.visible=!1,t.forEach((function(t){if("group"!==t.type){var o=t.getCell(e);t.getElement().removeChild(o.getElement())}})),this.vDomPadRight+=e.getWidth(),this.element.style.paddingRight=this.vDomPadRight+"px",this.rightCol--,this.removeColRight())},VDomHoz.prototype.removeColLeft=function(){var e=this.columns[this.leftCol];e&&e.modules.vdomHoz.rightPos<this.vDomScrollPosLeft&&(this.table.rowManager.getVisibleRows().forEach((function(t){if("group"!==t.type){var o=t.getCell(e);t.getElement().removeChild(o.getElement())}})),this.vDomPadLeft+=e.getWidth(),this.element.style.paddingLeft=this.vDomPadLeft+"px",this.leftCol++,this.removeColLeft())},VDomHoz.prototype.initializeRow=function(e){if("group"!==e.type){e.modules.vdomHoz={leftCol:this.leftCol,rightCol:this.rightCol};for(var t=this.leftCol;t<=this.rightCol;t++){var o=this.columns[t];if(o&&o.visible){var i=e.getCell(o);e.getElement().appendChild(i.getElement()),i.cellRendered()}}}},VDomHoz.prototype.reinitializeRow=function(e,t){if("group"!==e.type&&(t||!e.modules.vdomHoz||e.modules.vdomHoz.leftCol!==this.leftCol||e.modules.vdomHoz.rightCol!==this.rightCol)){for(var o=e.getElement();o.firstChild;)o.removeChild(o.firstChild);this.initializeRow(e)}};var RowComponent=function(e){this._row=e};RowComponent.prototype.getData=function(e){return this._row.getData(e)},RowComponent.prototype.getElement=function(){return this._row.getElement()},RowComponent.prototype.getCells=function(){var e=[];return this._row.getCells().forEach((function(t){e.push(t.getComponent())})),e},RowComponent.prototype.getCell=function(e){var t=this._row.getCell(e);return!!t&&t.getComponent()},RowComponent.prototype.getIndex=function(){return this._row.getData("data")[this._row.table.options.index]},RowComponent.prototype.getPosition=function(e){return this._row.table.rowManager.getRowPosition(this._row,e)},RowComponent.prototype.delete=function(){return this._row.delete()},RowComponent.prototype.scrollTo=function(){return this._row.table.rowManager.scrollToRow(this._row)},RowComponent.prototype.pageTo=function(){if(this._row.table.modExists("page",!0))return this._row.table.modules.page.setPageToRow(this._row)},RowComponent.prototype.move=function(e,t){this._row.moveToRow(e,t)},RowComponent.prototype.update=function(e){return this._row.updateData(e)},RowComponent.prototype.normalizeHeight=function(){this._row.normalizeHeight(!0)},RowComponent.prototype.select=function(){this._row.table.modules.selectRow.selectRows(this._row)},RowComponent.prototype.deselect=function(){this._row.table.modules.selectRow.deselectRows(this._row)},RowComponent.prototype.toggleSelect=function(){this._row.table.modules.selectRow.toggleRow(this._row)},RowComponent.prototype.isSelected=function(){return this._row.table.modules.selectRow.isRowSelected(this._row)},RowComponent.prototype._getSelf=function(){return this._row},RowComponent.prototype.validate=function(){return this._row.validate()},RowComponent.prototype.freeze=function(){this._row.table.modExists("frozenRows",!0)&&this._row.table.modules.frozenRows.freezeRow(this._row)},RowComponent.prototype.unfreeze=function(){this._row.table.modExists("frozenRows",!0)&&this._row.table.modules.frozenRows.unfreezeRow(this._row)},RowComponent.prototype.isFrozen=function(){return!!this._row.table.modExists("frozenRows",!0)&&this._row.table.modules.frozenRows.rows.indexOf(this._row)>-1},RowComponent.prototype.treeCollapse=function(){this._row.table.modExists("dataTree",!0)&&this._row.table.modules.dataTree.collapseRow(this._row)},RowComponent.prototype.treeExpand=function(){this._row.table.modExists("dataTree",!0)&&this._row.table.modules.dataTree.expandRow(this._row)},RowComponent.prototype.treeToggle=function(){this._row.table.modExists("dataTree",!0)&&this._row.table.modules.dataTree.toggleRow(this._row)},RowComponent.prototype.getTreeParent=function(){return!!this._row.table.modExists("dataTree",!0)&&this._row.table.modules.dataTree.getTreeParent(this._row)},RowComponent.prototype.getTreeChildren=function(){return!!this._row.table.modExists("dataTree",!0)&&this._row.table.modules.dataTree.getTreeChildren(this._row,!0)},RowComponent.prototype.addTreeChild=function(e,t,o){return!!this._row.table.modExists("dataTree",!0)&&this._row.table.modules.dataTree.addTreeChildRow(this._row,e,t,o)},RowComponent.prototype.reformat=function(){return this._row.reinitialize()},RowComponent.prototype.getGroup=function(){return this._row.getGroup().getComponent()},RowComponent.prototype.getTable=function(){return this._row.table},RowComponent.prototype.getNextRow=function(){var e=this._row.nextRow();return e?e.getComponent():e},RowComponent.prototype.getPrevRow=function(){var e=this._row.prevRow();return e?e.getComponent():e};var Row=function(e,t){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"row";this.table=t.table,this.parent=t,this.data={},this.type=o,this.element=!1,this.modules={},this.cells=[],this.height=0,this.heightStyled="",this.manualHeight=!1,this.outerHeight=0,this.initialized=!1,this.heightInitialized=!1,this.component=null,this.created=!1,this.setData(e)};Row.prototype.create=function(){this.created||(this.created=!0,this.generateElement())},Row.prototype.createElement=function(){var e=document.createElement("div");e.classList.add("tabulator-row"),e.setAttribute("role","row"),this.element=e},Row.prototype.getElement=function(){return this.create(),this.element},Row.prototype.detachElement=function(){this.element&&this.element.parentNode&&this.element.parentNode.removeChild(this.element)},Row.prototype.generateElement=function(){var e,t,o,i=this;this.createElement(),!1!==i.table.options.selectable&&i.table.modExists("selectRow")&&i.table.modules.selectRow.initializeRow(this),!1!==i.table.options.movableRows&&i.table.modExists("moveRow")&&i.table.modules.moveRow.initializeRow(this),!1!==i.table.options.dataTree&&i.table.modExists("dataTree")&&i.table.modules.dataTree.initializeRow(this),"collapse"===i.table.options.responsiveLayout&&i.table.modExists("responsiveLayout")&&i.table.modules.responsiveLayout.initializeRow(this),(i.table.options.rowContextMenu||i.table.options.rowClickMenu)&&this.table.modExists("menu")&&i.table.modules.menu.initializeRow(this),i.table.options.rowClick&&i.element.addEventListener("click",(function(e){i.table.options.rowClick(e,i.getComponent())})),i.table.options.rowDblClick&&i.element.addEventListener("dblclick",(function(e){i.table.options.rowDblClick(e,i.getComponent())})),i.table.options.rowContext&&i.element.addEventListener("contextmenu",(function(e){i.table.options.rowContext(e,i.getComponent())})),i.table.options.rowMouseEnter&&i.element.addEventListener("mouseenter",(function(e){i.table.options.rowMouseEnter(e,i.getComponent())})),i.table.options.rowMouseLeave&&i.element.addEventListener("mouseleave",(function(e){i.table.options.rowMouseLeave(e,i.getComponent())})),i.table.options.rowMouseOver&&i.element.addEventListener("mouseover",(function(e){i.table.options.rowMouseOver(e,i.getComponent())})),i.table.options.rowMouseOut&&i.element.addEventListener("mouseout",(function(e){i.table.options.rowMouseOut(e,i.getComponent())})),i.table.options.rowMouseMove&&i.element.addEventListener("mousemove",(function(e){i.table.options.rowMouseMove(e,i.getComponent())})),i.table.options.rowTap&&(o=!1,i.element.addEventListener("touchstart",(function(e){o=!0}),{passive:!0}),i.element.addEventListener("touchend",(function(e){o&&i.table.options.rowTap(e,i.getComponent()),o=!1}))),i.table.options.rowDblTap&&(e=null,i.element.addEventListener("touchend",(function(t){e?(clearTimeout(e),e=null,i.table.options.rowDblTap(t,i.getComponent())):e=setTimeout((function(){clearTimeout(e),e=null}),300)}))),i.table.options.rowTapHold&&(t=null,i.element.addEventListener("touchstart",(function(e){clearTimeout(t),t=setTimeout((function(){clearTimeout(t),t=null,o=!1,i.table.options.rowTapHold(e,i.getComponent())}),1e3)}),{passive:!0}),i.element.addEventListener("touchend",(function(e){clearTimeout(t),t=null})))},Row.prototype.generateCells=function(){this.cells=this.table.columnManager.generateCells(this)},Row.prototype.initialize=function(e){var t=this;if(this.create(),!this.initialized||e){for(this.deleteCells();this.element.firstChild;)this.element.removeChild(this.element.firstChild);this.table.modExists("frozenColumns")&&this.table.modules.frozenColumns.layoutRow(this),this.generateCells(),this.table.options.virtualDomHoz&&this.table.vdomHoz.initialized?this.table.vdomHoz.initializeRow(this):this.cells.forEach((function(e){t.element.appendChild(e.getElement()),e.cellRendered()})),e&&this.normalizeHeight(),this.table.options.dataTree&&this.table.modExists("dataTree")&&this.table.modules.dataTree.layoutRow(this),"collapse"===this.table.options.responsiveLayout&&this.table.modExists("responsiveLayout")&&this.table.modules.responsiveLayout.layoutRow(this),this.table.options.rowFormatter&&this.table.options.rowFormatter(this.getComponent()),this.table.options.resizableRows&&this.table.modExists("resizeRows")&&this.table.modules.resizeRows.initializeRow(this),this.initialized=!0}else this.table.options.virtualDomHoz&&this.table.vdomHoz.reinitializeRow(this)},Row.prototype.reinitializeHeight=function(){this.heightInitialized=!1,this.element&&null!==this.element.offsetParent&&this.normalizeHeight(!0)},Row.prototype.reinitialize=function(e){this.initialized=!1,this.heightInitialized=!1,this.manualHeight||(this.height=0,this.heightStyled=""),this.element&&null!==this.element.offsetParent&&this.initialize(!0),this.table.options.dataTree&&this.table.modExists("dataTree",!0)&&this.table.modules.dataTree.getTreeChildren(this,!1,!0).forEach((function(e){e.reinitialize(!0)}))},Row.prototype.calcHeight=function(e){var t=0,o=this.table.options.resizableRows?this.element.clientHeight:0;this.cells.forEach((function(e){var o=e.getHeight();o>t&&(t=o)})),this.height=e?Math.max(t,o):this.manualHeight?this.height:Math.max(t,o),this.heightStyled=this.height?this.height+"px":"",this.outerHeight=this.element.offsetHeight},Row.prototype.setCellHeight=function(){this.cells.forEach((function(e){e.setHeight()})),this.heightInitialized=!0},Row.prototype.clearCellHeight=function(){this.cells.forEach((function(e){e.clearHeight()}))},Row.prototype.normalizeHeight=function(e){e&&this.clearCellHeight(),this.calcHeight(e),this.setCellHeight()},Row.prototype.setHeight=function(e,t){(this.height!=e||t)&&(this.manualHeight=!0,this.height=e,this.heightStyled=e?e+"px":"",this.setCellHeight(),this.outerHeight=this.element.offsetHeight)},Row.prototype.getHeight=function(){return this.outerHeight},Row.prototype.getWidth=function(){return this.element.offsetWidth},Row.prototype.deleteCell=function(e){var t=this.cells.indexOf(e);t>-1&&this.cells.splice(t,1)},Row.prototype.setData=function(e){this.table.modExists("mutator")&&(e=this.table.modules.mutator.transformRow(e,"data")),this.data=e,this.table.options.reactiveData&&this.table.modExists("reactiveData",!0)&&this.table.modules.reactiveData.watchRow(this)},Row.prototype.updateData=function(e){var t,o=this,i=this.element&&Tabulator.prototype.helpers.elVisible(this.element),n={};return new Promise((function(r,s){for(var a in"string"==typeof e&&(e=JSON.parse(e)),o.table.options.reactiveData&&o.table.modExists("reactiveData",!0)&&o.table.modules.reactiveData.block(),o.table.modExists("mutator")?(n=Object.assign(n,o.data),n=Object.assign(n,e),t=o.table.modules.mutator.transformRow(n,"data",e)):t=e,t)o.data[a]=t[a];for(var a in o.table.options.reactiveData&&o.table.modExists("reactiveData",!0)&&o.table.modules.reactiveData.unblock(),e){o.table.columnManager.getColumnsByFieldRoot(a).forEach((function(e){var n=o.getCell(e.getField());if(n){var r=e.getFieldValue(t);n.getValue()!=r&&(n.setValueProcessData(r),i&&n.cellRendered())}}))}o.table.options.groupUpdateOnCellEdit&&o.table.options.groupBy&&o.table.modExists("groupRows")&&o.table.modules.groupRows.reassignRowToGroup(o.row),i?(o.normalizeHeight(!0),o.table.options.rowFormatter&&o.table.options.rowFormatter(o.getComponent())):(o.initialized=!1,o.height=0,o.heightStyled=""),!1!==o.table.options.dataTree&&o.table.modExists("dataTree")&&o.table.modules.dataTree.redrawNeeded(e)&&(o.table.modules.dataTree.initializeRow(o),i&&(o.table.modules.dataTree.layoutRow(o),o.table.rowManager.refreshActiveData("tree",!1,!0))),o.table.options.rowUpdated.call(o.table,o.getComponent()),o.table.options.dataChanged&&o.table.options.dataChanged.call(o.table,o.table.rowManager.getData()),r()}))},Row.prototype.getData=function(e){return e&&this.table.modExists("accessor")?this.table.modules.accessor.transformRow(this,e):this.data},Row.prototype.getCell=function(e){return e=this.table.columnManager.findColumn(e),this.cells.find((function(t){return t.column===e}))},Row.prototype.getCellIndex=function(e){return this.cells.findIndex((function(t){return t===e}))},Row.prototype.findNextEditableCell=function(e){var t=!1;if(e<this.cells.length-1)for(var o=e+1;o<this.cells.length;o++){var i=this.cells[o];if(i.column.modules.edit&&Tabulator.prototype.helpers.elVisible(i.getElement())){var n=!0;if("function"==typeof i.column.modules.edit.check&&(n=i.column.modules.edit.check(i.getComponent())),n){t=i;break}}}return t},Row.prototype.findPrevEditableCell=function(e){var t=!1;if(e>0)for(var o=e-1;o>=0;o--){var i=this.cells[o],n=!0;if(i.column.modules.edit&&Tabulator.prototype.helpers.elVisible(i.getElement())&&("function"==typeof i.column.modules.edit.check&&(n=i.column.modules.edit.check(i.getComponent())),n)){t=i;break}}return t},Row.prototype.getCells=function(){return this.cells},Row.prototype.nextRow=function(){return this.table.rowManager.nextDisplayRow(this,!0)||!1},Row.prototype.prevRow=function(){return this.table.rowManager.prevDisplayRow(this,!0)||!1},Row.prototype.moveToRow=function(e,t){var o=this.table.rowManager.findRow(e);o?(this.table.rowManager.moveRowActual(this,o,!t),this.table.rowManager.refreshActiveData("display",!1,!0)):console.warn("Move Error - No matching row found:",e)},Row.prototype.validate=function(){var e=[];return this.cells.forEach((function(t){t.validate()||e.push(t.getComponent())})),!e.length||e},Row.prototype.delete=function(){var e=this;return new Promise((function(t,o){var i,n;e.table.options.history&&e.table.modExists("history")&&(e.table.options.groupBy&&e.table.modExists("groupRows")?(i=(n=e.getGroup().rows).indexOf(e))&&(i=n[i-1]):(i=e.table.rowManager.getRowIndex(e))&&(i=e.table.rowManager.rows[i-1]),e.table.modules.history.action("rowDelete",e,{data:e.getData(),pos:!i,index:i})),e.deleteActual(),t()}))},Row.prototype.deleteActual=function(e){this.table.rowManager.getRowIndex(this);this.detatchModules(),this.table.options.reactiveData&&this.table.modExists("reactiveData",!0),this.modules.group&&this.modules.group.removeRow(this),this.table.rowManager.deleteRow(this,e),this.deleteCells(),this.initialized=!1,this.heightInitialized=!1,this.element=!1,this.table.options.dataTree&&this.table.modExists("dataTree",!0)&&this.table.modules.dataTree.rowDelete(this),this.table.modExists("columnCalcs")&&(this.table.options.groupBy&&this.table.modExists("groupRows")?this.table.modules.columnCalcs.recalcRowGroup(this):this.table.modules.columnCalcs.recalc(this.table.rowManager.activeRows))},Row.prototype.detatchModules=function(){this.table.modExists("selectRow")&&this.table.modules.selectRow._deselectRow(this,!0),this.table.modExists("edit")&&this.table.modules.edit.currentCell.row===this&&this.table.modules.edit.cancelEdit(),this.table.modExists("frozenRows")&&this.table.modules.frozenRows.detachRow(this)},Row.prototype.deleteCells=function(){for(var e=this.cells.length,t=0;t<e;t++)this.cells[0].delete()},Row.prototype.wipe=function(){if(this.detatchModules(),this.deleteCells(),this.element){for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);this.element.parentNode&&this.element.parentNode.removeChild(this.element)}this.element=!1,this.modules={}},Row.prototype.getGroup=function(){return this.modules.group||!1},Row.prototype.getComponent=function(){return this.component||(this.component=new RowComponent(this)),this.component};var CellComponent=function(e){this._cell=e};CellComponent.prototype.getValue=function(){return this._cell.getValue()},CellComponent.prototype.getOldValue=function(){return this._cell.getOldValue()},CellComponent.prototype.getInitialValue=function(){return this._cell.initialValue},CellComponent.prototype.getElement=function(){return this._cell.getElement()},CellComponent.prototype.getRow=function(){return this._cell.row.getComponent()},CellComponent.prototype.getData=function(){return this._cell.row.getData()},CellComponent.prototype.getField=function(){return this._cell.column.getField()},CellComponent.prototype.getColumn=function(){return this._cell.column.getComponent()},CellComponent.prototype.setValue=function(e,t){void 0===t&&(t=!0),this._cell.setValue(e,t)},CellComponent.prototype.restoreOldValue=function(){this._cell.setValueActual(this._cell.getOldValue())},CellComponent.prototype.restoreInitialValue=function(){this._cell.setValueActual(this._cell.initialValue)},CellComponent.prototype.edit=function(e){return this._cell.edit(e)},CellComponent.prototype.cancelEdit=function(){this._cell.cancelEdit()},CellComponent.prototype.isEdited=function(){return!!this._cell.modules.edit&&this._cell.modules.edit.edited},CellComponent.prototype.clearEdited=function(){self.table.modExists("edit",!0)&&this._cell.table.modules.edit.clearEdited(this._cell)},CellComponent.prototype.isValid=function(){return!this._cell.modules.validate||!this._cell.modules.validate.invalid},CellComponent.prototype.validate=function(){return this._cell.validate()},CellComponent.prototype.clearValidation=function(){this._cell.table.modExists("validate",!0)&&this._cell.table.modules.validate.clearValidation(this._cell)},CellComponent.prototype.nav=function(){return this._cell.nav()},CellComponent.prototype.checkHeight=function(){this._cell.checkHeight()},CellComponent.prototype.getTable=function(){return this._cell.table},CellComponent.prototype._getSelf=function(){return this._cell};var Cell=function(e,t){this.table=e.table,this.column=e,this.row=t,this.element=null,this.value=null,this.initialValue,this.oldValue=null,this.modules={},this.height=null,this.width=null,this.minWidth=null,this.component=null,this.loaded=!1,this.build()};Cell.prototype.build=function(){this.generateElement(),this.setWidth(),this._configureCell(),this.setValueActual(this.column.getFieldValue(this.row.data)),this.initialValue=this.value},Cell.prototype.generateElement=function(){this.element=document.createElement("div"),this.element.className="tabulator-cell",this.element.setAttribute("role","gridcell"),this.element=this.element},Cell.prototype._configureCell=function(){var e=this,t=e.column.cellEvents,o=e.element,i=this.column.getField();(o.style.textAlign=e.column.hozAlign,e.column.vertAlign&&(o.style.display="inline-flex",o.style.alignItems={top:"flex-start",bottom:"flex-end",middle:"center"}[e.column.vertAlign]||"",e.column.hozAlign&&(o.style.justifyContent={left:"flex-start",right:"flex-end",center:"center"}[e.column.hozAlign]||"")),i&&o.setAttribute("tabulator-field",i),e.column.definition.cssClass)&&e.column.definition.cssClass.split(" ").forEach((function(e){o.classList.add(e)}));"hover"===this.table.options.tooltipGenerationMode&&o.addEventListener("mouseenter",(function(t){e._generateTooltip()})),e._bindClickEvents(t),e._bindTouchEvents(t),e._bindMouseEvents(t),e.column.modules.edit&&e.table.modules.edit.bindEditor(e),e.column.definition.rowHandle&&!1!==e.table.options.movableRows&&e.table.modExists("moveRow")&&e.table.modules.moveRow.initializeCell(e),e.column.visible||e.hide()},Cell.prototype._bindClickEvents=function(e){var t=this,o=t.element;(e.cellClick||t.table.options.cellClick)&&o.addEventListener("click",(function(o){var i=t.getComponent();e.cellClick&&e.cellClick.call(t.table,o,i),t.table.options.cellClick&&t.table.options.cellClick.call(t.table,o,i)})),e.cellDblClick||this.table.options.cellDblClick?o.addEventListener("dblclick",(function(o){var i=t.getComponent();e.cellDblClick&&e.cellDblClick.call(t.table,o,i),t.table.options.cellDblClick&&t.table.options.cellDblClick.call(t.table,o,i)})):o.addEventListener("dblclick",(function(e){if(!t.table.modExists("edit")||t.table.modules.edit.currentCell!==t){e.preventDefault();try{if(document.selection)(o=document.body.createTextRange()).moveToElementText(t.element),o.select();else if(window.getSelection){var o;(o=document.createRange()).selectNode(t.element),window.getSelection().removeAllRanges(),window.getSelection().addRange(o)}}catch(e){}}})),(e.cellContext||this.table.options.cellContext)&&o.addEventListener("contextmenu",(function(o){var i=t.getComponent();e.cellContext&&e.cellContext.call(t.table,o,i),t.table.options.cellContext&&t.table.options.cellContext.call(t.table,o,i)}))},Cell.prototype._bindMouseEvents=function(e){var t=this,o=t.element;(e.cellMouseEnter||t.table.options.cellMouseEnter)&&o.addEventListener("mouseenter",(function(o){var i=t.getComponent();e.cellMouseEnter&&e.cellMouseEnter.call(t.table,o,i),t.table.options.cellMouseEnter&&t.table.options.cellMouseEnter.call(t.table,o,i)})),(e.cellMouseLeave||t.table.options.cellMouseLeave)&&o.addEventListener("mouseleave",(function(o){var i=t.getComponent();e.cellMouseLeave&&e.cellMouseLeave.call(t.table,o,i),t.table.options.cellMouseLeave&&t.table.options.cellMouseLeave.call(t.table,o,i)})),(e.cellMouseOver||t.table.options.cellMouseOver)&&o.addEventListener("mouseover",(function(o){var i=t.getComponent();e.cellMouseOver&&e.cellMouseOver.call(t.table,o,i),t.table.options.cellMouseOver&&t.table.options.cellMouseOver.call(t.table,o,i)})),(e.cellMouseOut||t.table.options.cellMouseOut)&&o.addEventListener("mouseout",(function(o){var i=t.getComponent();e.cellMouseOut&&e.cellMouseOut.call(t.table,o,i),t.table.options.cellMouseOut&&t.table.options.cellMouseOut.call(t.table,o,i)})),(e.cellMouseMove||t.table.options.cellMouseMove)&&o.addEventListener("mousemove",(function(o){var i=t.getComponent();e.cellMouseMove&&e.cellMouseMove.call(t.table,o,i),t.table.options.cellMouseMove&&t.table.options.cellMouseMove.call(t.table,o,i)}))},Cell.prototype._bindTouchEvents=function(e){var t,o,i,n=this,r=n.element;(e.cellTap||this.table.options.cellTap)&&(i=!1,r.addEventListener("touchstart",(function(e){i=!0}),{passive:!0}),r.addEventListener("touchend",(function(t){if(i){var o=n.getComponent();e.cellTap&&e.cellTap.call(n.table,t,o),n.table.options.cellTap&&n.table.options.cellTap.call(n.table,t,o)}i=!1}))),(e.cellDblTap||this.table.options.cellDblTap)&&(t=null,r.addEventListener("touchend",(function(o){if(t){clearTimeout(t),t=null;var i=n.getComponent();e.cellDblTap&&e.cellDblTap.call(n.table,o,i),n.table.options.cellDblTap&&n.table.options.cellDblTap.call(n.table,o,i)}else t=setTimeout((function(){clearTimeout(t),t=null}),300)}))),(e.cellTapHold||this.table.options.cellTapHold)&&(o=null,r.addEventListener("touchstart",(function(t){clearTimeout(o),o=setTimeout((function(){clearTimeout(o),o=null,i=!1;var r=n.getComponent();e.cellTapHold&&e.cellTapHold.call(n.table,t,r),n.table.options.cellTapHold&&n.table.options.cellTapHold.call(n.table,t,r)}),1e3)}),{passive:!0}),r.addEventListener("touchend",(function(e){clearTimeout(o),o=null})))},Cell.prototype._generateContents=function(){var e;switch(void 0===(e=this.table.modExists("format")?this.table.modules.format.formatValue(this):this.element.innerHTML=this.value)?"undefined":_typeof(e)){case"object":if(e instanceof Node){for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);this.element.appendChild(e)}else this.element.innerHTML="",null!=e&&console.warn("Format Error - Formatter has returned a type of object, the only valid formatter object return is an instance of Node, the formatter returned:",e);break;case"undefined":case"null":this.element.innerHTML="";break;default:this.element.innerHTML=e}},Cell.prototype.cellRendered=function(){this.table.modExists("format")&&this.table.modules.format.cellRendered&&this.table.modules.format.cellRendered(this)},Cell.prototype._generateTooltip=function(){var e=this.column.tooltip;e?(!0===e?e=this.value:"function"==typeof e&&!1===(e=e(this.getComponent()))&&(e=""),void 0===e&&(e=""),this.element.setAttribute("title",e)):this.element.setAttribute("title","")},Cell.prototype.getElement=function(e){return this.loaded||(this.loaded=!0,e||this.layoutElement()),this.element},Cell.prototype.getValue=function(){return this.value},Cell.prototype.getOldValue=function(){return this.oldValue},Cell.prototype.setValue=function(e,t){var o;this.setValueProcessData(e,t)&&(this.table.options.history&&this.table.modExists("history")&&this.table.modules.history.action("cellEdit",this,{oldValue:this.oldValue,newValue:this.value}),o=this.getComponent(),this.column.cellEvents.cellEdited&&this.column.cellEvents.cellEdited.call(this.table,o),this.table.options.groupUpdateOnCellEdit&&this.table.options.groupBy&&this.table.modExists("groupRows")&&this.table.modules.groupRows.reassignRowToGroup(this.row),this.cellRendered(),this.table.options.cellEdited.call(this.table,o),this.table.options.dataChanged&&this.table.options.dataChanged.call(this.table,this.table.rowManager.getData()))},Cell.prototype.setValueProcessData=function(e,t){var o=!1;return this.value!=e&&(o=!0,t&&this.column.modules.mutate&&(e=this.table.modules.mutator.transformCell(this,e))),this.setValueActual(e),o&&this.table.modExists("columnCalcs")&&(this.column.definition.topCalc||this.column.definition.bottomCalc)&&(this.table.options.groupBy&&this.table.modExists("groupRows")?("table"!=this.table.options.columnCalcs&&"both"!=this.table.options.columnCalcs||this.table.modules.columnCalcs.recalc(this.table.rowManager.activeRows),"table"!=this.table.options.columnCalcs&&this.table.modules.columnCalcs.recalcRowGroup(this.row)):this.table.modules.columnCalcs.recalc(this.table.rowManager.activeRows)),o},Cell.prototype.setValueActual=function(e){this.oldValue=this.value,this.value=e,this.table.options.reactiveData&&this.table.modExists("reactiveData")&&this.table.modules.reactiveData.block(),this.column.setFieldValue(this.row.data,e),this.table.options.reactiveData&&this.table.modExists("reactiveData")&&this.table.modules.reactiveData.unblock(),this.loaded&&this.layoutElement()},Cell.prototype.layoutElement=function(){this._generateContents(),this._generateTooltip(),this.table.options.resizableColumns&&this.table.modExists("resizeColumns")&&"row"===this.row.type&&this.table.modules.resizeColumns.initializeColumn("cell",this.column,this.element),(this.column.definition.contextMenu||this.column.definition.clickMenu)&&this.table.modExists("menu")&&this.table.modules.menu.initializeCell(this),this.table.modExists("frozenColumns")&&this.table.modules.frozenColumns.layoutElement(this.element,this.column)},Cell.prototype.setWidth=function(){this.width=this.column.width,this.element.style.width=this.column.widthStyled},Cell.prototype.clearWidth=function(){this.width="",this.element.style.width=""},Cell.prototype.getWidth=function(){return this.width||this.element.offsetWidth},Cell.prototype.setMinWidth=function(){this.minWidth=this.column.minWidth,this.element.style.minWidth=this.column.minWidthStyled},Cell.prototype.setMaxWidth=function(){this.maxWidth=this.column.maxWidth,this.element.style.maxWidth=this.column.maxWidthStyled},Cell.prototype.checkHeight=function(){this.row.reinitializeHeight()},Cell.prototype.clearHeight=function(){this.element.style.height="",this.height=null},Cell.prototype.setHeight=function(){this.height=this.row.height,this.element.style.height=this.row.heightStyled},Cell.prototype.getHeight=function(){return this.height||this.element.offsetHeight},Cell.prototype.show=function(){this.element.style.display=this.column.vertAlign?"inline-flex":""},Cell.prototype.hide=function(){this.element.style.display="none"},Cell.prototype.edit=function(e){if(this.table.modExists("edit",!0))return this.table.modules.edit.editCell(this,e)},Cell.prototype.cancelEdit=function(){if(this.table.modExists("edit",!0)){var e=this.table.modules.edit.getCurrentCell();e&&e._getSelf()===this?this.table.modules.edit.cancelEdit():console.warn("Cancel Editor Error - This cell is not currently being edited ")}},Cell.prototype.validate=function(){return!this.column.modules.validate||!this.table.modExists("validate",!0)||!0===this.table.modules.validate.validate(this.column.modules.validate,this,this.getValue())},Cell.prototype.delete=function(){!this.table.rowManager.redrawBlock&&this.element.parentNode&&this.element.parentNode.removeChild(this.element),this.modules.validate&&this.modules.validate.invalid&&this.table.modules.validate.clearValidation(this),this.modules.edit&&this.modules.edit.edited&&this.table.modules.edit.clearEdited(this),this.table.options.history&&this.table.modules.history.clearComponentHistory(this),this.element=!1,this.column.deleteCell(this),this.row.deleteCell(this),this.calcs={}},Cell.prototype.nav=function(){var e=this,t=!1,o=this.row.getCellIndex(this);return{next:function(){var t,o=this.right();return!!o||!(!(t=e.table.rowManager.nextDisplayRow(e.row,!0))||!(o=t.findNextEditableCell(-1)))&&(o.edit(),!0)},prev:function(){var t,o=this.left();return!!o||!(!(t=e.table.rowManager.prevDisplayRow(e.row,!0))||!(o=t.findPrevEditableCell(t.cells.length)))&&(o.edit(),!0)},left:function(){return!!(t=e.row.findPrevEditableCell(o))&&(t.edit(),!0)},right:function(){return!!(t=e.row.findNextEditableCell(o))&&(t.edit(),!0)},up:function(){var t=e.table.rowManager.prevDisplayRow(e.row,!0);t&&t.cells[o].edit()},down:function(){var t=e.table.rowManager.nextDisplayRow(e.row,!0);t&&t.cells[o].edit()}}},Cell.prototype.getIndex=function(){this.row.getCellIndex(this)},Cell.prototype.getComponent=function(){return this.component||(this.component=new CellComponent(this)),this.component};var FooterManager=function(e){this.table=e,this.active=!1,this.element=this.createElement(),this.external=!1,this.links=[],this._initialize()};FooterManager.prototype.createElement=function(){var e=document.createElement("div");return e.classList.add("tabulator-footer"),e},FooterManager.prototype._initialize=function(e){if(this.table.options.footerElement)switch(_typeof(this.table.options.footerElement)){case"string":"<"===this.table.options.footerElement[0]?this.element.innerHTML=this.table.options.footerElement:(this.external=!0,this.element=document.querySelector(this.table.options.footerElement));break;default:this.element=this.table.options.footerElement}},FooterManager.prototype.getElement=function(){return this.element},FooterManager.prototype.append=function(e,t){this.activate(t),this.element.appendChild(e),this.table.rowManager.adjustTableSize()},FooterManager.prototype.prepend=function(e,t){this.activate(t),this.element.insertBefore(e,this.element.firstChild),this.table.rowManager.adjustTableSize()},FooterManager.prototype.remove=function(e){e.parentNode.removeChild(e),this.deactivate()},FooterManager.prototype.deactivate=function(e){this.element.firstChild&&!e||(this.external||this.element.parentNode.removeChild(this.element),this.active=!1)},FooterManager.prototype.activate=function(e){this.active||(this.active=!0,this.external||(this.table.element.appendChild(this.getElement()),this.table.element.style.display="")),e&&this.links.push(e)},FooterManager.prototype.redraw=function(){this.links.forEach((function(e){e.footerRedraw()}))};var Tabulator=function e(t,o){this.options={},this.columnManager=null,this.rowManager=null,this.footerManager=null,this.vdomHoz=null,this.browser="",this.browserSlow=!1,this.browserMobile=!1,this.rtl=!1,this.modules={},this.initializeElement(t)&&(this.initializeOptions(o||{}),this._create()),e.prototype.comms.register(this)};Tabulator.prototype.defaultOptions={height:!1,minHeight:!1,maxHeight:!1,layout:"fitData",layoutColumnsOnNewData:!1,columnMinWidth:40,columnMaxWidth:!1,columnHeaderVertAlign:"top",columnVertAlign:!1,resizableColumns:!0,resizableRows:!1,autoResize:!0,columns:[],cellHozAlign:"",cellVertAlign:"",headerHozAlign:"",data:[],autoColumns:!1,autoColumnsDefinitions:!1,reactiveData:!1,nestedFieldSeparator:".",tooltips:!1,tooltipsHeader:!1,tooltipGenerationMode:"load",initialSort:!1,initialFilter:!1,initialHeaderFilter:!1,columnHeaderSortMulti:!0,sortOrderReverse:!1,headerSort:!0,headerSortTristate:!1,headerSortElement:"<div class='tabulator-arrow'></div>",footerElement:!1,index:"id",textDirection:"auto",keybindings:[],tabEndNewRow:!1,invalidOptionWarnings:!0,clipboard:!1,clipboardCopyStyled:!0,clipboardCopyConfig:!1,clipboardCopyFormatter:!1,clipboardCopyRowRange:"active",clipboardPasteParser:"table",clipboardPasteAction:"insert",clipboardCopied:function(){},clipboardPasted:function(){},clipboardPasteError:function(){},downloadDataFormatter:!1,downloadReady:function(e,t){return t},downloadComplete:!1,downloadConfig:{},downloadRowRange:"active",dataTree:!1,dataTreeFilter:!0,dataTreeSort:!0,dataTreeElementColumn:!1,dataTreeBranchElement:!0,dataTreeChildIndent:9,dataTreeChildField:"_children",dataTreeCollapseElement:!1,dataTreeExpandElement:!1,dataTreeStartExpanded:!1,dataTreeRowExpanded:function(){},dataTreeRowCollapsed:function(){},dataTreeChildColumnCalcs:!1,dataTreeSelectPropagate:!1,printAsHtml:!1,printFormatter:!1,printHeader:!1,printFooter:!1,printCopyStyle:!0,printStyled:!0,printVisibleRows:!0,printRowRange:"visible",printConfig:{},addRowPos:"bottom",selectable:"highlight",selectableRangeMode:"drag",selectableRollingSelection:!0,selectablePersistence:!0,selectableCheck:function(e,t){return!0},headerFilterLiveFilterDelay:300,headerFilterPlaceholder:!1,headerVisible:!0,history:!1,locale:!1,langs:{},virtualDom:!0,virtualDomBuffer:0,virtualDomHoz:!1,persistentLayout:!1,persistentSort:!1,persistentFilter:!1,persistenceID:"",persistenceMode:!0,persistenceReaderFunc:!1,persistenceWriterFunc:!1,persistence:!1,responsiveLayout:!1,responsiveLayoutCollapseStartOpen:!0,responsiveLayoutCollapseUseFormatters:!0,responsiveLayoutCollapseFormatter:!1,pagination:!1,paginationSize:!1,paginationInitialPage:1,paginationButtonCount:5,paginationSizeSelector:!1,paginationElement:!1,paginationDataSent:{},paginationDataReceived:{},paginationAddRow:"page",ajaxURL:!1,ajaxURLGenerator:!1,ajaxParams:{},ajaxConfig:"get",ajaxContentType:"form",ajaxRequestFunc:!1,ajaxLoader:!0,ajaxLoaderLoading:!1,ajaxLoaderError:!1,ajaxFiltering:!1,ajaxSorting:!1,ajaxProgressiveLoad:!1,ajaxProgressiveLoadDelay:0,ajaxProgressiveLoadScrollMargin:0,groupBy:!1,groupStartOpen:!0,groupValues:!1,groupUpdateOnCellEdit:!1,groupHeader:!1,groupHeaderPrint:null,groupHeaderClipboard:null,groupHeaderHtmlOutput:null,groupHeaderDownload:null,htmlOutputConfig:!1,movableColumns:!1,movableRows:!1,movableRowsConnectedTables:!1,movableRowsConnectedElements:!1,movableRowsSender:!1,movableRowsReceiver:"insert",movableRowsSendingStart:function(){},movableRowsSent:function(){},movableRowsSentFailed:function(){},movableRowsSendingStop:function(){},movableRowsReceivingStart:function(){},movableRowsReceived:function(){},movableRowsReceivedFailed:function(){},movableRowsReceivingStop:function(){},movableRowsElementDrop:function(){},scrollToRowPosition:"top",scrollToRowIfVisible:!0,scrollToColumnPosition:"left",scrollToColumnIfVisible:!0,rowFormatter:!1,rowFormatterPrint:null,rowFormatterClipboard:null,rowFormatterHtmlOutput:null,placeholder:!1,tableBuilding:function(){},tableBuilt:function(){},renderStarted:function(){},renderComplete:function(){},rowClick:!1,rowDblClick:!1,rowContext:!1,rowTap:!1,rowDblTap:!1,rowTapHold:!1,rowMouseEnter:!1,rowMouseLeave:!1,rowMouseOver:!1,rowMouseOut:!1,rowMouseMove:!1,rowContextMenu:!1,rowClickMenu:!1,rowAdded:function(){},rowDeleted:function(){},rowMoved:function(){},rowUpdated:function(){},rowSelectionChanged:function(){},rowSelected:function(){},rowDeselected:function(){},rowResized:function(){},cellClick:!1,cellDblClick:!1,cellContext:!1,cellTap:!1,cellDblTap:!1,cellTapHold:!1,cellMouseEnter:!1,cellMouseLeave:!1,cellMouseOver:!1,cellMouseOut:!1,cellMouseMove:!1,cellEditing:function(){},cellEdited:function(){},cellEditCancelled:function(){},columnMoved:!1,columnResized:function(){},columnTitleChanged:function(){},columnVisibilityChanged:function(){},htmlImporting:function(){},htmlImported:function(){},dataLoading:function(){},dataLoaded:function(){},dataEdited:!1,dataChanged:!1,ajaxRequesting:function(){},ajaxResponse:!1,ajaxError:function(){},dataFiltering:!1,dataFiltered:!1,dataSorting:function(){},dataSorted:function(){},groupToggleElement:"arrow",groupClosedShowCalcs:!1,dataGrouping:function(){},dataGrouped:!1,groupVisibilityChanged:function(){},groupClick:!1,groupDblClick:!1,groupContext:!1,groupContextMenu:!1,groupClickMenu:!1,groupTap:!1,groupDblTap:!1,groupTapHold:!1,columnCalcs:!0,pageLoaded:function(){},localized:function(){},validationMode:"blocking",validationFailed:function(){},historyUndo:function(){},historyRedo:function(){},scrollHorizontal:function(){},scrollVertical:function(){}},Tabulator.prototype.initializeOptions=function(e){if(!1!==e.invalidOptionWarnings)for(var t in e)void 0===this.defaultOptions[t]&&console.warn("Invalid table constructor option:",t);for(var t in this.defaultOptions)t in e?this.options[t]=e[t]:Array.isArray(this.defaultOptions[t])?this.options[t]=Object.assign([],this.defaultOptions[t]):"object"===_typeof(this.defaultOptions[t])&&null!==this.defaultOptions[t]?this.options[t]=Object.assign({},this.defaultOptions[t]):this.options[t]=this.defaultOptions[t]},Tabulator.prototype.initializeElement=function(e){return"undefined"!=typeof HTMLElement&&e instanceof HTMLElement?(this.element=e,!0):"string"==typeof e?(this.element=document.querySelector(e),!!this.element||(console.error("Tabulator Creation Error - no element found matching selector: ",e),!1)):(console.error("Tabulator Creation Error - Invalid element provided:",e),!1)},Tabulator.prototype.rtlCheck=function(){var e=window.getComputedStyle(this.element);switch(this.options.textDirection){case"auto":if("rtl"!==e.direction)break;case"rtl":this.element.classList.add("tabulator-rtl"),this.rtl=!0;break;case"ltr":this.element.classList.add("tabulator-ltr");default:this.rtl=!1}},Tabulator.prototype._mapDepricatedFunctionality=function(){(this.options.persistentLayout||this.options.persistentSort||this.options.persistentFilter)&&(this.options.persistence||(this.options.persistence={})),this.options.dataEdited&&(console.warn("DEPRECATION WARNING - dataEdited option has been deprecated, please use the dataChanged option instead"),this.options.dataChanged=this.options.dataEdited),this.options.downloadDataFormatter&&console.warn("DEPRECATION WARNING - downloadDataFormatter option has been deprecated"),void 0!==this.options.clipboardCopyHeader&&(this.options.columnHeaders=this.options.clipboardCopyHeader,console.warn("DEPRECATION WARNING - clipboardCopyHeader option has been deprecated, please use the columnHeaders property on the clipboardCopyConfig option")),!0!==this.options.printVisibleRows&&(console.warn("printVisibleRows option is deprecated, you should now use the printRowRange option"),this.options.persistence.printRowRange="active"),!0!==this.options.printCopyStyle&&(console.warn("printCopyStyle option is deprecated, you should now use the printStyled option"),this.options.persistence.printStyled=this.options.printCopyStyle),this.options.persistentLayout&&(console.warn("persistentLayout option is deprecated, you should now use the persistence option"),!0!==this.options.persistence&&void 0===this.options.persistence.columns&&(this.options.persistence.columns=!0)),this.options.persistentSort&&(console.warn("persistentSort option is deprecated, you should now use the persistence option"),!0!==this.options.persistence&&void 0===this.options.persistence.sort&&(this.options.persistence.sort=!0)),this.options.persistentFilter&&(console.warn("persistentFilter option is deprecated, you should now use the persistence option"),!0!==this.options.persistence&&void 0===this.options.persistence.filter&&(this.options.persistence.filter=!0)),this.options.columnVertAlign&&(console.warn("columnVertAlign option is deprecated, you should now use the columnHeaderVertAlign option"),this.options.columnHeaderVertAlign=this.options.columnVertAlign)},Tabulator.prototype._clearSelection=function(){this.element.classList.add("tabulator-block-select"),window.getSelection?window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().removeAllRanges():document.selection&&document.selection.empty(),this.element.classList.remove("tabulator-block-select")},Tabulator.prototype._create=function(){this._clearObjectPointers(),this._mapDepricatedFunctionality(),this.bindModules(),this.rtlCheck(),"TABLE"===this.element.tagName&&this.modExists("htmlTableImport",!0)&&this.modules.htmlTableImport.parseTable(),this.columnManager=new ColumnManager(this),this.rowManager=new RowManager(this),this.footerManager=new FooterManager(this),this.columnManager.setRowManager(this.rowManager),this.rowManager.setColumnManager(this.columnManager),this.options.virtualDomHoz&&(this.vdomHoz=new VDomHoz(this)),this._buildElement(),this._loadInitialData()},Tabulator.prototype._clearObjectPointers=function(){this.options.columns=this.options.columns.slice(0),this.options.reactiveData||(this.options.data=this.options.data.slice(0))},Tabulator.prototype._buildElement=function(){var e=this,t=this.element,o=this.modules,i=this.options;for(i.tableBuilding.call(this),t.classList.add("tabulator"),t.setAttribute("role","grid");t.firstChild;)t.removeChild(t.firstChild);for(var n in i.height&&(i.height=isNaN(i.height)?i.height:i.height+"px",t.style.height=i.height),!1!==i.minHeight&&(i.minHeight=isNaN(i.minHeight)?i.minHeight:i.minHeight+"px",t.style.minHeight=i.minHeight),!1!==i.maxHeight&&(i.maxHeight=isNaN(i.maxHeight)?i.maxHeight:i.maxHeight+"px",t.style.maxHeight=i.maxHeight),this.columnManager.initialize(),this.rowManager.initialize(),this._detectBrowser(),this.modExists("layout",!0)&&o.layout.initialize(i.layout),o.localize.initialize(),!1!==i.headerFilterPlaceholder&&o.localize.setHeaderFilterPlaceholder(i.headerFilterPlaceholder),i.langs)o.localize.installLang(n,i.langs[n]);if(o.localize.setLocale(i.locale),"string"==typeof i.placeholder){var r=document.createElement("div");r.classList.add("tabulator-placeholder");var s=document.createElement("span");s.innerHTML=i.placeholder,r.appendChild(s),i.placeholder=r}if(t.appendChild(this.columnManager.getElement()),t.appendChild(this.rowManager.getElement()),i.footerElement&&this.footerManager.activate(),i.persistence&&this.modExists("persistence",!0)&&o.persistence.initialize(),i.movableRows&&this.modExists("moveRow")&&o.moveRow.initialize(),i.autoColumns&&this.options.data&&this.columnManager.generateColumnsFromRowData(this.options.data),this.modExists("columnCalcs")&&o.columnCalcs.initialize(),this.columnManager.setColumns(i.columns),i.dataTree&&this.modExists("dataTree",!0)&&o.dataTree.initialize(),this.modExists("frozenRows")&&this.modules.frozenRows.initialize(),(i.persistence&&this.modExists("persistence",!0)&&o.persistence.config.sort||i.initialSort)&&this.modExists("sort",!0)){var a=[];i.persistence&&this.modExists("persistence",!0)&&o.persistence.config.sort?!1===(a=o.persistence.load("sort"))&&i.initialSort&&(a=i.initialSort):i.initialSort&&(a=i.initialSort),o.sort.setSort(a)}if((i.persistence&&this.modExists("persistence",!0)&&o.persistence.config.filter||i.initialFilter)&&this.modExists("filter",!0)){var l=[];i.persistence&&this.modExists("persistence",!0)&&o.persistence.config.filter?!1===(l=o.persistence.load("filter"))&&i.initialFilter&&(l=i.initialFilter):i.initialFilter&&(l=i.initialFilter),o.filter.setFilter(l)}i.initialHeaderFilter&&this.modExists("filter",!0)&&i.initialHeaderFilter.forEach((function(t){var i=e.columnManager.findColumn(t.field);if(!i)return console.warn("Column Filter Error - No matching column found:",t.field),!1;o.filter.setHeaderFilterValue(i,t.value)})),this.modExists("ajax")&&o.ajax.initialize(),i.pagination&&this.modExists("page",!0)&&o.page.initialize(),i.groupBy&&this.modExists("groupRows",!0)&&o.groupRows.initialize(),this.modExists("keybindings")&&o.keybindings.initialize(),this.modExists("selectRow")&&o.selectRow.clearSelectionData(!0),i.autoResize&&this.modExists("resizeTable")&&o.resizeTable.initialize(),this.modExists("clipboard")&&o.clipboard.initialize(),i.printAsHtml&&this.modExists("print")&&o.print.initialize(),i.tableBuilt.call(this)},Tabulator.prototype._loadInitialData=function(){var e=this;if(e.options.pagination&&e.modExists("page"))if(e.modules.page.reset(!0,!0),"local"==e.options.pagination){if(e.options.data.length)e.rowManager.setData(e.options.data,!1,!0);else{if((e.options.ajaxURL||e.options.ajaxURLGenerator)&&e.modExists("ajax"))return void e.modules.ajax.loadData(!1,!0).then((function(){})).catch((function(){e.options.paginationInitialPage&&e.modules.page.setPage(e.options.paginationInitialPage)}));e.rowManager.setData(e.options.data,!1,!0)}e.options.paginationInitialPage&&e.modules.page.setPage(e.options.paginationInitialPage)}else e.options.ajaxURL?e.modules.page.setPage(e.options.paginationInitialPage).then((function(){})).catch((function(){})):e.rowManager.setData([],!1,!0);else e.options.data.length?e.rowManager.setData(e.options.data):(e.options.ajaxURL||e.options.ajaxURLGenerator)&&e.modExists("ajax")?e.modules.ajax.loadData(!1,!0).then((function(){})).catch((function(){})):e.rowManager.setData(e.options.data,!1,!0)},Tabulator.prototype.destroy=function(){var e=this.element;for(Tabulator.prototype.comms.deregister(this),this.options.reactiveData&&this.modExists("reactiveData",!0)&&this.modules.reactiveData.unwatchData(),this.rowManager.rows.forEach((function(e){e.wipe()})),this.rowManager.rows=[],this.rowManager.activeRows=[],this.rowManager.displayRows=[],this.options.autoResize&&this.modExists("resizeTable")&&this.modules.resizeTable.clearBindings(),this.modExists("keybindings")&&this.modules.keybindings.clearBindings();e.firstChild;)e.removeChild(e.firstChild);e.classList.remove("tabulator")},Tabulator.prototype._detectBrowser=function(){var e=navigator.userAgent||navigator.vendor||window.opera;e.indexOf("Trident")>-1?(this.browser="ie",this.browserSlow=!0):e.indexOf("Edge")>-1?(this.browser="edge",this.browserSlow=!0):e.indexOf("Firefox")>-1?(this.browser="firefox",this.browserSlow=!1):(this.browser="other",this.browserSlow=!1),this.browserMobile=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4))},Tabulator.prototype.blockRedraw=function(){return this.rowManager.blockRedraw()},Tabulator.prototype.restoreRedraw=function(){return this.rowManager.restoreRedraw()},Tabulator.prototype.setDataFromLocalFile=function(e){var t=this;return new Promise((function(o,i){var n=document.createElement("input");n.type="file",n.accept=e||".json,application/json",n.addEventListener("change",(function(e){var r,s=n.files[0],a=new FileReader;a.readAsText(s),a.onload=function(e){try{r=JSON.parse(a.result)}catch(e){return console.warn("File Load Error - File contents is invalid JSON",e),void i(e)}t.setData(r).then((function(e){o(e)})).catch((function(e){o(e)}))},a.onerror=function(e){console.warn("File Load Error - Unable to read file"),i()}})),n.click()}))},Tabulator.prototype.setData=function(e,t,o){return this.modExists("ajax")&&this.modules.ajax.blockActiveRequest(),this._setData(e,t,o,!1,!0)},Tabulator.prototype._setData=function(e,t,o,i,n){var r=this;return"string"!=typeof e?e?r.rowManager.setData(e,i,n):r.modExists("ajax")&&(r.modules.ajax.getUrl||r.options.ajaxURLGenerator)?"remote"==r.options.pagination&&r.modExists("page",!0)?(r.modules.page.reset(!0,!0),r.modules.page.setPage(1)):r.modules.ajax.loadData(i,n):r.rowManager.setData([],i,n):0==e.indexOf("{")||0==e.indexOf("[")?r.rowManager.setData(JSON.parse(e),i,n):r.modExists("ajax",!0)?(t&&r.modules.ajax.setParams(t),o&&r.modules.ajax.setConfig(o),r.modules.ajax.setUrl(e),"remote"==r.options.pagination&&r.modExists("page",!0)?(r.modules.page.reset(!0,!0),r.modules.page.setPage(1)):r.modules.ajax.loadData(i,n)):void 0},Tabulator.prototype.clearData=function(){this.modExists("ajax")&&this.modules.ajax.blockActiveRequest(),this.rowManager.clearData()},Tabulator.prototype.getData=function(e){return!0===e&&(console.warn("passing a boolean to the getData function is deprecated, you should now pass the string 'active'"),e="active"),this.rowManager.getData(e)},Tabulator.prototype.getDataCount=function(e){return!0===e&&(console.warn("passing a boolean to the getDataCount function is deprecated, you should now pass the string 'active'"),e="active"),this.rowManager.getDataCount(e)},Tabulator.prototype.searchRows=function(e,t,o){if(this.modExists("filter",!0))return this.modules.filter.search("rows",e,t,o)},Tabulator.prototype.searchData=function(e,t,o){if(this.modExists("filter",!0))return this.modules.filter.search("data",e,t,o)},Tabulator.prototype.getHtml=function(e,t,o){if(this.modExists("export",!0))return this.modules.export.getHtml(e,t,o)},Tabulator.prototype.print=function(e,t,o){if(this.modExists("print",!0))return this.modules.print.printFullscreen(e,t,o)},Tabulator.prototype.getAjaxUrl=function(){if(this.modExists("ajax",!0))return this.modules.ajax.getUrl()},Tabulator.prototype.replaceData=function(e,t,o){return this.modExists("ajax")&&this.modules.ajax.blockActiveRequest(),this._setData(e,t,o,!0)},Tabulator.prototype.updateData=function(e){var t=this,o=this,i=0;return new Promise((function(n,r){t.modExists("ajax")&&t.modules.ajax.blockActiveRequest(),"string"==typeof e&&(e=JSON.parse(e)),e?e.forEach((function(e){var t=o.rowManager.findRow(e[o.options.index]);t&&(i++,t.updateData(e).then((function(){--i||n()})))})):(console.warn("Update Error - No data provided"),r("Update Error - No data provided"))}))},Tabulator.prototype.addData=function(e,t,o){var i=this;return new Promise((function(n,r){i.modExists("ajax")&&i.modules.ajax.blockActiveRequest(),"string"==typeof e&&(e=JSON.parse(e)),e?i.rowManager.addRows(e,t,o).then((function(e){var t=[];e.forEach((function(e){t.push(e.getComponent())})),n(t)})):(console.warn("Update Error - No data provided"),r("Update Error - No data provided"))}))},Tabulator.prototype.updateOrAddData=function(e){var t=this,o=this,i=[],n=0;return new Promise((function(r,s){t.modExists("ajax")&&t.modules.ajax.blockActiveRequest(),"string"==typeof e&&(e=JSON.parse(e)),e?e.forEach((function(e){var t=o.rowManager.findRow(e[o.options.index]);n++,t?t.updateData(e).then((function(){n--,i.push(t.getComponent()),n||r(i)})):o.rowManager.addRows(e).then((function(e){n--,i.push(e[0].getComponent()),n||r(i)}))})):(console.warn("Update Error - No data provided"),s("Update Error - No data provided"))}))},Tabulator.prototype.getRow=function(e){var t=this.rowManager.findRow(e);return t?t.getComponent():(console.warn("Find Error - No matching row found:",e),!1)},Tabulator.prototype.getRowFromPosition=function(e,t){var o=this.rowManager.getRowFromPosition(e,t);return o?o.getComponent():(console.warn("Find Error - No matching row found:",e),!1)},Tabulator.prototype.deleteRow=function(e){var t=this;return new Promise((function(o,i){var n=t,r=0,s=0,a=[];function l(){++r==e.length&&s&&(n.rowManager.reRenderInPosition(),o())}Array.isArray(e)||(e=[e]),e.forEach((function(e){var o=t.rowManager.findRow(e,!0);o?a.push(o):(console.warn("Delete Error - No matching row found:",e),i("Delete Error - No matching row found"),l())})),a.sort((function(e,o){return t.rowManager.rows.indexOf(e)>t.rowManager.rows.indexOf(o)?1:-1})),a.forEach((function(e){e.delete().then((function(){s++,l()})).catch((function(e){l(),i(e)}))}))}))},Tabulator.prototype.addRow=function(e,t,o){var i=this;return new Promise((function(n,r){"string"==typeof e&&(e=JSON.parse(e)),i.rowManager.addRows(e,t,o).then((function(e){i.modExists("columnCalcs")&&i.modules.columnCalcs.recalc(i.rowManager.activeRows),n(e[0].getComponent())}))}))},Tabulator.prototype.updateOrAddRow=function(e,t){var o=this;return new Promise((function(i,n){var r=o.rowManager.findRow(e);"string"==typeof t&&(t=JSON.parse(t)),r?r.updateData(t).then((function(){o.modExists("columnCalcs")&&o.modules.columnCalcs.recalc(o.rowManager.activeRows),i(r.getComponent())})).catch((function(e){n(e)})):r=o.rowManager.addRows(t).then((function(e){o.modExists("columnCalcs")&&o.modules.columnCalcs.recalc(o.rowManager.activeRows),i(e[0].getComponent())})).catch((function(e){n(e)}))}))},Tabulator.prototype.updateRow=function(e,t){var o=this;return new Promise((function(i,n){var r=o.rowManager.findRow(e);"string"==typeof t&&(t=JSON.parse(t)),r?r.updateData(t).then((function(){i(r.getComponent())})).catch((function(e){n(e)})):(console.warn("Update Error - No matching row found:",e),n("Update Error - No matching row found"))}))},Tabulator.prototype.scrollToRow=function(e,t,o){var i=this;return new Promise((function(n,r){var s=i.rowManager.findRow(e);s?i.rowManager.scrollToRow(s,t,o).then((function(){n()})).catch((function(e){r(e)})):(console.warn("Scroll Error - No matching row found:",e),r("Scroll Error - No matching row found"))}))},Tabulator.prototype.moveRow=function(e,t,o){var i=this.rowManager.findRow(e);i?i.moveToRow(t,o):console.warn("Move Error - No matching row found:",e)},Tabulator.prototype.getRows=function(e){return!0===e&&(console.warn("passing a boolean to the getRows function is deprecated, you should now pass the string 'active'"),e="active"),this.rowManager.getComponents(e)},Tabulator.prototype.getRowPosition=function(e,t){var o=this.rowManager.findRow(e);return o?this.rowManager.getRowPosition(o,t):(console.warn("Position Error - No matching row found:",e),!1)},Tabulator.prototype.copyToClipboard=function(e){this.modExists("clipboard",!0)&&this.modules.clipboard.copy(e)},Tabulator.prototype.setColumns=function(e){this.columnManager.setColumns(e)},Tabulator.prototype.getColumns=function(e){return this.columnManager.getComponents(e)},Tabulator.prototype.getColumn=function(e){var t=this.columnManager.findColumn(e);return t?t.getComponent():(console.warn("Find Error - No matching column found:",e),!1)},Tabulator.prototype.getColumnDefinitions=function(){return this.columnManager.getDefinitionTree()},Tabulator.prototype.getColumnLayout=function(){if(this.modExists("persistence",!0))return this.modules.persistence.parseColumns(this.columnManager.getColumns())},Tabulator.prototype.setColumnLayout=function(e){return!!this.modExists("persistence",!0)&&(this.columnManager.setColumns(this.modules.persistence.mergeDefinition(this.options.columns,e)),!0)},Tabulator.prototype.showColumn=function(e){var t=this.columnManager.findColumn(e);if(!t)return console.warn("Column Show Error - No matching column found:",e),!1;t.show(),this.options.responsiveLayout&&this.modExists("responsiveLayout",!0)&&this.modules.responsiveLayout.update()},Tabulator.prototype.hideColumn=function(e){var t=this.columnManager.findColumn(e);if(!t)return console.warn("Column Hide Error - No matching column found:",e),!1;t.hide(),this.options.responsiveLayout&&this.modExists("responsiveLayout",!0)&&this.modules.responsiveLayout.update()},Tabulator.prototype.toggleColumn=function(e){var t=this.columnManager.findColumn(e);if(!t)return console.warn("Column Visibility Toggle Error - No matching column found:",e),!1;t.visible?t.hide():t.show()},Tabulator.prototype.addColumn=function(e,t,o){var i=this;return new Promise((function(n,r){var s=i.columnManager.findColumn(o);i.columnManager.addColumn(e,t,s).then((function(e){n(e.getComponent())})).catch((function(e){r(e)}))}))},Tabulator.prototype.deleteColumn=function(e){var t=this;return new Promise((function(o,i){var n=t.columnManager.findColumn(e);n?n.delete().then((function(){o()})).catch((function(e){i(e)})):(console.warn("Column Delete Error - No matching column found:",e),i())}))},Tabulator.prototype.updateColumnDefinition=function(e,t){var o=this;return new Promise((function(i,n){var r=o.columnManager.findColumn(e);r?r.updateDefinition(t).then((function(e){i(e)})).catch((function(e){n(e)})):(console.warn("Column Update Error - No matching column found:",e),n())}))},Tabulator.prototype.moveColumn=function(e,t,o){var i=this.columnManager.findColumn(e),n=this.columnManager.findColumn(t);i?n?this.columnManager.moveColumn(i,n,o):console.warn("Move Error - No matching column found:",n):console.warn("Move Error - No matching column found:",e)},Tabulator.prototype.scrollToColumn=function(e,t,o){var i=this;return new Promise((function(n,r){var s=i.columnManager.findColumn(e);s?i.columnManager.scrollToColumn(s,t,o).then((function(){n()})).catch((function(e){r(e)})):(console.warn("Scroll Error - No matching column found:",e),r("Scroll Error - No matching column found"))}))},Tabulator.prototype.setLocale=function(e){this.modules.localize.setLocale(e)},Tabulator.prototype.getLocale=function(){return this.modules.localize.getLocale()},Tabulator.prototype.getLang=function(e){return this.modules.localize.getLang(e)},Tabulator.prototype.redraw=function(e){this.columnManager.redraw(e),this.rowManager.redraw(e)},Tabulator.prototype.setHeight=function(e){"classic"!==this.rowManager.renderMode?(this.options.height=isNaN(e)?e:e+"px",this.element.style.height=this.options.height,this.rowManager.setRenderMode(),this.rowManager.redraw()):console.warn("setHeight function is not available in classic render mode")},Tabulator.prototype.setSort=function(e,t){this.modExists("sort",!0)&&(this.modules.sort.setSort(e,t),this.rowManager.sorterRefresh())},Tabulator.prototype.getSorters=function(){if(this.modExists("sort",!0))return this.modules.sort.getSort()},Tabulator.prototype.clearSort=function(){this.modExists("sort",!0)&&(this.modules.sort.clear(),this.rowManager.sorterRefresh())},Tabulator.prototype.setFilter=function(e,t,o,i){this.modExists("filter",!0)&&(this.modules.filter.setFilter(e,t,o,i),this.rowManager.filterRefresh())},Tabulator.prototype.refreshFilter=function(){this.modExists("filter",!0)&&this.rowManager.filterRefresh()},Tabulator.prototype.addFilter=function(e,t,o,i){this.modExists("filter",!0)&&(this.modules.filter.addFilter(e,t,o,i),this.rowManager.filterRefresh())},Tabulator.prototype.getFilters=function(e){if(this.modExists("filter",!0))return this.modules.filter.getFilters(e)},Tabulator.prototype.setHeaderFilterFocus=function(e){if(this.modExists("filter",!0)){var t=this.columnManager.findColumn(e);if(!t)return console.warn("Column Filter Focus Error - No matching column found:",e),!1;this.modules.filter.setHeaderFilterFocus(t)}},Tabulator.prototype.getHeaderFilterValue=function(e){if(this.modExists("filter",!0)){var t=this.columnManager.findColumn(e);if(t)return this.modules.filter.getHeaderFilterValue(t);console.warn("Column Filter Error - No matching column found:",e)}},Tabulator.prototype.setHeaderFilterValue=function(e,t){if(this.modExists("filter",!0)){var o=this.columnManager.findColumn(e);if(!o)return console.warn("Column Filter Error - No matching column found:",e),!1;this.modules.filter.setHeaderFilterValue(o,t)}},Tabulator.prototype.getHeaderFilters=function(){if(this.modExists("filter",!0))return this.modules.filter.getHeaderFilters()},Tabulator.prototype.removeFilter=function(e,t,o){this.modExists("filter",!0)&&(this.modules.filter.removeFilter(e,t,o),this.rowManager.filterRefresh())},Tabulator.prototype.clearFilter=function(e){this.modExists("filter",!0)&&(this.modules.filter.clearFilter(e),this.rowManager.filterRefresh())},Tabulator.prototype.clearHeaderFilter=function(){this.modExists("filter",!0)&&(this.modules.filter.clearHeaderFilter(),this.rowManager.filterRefresh())},Tabulator.prototype.selectRow=function(e){this.modExists("selectRow",!0)&&(!0===e&&(console.warn("passing a boolean to the selectRowselectRow function is deprecated, you should now pass the string 'active'"),e="active"),this.modules.selectRow.selectRows(e))},Tabulator.prototype.deselectRow=function(e){this.modExists("selectRow",!0)&&this.modules.selectRow.deselectRows(e)},Tabulator.prototype.toggleSelectRow=function(e){this.modExists("selectRow",!0)&&this.modules.selectRow.toggleRow(e)},Tabulator.prototype.getSelectedRows=function(){if(this.modExists("selectRow",!0))return this.modules.selectRow.getSelectedRows()},Tabulator.prototype.getSelectedData=function(){if(this.modExists("selectRow",!0))return this.modules.selectRow.getSelectedData()},Tabulator.prototype.getInvalidCells=function(){if(this.modExists("validate",!0))return this.modules.validate.getInvalidCells()},Tabulator.prototype.clearCellValidation=function(e){var t=this;this.modExists("validate",!0)&&(e||(e=this.modules.validate.getInvalidCells()),Array.isArray(e)||(e=[e]),e.forEach((function(e){t.modules.validate.clearValidation(e._getSelf())})))},Tabulator.prototype.validate=function(e){var t=[];return this.rowManager.rows.forEach((function(e){var o=e.validate();!0!==o&&(t=t.concat(o))})),!t.length||t},Tabulator.prototype.setMaxPage=function(e){if(!this.options.pagination||!this.modExists("page"))return!1;this.modules.page.setMaxPage(e)},Tabulator.prototype.setPage=function(e){return this.options.pagination&&this.modExists("page")?this.modules.page.setPage(e):new Promise((function(e,t){t()}))},Tabulator.prototype.setPageToRow=function(e){var t=this;return new Promise((function(o,i){t.options.pagination&&t.modExists("page")&&(e=t.rowManager.findRow(e))?t.modules.page.setPageToRow(e).then((function(){o()})).catch((function(){i()})):i()}))},Tabulator.prototype.setPageSize=function(e){if(!this.options.pagination||!this.modExists("page"))return!1;this.modules.page.setPageSize(e),this.modules.page.setPage(1).then((function(){})).catch((function(){}))},Tabulator.prototype.getPageSize=function(){if(this.options.pagination&&this.modExists("page",!0))return this.modules.page.getPageSize()},Tabulator.prototype.previousPage=function(){if(!this.options.pagination||!this.modExists("page"))return!1;this.modules.page.previousPage()},Tabulator.prototype.nextPage=function(){if(!this.options.pagination||!this.modExists("page"))return!1;this.modules.page.nextPage()},Tabulator.prototype.getPage=function(){return!(!this.options.pagination||!this.modExists("page"))&&this.modules.page.getPage()},Tabulator.prototype.getPageMax=function(){return!(!this.options.pagination||!this.modExists("page"))&&this.modules.page.getPageMax()},Tabulator.prototype.setGroupBy=function(e){if(!this.modExists("groupRows",!0))return!1;this.options.groupBy=e,this.modules.groupRows.initialize(),this.rowManager.refreshActiveData("display"),this.options.persistence&&this.modExists("persistence",!0)&&this.modules.persistence.config.group&&this.modules.persistence.save("group")},Tabulator.prototype.setGroupValues=function(e){if(!this.modExists("groupRows",!0))return!1;this.options.groupValues=e,this.modules.groupRows.initialize(),this.rowManager.refreshActiveData("display"),this.options.persistence&&this.modExists("persistence",!0)&&this.modules.persistence.config.group&&this.modules.persistence.save("group")},Tabulator.prototype.setGroupStartOpen=function(e){if(!this.modExists("groupRows",!0))return!1;this.options.groupStartOpen=e,this.modules.groupRows.initialize(),this.options.groupBy?(this.rowManager.refreshActiveData("group"),this.options.persistence&&this.modExists("persistence",!0)&&this.modules.persistence.config.group&&this.modules.persistence.save("group")):console.warn("Grouping Update - cant refresh view, no groups have been set")},Tabulator.prototype.setGroupHeader=function(e){if(!this.modExists("groupRows",!0))return!1;this.options.groupHeader=e,this.modules.groupRows.initialize(),this.options.groupBy?(this.rowManager.refreshActiveData("group"),this.options.persistence&&this.modExists("persistence",!0)&&this.modules.persistence.config.group&&this.modules.persistence.save("group")):console.warn("Grouping Update - cant refresh view, no groups have been set")},Tabulator.prototype.getGroups=function(e){return!!this.modExists("groupRows",!0)&&this.modules.groupRows.getGroups(!0)},Tabulator.prototype.getGroupedData=function(){if(this.modExists("groupRows",!0))return this.options.groupBy?this.modules.groupRows.getGroupedData():this.getData()},Tabulator.prototype.getEditedCells=function(){if(this.modExists("edit",!0))return this.modules.edit.getEditedCells()},Tabulator.prototype.clearCellEdited=function(e){var t=this;this.modExists("edit",!0)&&(e||(e=this.modules.edit.getEditedCells()),Array.isArray(e)||(e=[e]),e.forEach((function(e){t.modules.edit.clearEdited(e._getSelf())})))},Tabulator.prototype.getCalcResults=function(){return!!this.modExists("columnCalcs",!0)&&this.modules.columnCalcs.getResults()},Tabulator.prototype.recalc=function(){this.modExists("columnCalcs",!0)&&this.modules.columnCalcs.recalcAll(this.rowManager.activeRows)},Tabulator.prototype.navigatePrev=function(){var e=!1;return!(!this.modExists("edit",!0)||!(e=this.modules.edit.currentCell))&&e.nav().prev()},Tabulator.prototype.navigateNext=function(){var e=!1;return!(!this.modExists("edit",!0)||!(e=this.modules.edit.currentCell))&&e.nav().next()},Tabulator.prototype.navigateLeft=function(){var t=!1;return!(!this.modExists("edit",!0)||!(t=this.modules.edit.currentCell))&&(e.preventDefault(),t.nav().left())},Tabulator.prototype.navigateRight=function(){var t=!1;return!(!this.modExists("edit",!0)||!(t=this.modules.edit.currentCell))&&(e.preventDefault(),t.nav().right())},Tabulator.prototype.navigateUp=function(){var t=!1;return!(!this.modExists("edit",!0)||!(t=this.modules.edit.currentCell))&&(e.preventDefault(),t.nav().up())},Tabulator.prototype.navigateDown=function(){var t=!1;return!(!this.modExists("edit",!0)||!(t=this.modules.edit.currentCell))&&(e.preventDefault(),t.nav().down())},Tabulator.prototype.undo=function(){return!(!this.options.history||!this.modExists("history",!0))&&this.modules.history.undo()},Tabulator.prototype.redo=function(){return!(!this.options.history||!this.modExists("history",!0))&&this.modules.history.redo()},Tabulator.prototype.getHistoryUndoSize=function(){return!(!this.options.history||!this.modExists("history",!0))&&this.modules.history.getHistoryUndoSize()},Tabulator.prototype.getHistoryRedoSize=function(){return!(!this.options.history||!this.modExists("history",!0))&&this.modules.history.getHistoryRedoSize()},Tabulator.prototype.clearHistory=function(){return!(!this.options.history||!this.modExists("history",!0))&&this.modules.history.clear()},Tabulator.prototype.download=function(e,t,o,i){this.modExists("download",!0)&&this.modules.download.download(e,t,o,i)},Tabulator.prototype.downloadToTab=function(e,t,o,i){this.modExists("download",!0)&&this.modules.download.download(e,t,o,i,!0)},Tabulator.prototype.tableComms=function(e,t,o,i){this.modules.comms.receive(e,t,o,i)},Tabulator.prototype.moduleBindings={},Tabulator.prototype.extendModule=function(e,t,o){if(Tabulator.prototype.moduleBindings[e]){var i=Tabulator.prototype.moduleBindings[e].prototype[t];if(i)if("object"==(void 0===o?"undefined":_typeof(o)))for(var n in o)i[n]=o[n];else console.warn("Module Error - Invalid value type, it must be an object");else console.warn("Module Error - property does not exist:",t)}else console.warn("Module Error - module does not exist:",e)},Tabulator.prototype.registerModule=function(e,t){Tabulator.prototype.moduleBindings[e]=t},Tabulator.prototype.bindModules=function(){for(var e in this.modules={},Tabulator.prototype.moduleBindings)this.modules[e]=new Tabulator.prototype.moduleBindings[e](this)},Tabulator.prototype.modExists=function(e,t){return!!this.modules[e]||(t&&console.error("Tabulator Module Not Installed: "+e),!1)},Tabulator.prototype.helpers={elVisible:function(e){return!(e.offsetWidth<=0&&e.offsetHeight<=0)},elOffset:function(e){var t=e.getBoundingClientRect();return{top:t.top+window.pageYOffset-document.documentElement.clientTop,left:t.left+window.pageXOffset-document.documentElement.clientLeft}},deepClone:function(e){var t=Object.assign(Array.isArray(e)?[]:{},e);for(var o in e)null!=e[o]&&"object"===_typeof(e[o])&&(e[o]instanceof Date?t[o]=new Date(e[o]):t[o]=this.deepClone(e[o]));return t}},Tabulator.prototype.comms={tables:[],register:function(e){Tabulator.prototype.comms.tables.push(e)},deregister:function(e){var t=Tabulator.prototype.comms.tables.indexOf(e);t>-1&&Tabulator.prototype.comms.tables.splice(t,1)},lookupTable:function(e,t){var o,i,n=[];if("string"==typeof e){if((o=document.querySelectorAll(e)).length)for(var r=0;r<o.length;r++)(i=Tabulator.prototype.comms.matchElement(o[r]))&&n.push(i)}else"undefined"!=typeof HTMLElement&&e instanceof HTMLElement||e instanceof Tabulator?(i=Tabulator.prototype.comms.matchElement(e))&&n.push(i):Array.isArray(e)?e.forEach((function(e){n=n.concat(Tabulator.prototype.comms.lookupTable(e))})):t||console.warn("Table Connection Error - Invalid Selector",e);return n},matchElement:function(e){return Tabulator.prototype.comms.tables.find((function(t){return e instanceof Tabulator?t===e:t.element===e}))}},Tabulator.prototype.findTable=function(e){var t=Tabulator.prototype.comms.lookupTable(e,!0);return!(Array.isArray(t)&&!t.length)&&t};var Layout=function(e){this.table=e,this.mode=null};Layout.prototype.initialize=function(e){this.modes[e]?this.mode=e:(console.warn("Layout Error - invalid mode set, defaulting to 'fitData' : "+e),this.mode="fitData"),this.table.element.setAttribute("tabulator-layout",this.mode)},Layout.prototype.getMode=function(){return this.mode},Layout.prototype.layout=function(){this.modes[this.mode].call(this,this.table.columnManager.columnsByIndex),0===this.mode.indexOf("fitData")&&this.table.options.persistence&&this.table.modExists("persistence",!0)&&this.table.modules.persistence.config.columns&&this.table.modules.persistence.save("columns")},Layout.prototype.modes={fitData:function(e){this.table.options.virtualDomHoz?this.table.vdomHoz.fitDataLayoutOverride():e.forEach((function(e){e.reinitializeWidth()})),this.table.options.responsiveLayout&&this.table.modExists("responsiveLayout",!0)&&this.table.modules.responsiveLayout.update()},fitDataFill:function(e){e.forEach((function(e){e.reinitializeWidth()})),this.table.options.responsiveLayout&&this.table.modExists("responsiveLayout",!0)&&this.table.modules.responsiveLayout.update()},fitDataTable:function(e){e.forEach((function(e){e.reinitializeWidth()})),this.table.options.responsiveLayout&&this.table.modExists("responsiveLayout",!0)&&this.table.modules.responsiveLayout.update()},fitDataStretch:function(e){var t=this,o=0,i=this.table.rowManager.element.clientWidth,n=0,r=!1;e.forEach((function(e,i){e.widthFixed||e.reinitializeWidth(),(t.table.options.responsiveLayout?e.modules.responsive.visible:e.visible)&&(r=e),e.visible&&(o+=e.getWidth())})),r?(n=i-o+r.getWidth(),this.table.options.responsiveLayout&&this.table.modExists("responsiveLayout",!0)&&(r.setWidth(0),this.table.modules.responsiveLayout.update()),n>0?r.setWidth(n):r.reinitializeWidth()):this.table.options.responsiveLayout&&this.table.modExists("responsiveLayout",!0)&&this.table.modules.responsiveLayout.update()},fitColumns:function(e){var t,o,i=this.table.element.clientWidth,n=0,r=0,s=0,a=[],l=[],u=0,c=0;function d(e){return"string"==typeof e?e.indexOf("%")>-1?i/100*parseInt(e):parseInt(e):e}function h(e,t,o,i){var n=[],r=0,a=0,l=0,u=s,c=0,p=0,m=[];function f(e){return o*(e.column.definition.widthGrow||1)}function g(e){return d(e.width)-o*(e.column.definition.widthShrink||0)}return e.forEach((function(e,r){var s=i?g(e):f(e);e.column.minWidth>=s?n.push(e):e.column.maxWidth&&e.column.maxWidth<s?(e.width=e.column.maxWidth,t-=e.column.maxWidth,(u-=i?e.column.definition.widthShrink||1:e.column.definition.widthGrow||1)&&(o=Math.floor(t/u))):(m.push(e),p+=i?e.column.definition.widthShrink||1:e.column.definition.widthGrow||1)})),n.length?(n.forEach((function(e){r+=i?e.width-e.column.minWidth:e.column.minWidth,e.width=e.column.minWidth})),c=(a=t-r)-(l=p?Math.floor(a/p):a)*p,c+=h(m,a,l,i)):(c=p?t-Math.floor(t/p)*p:t,m.forEach((function(e){e.width=i?g(e):f(e)}))),c}this.table.options.responsiveLayout&&this.table.modExists("responsiveLayout",!0)&&this.table.modules.responsiveLayout.update(),this.table.rowManager.element.scrollHeight>this.table.rowManager.element.clientHeight&&(i-=this.table.rowManager.element.offsetWidth-this.table.rowManager.element.clientWidth),e.forEach((function(e){var t,o,i;e.visible&&(t=e.definition.width,o=parseInt(e.minWidth),t?(i=d(t),n+=i>o?i:o,e.definition.widthShrink&&(l.push({column:e,width:i>o?i:o}),u+=e.definition.widthShrink)):(a.push({column:e,width:0}),s+=e.definition.widthGrow||1))})),r=i-n,t=Math.floor(r/s);c=h(a,r,t,!1);a.length&&c>0&&(a[a.length-1].width+=+c),a.forEach((function(e){r-=e.width})),(o=Math.abs(c)+r)>0&&u&&(c=h(l,o,Math.floor(o/u),!0)),l.length&&(l[l.length-1].width-=c),a.forEach((function(e){e.column.setWidth(e.width)})),l.forEach((function(e){e.column.setWidth(e.width)}))}},Tabulator.prototype.registerModule("layout",Layout);var Localize=function(e){this.table=e,this.locale="default",this.lang=!1,this.bindings={},this.langList={}};Localize.prototype.initialize=function(){this.langList=Tabulator.prototype.helpers.deepClone(this.langs)},Localize.prototype.setHeaderFilterPlaceholder=function(e){this.langList.default.headerFilters.default=e},Localize.prototype.setHeaderFilterColumnPlaceholder=function(e,t){this.langList.default.headerFilters.columns[e]=t,this.lang&&!this.lang.headerFilters.columns[e]&&(this.lang.headerFilters.columns[e]=t)},Localize.prototype.installLang=function(e,t){this.langList[e]?this._setLangProp(this.langList[e],t):this.langList[e]=t},Localize.prototype._setLangProp=function(e,t){for(var o in t)e[o]&&"object"==_typeof(e[o])?this._setLangProp(e[o],t[o]):e[o]=t[o]},Localize.prototype.setLocale=function(e){var t=this;if(!0===(e=e||"default")&&navigator.language&&(e=navigator.language.toLowerCase()),e&&!t.langList[e]){var o=e.split("-")[0];t.langList[o]?(console.warn("Localization Error - Exact matching locale not found, using closest match: ",e,o),e=o):(console.warn("Localization Error - Matching locale not found, using default: ",e),e="default")}t.locale=e,t.lang=Tabulator.prototype.helpers.deepClone(t.langList.default||{}),"default"!=e&&function e(t,o){for(var i in t)"object"==_typeof(t[i])?(o[i]||(o[i]={}),e(t[i],o[i])):o[i]=t[i]}(t.langList[e],t.lang),t.table.options.localized.call(t.table,t.locale,t.lang),t._executeBindings()},Localize.prototype.getLocale=function(e){return self.locale},Localize.prototype.getLang=function(e){return e?this.langList[e]:this.lang},Localize.prototype.getText=function(e,t){var o=(e=t?e+"|"+t:e).split("|");return this._getLangElement(o,this.locale)||""},Localize.prototype._getLangElement=function(e,t){var o=this.lang;return e.forEach((function(e){var t;o&&(t=o[e],o=void 0!==t&&t)})),o},Localize.prototype.bind=function(e,t){this.bindings[e]||(this.bindings[e]=[]),this.bindings[e].push(t),t(this.getText(e),this.lang)},Localize.prototype._executeBindings=function(){var e=this,t=function(t){e.bindings[t].forEach((function(o){o(e.getText(t),e.lang)}))};for(var o in e.bindings)t(o)},Localize.prototype.langs={default:{groups:{item:"item",items:"items"},columns:{},ajax:{loading:"Loading",error:"Error"},pagination:{page_size:"Page Size",page_title:"Show Page",first:"First",first_title:"First Page",last:"Last",last_title:"Last Page",prev:"Prev",prev_title:"Prev Page",next:"Next",next_title:"Next Page",all:"All"},headerFilters:{default:"filter column...",columns:{}}}},Tabulator.prototype.registerModule("localize",Localize);var Comms=function(e){this.table=e};Comms.prototype.getConnections=function(e){var t=this,o=[];return Tabulator.prototype.comms.lookupTable(e).forEach((function(e){t.table!==e&&o.push(e)})),o},Comms.prototype.send=function(e,t,o,i){var n=this,r=this.getConnections(e);r.forEach((function(e){e.tableComms(n.table.element,t,o,i)})),!r.length&&e&&console.warn("Table Connection Error - No tables matching selector found",e)},Comms.prototype.receive=function(e,t,o,i){if(this.table.modExists(t))return this.table.modules[t].commsReceived(e,o,i);console.warn("Inter-table Comms Error - no such module:",t)},Tabulator.prototype.registerModule("comms",Comms);_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};var Sort=function(e){this.table=e,this.sortList=[],this.changed=!1};Sort.prototype.initializeColumn=function(e,t){var o,i,n=this,r=!1;switch(_typeof(e.definition.sorter)){case"string":n.sorters[e.definition.sorter]?r=n.sorters[e.definition.sorter]:console.warn("Sort Error - No such sorter found: ",e.definition.sorter);break;case"function":r=e.definition.sorter}e.modules.sort={sorter:r,dir:"none",params:e.definition.sorterParams||{},startingDir:e.definition.headerSortStartingDir||"asc",tristate:void 0!==e.definition.headerSortTristate?e.definition.headerSortTristate:this.table.options.headerSortTristate},(void 0===e.definition.headerSort?!1!==this.table.options.headerSort:!1!==e.definition.headerSort)&&((o=e.getElement()).classList.add("tabulator-sortable"),(i=document.createElement("div")).classList.add("tabulator-col-sorter"),"object"==_typeof(this.table.options.headerSortElement)?i.appendChild(this.table.options.headerSortElement):i.innerHTML=this.table.options.headerSortElement,t.appendChild(i),e.modules.sort.element=i,o.addEventListener("click",(function(t){var o="",i=[],r=!1;if(e.modules.sort){if(e.modules.sort.tristate)o="none"==e.modules.sort.dir?e.modules.sort.startingDir:e.modules.sort.dir==e.modules.sort.startingDir?"asc"==e.modules.sort.dir?"desc":"asc":"none";else switch(e.modules.sort.dir){case"asc":o="desc";break;case"desc":o="asc";break;default:o=e.modules.sort.startingDir}n.table.options.columnHeaderSortMulti&&(t.shiftKey||t.ctrlKey)?((r=(i=n.getSort()).findIndex((function(t){return t.field===e.getField()})))>-1?(i[r].dir=o,r!=i.length-1&&(r=i.splice(r,1)[0],"none"!=o&&i.push(r))):"none"!=o&&i.push({column:e,dir:o}),n.setSort(i)):"none"==o?n.clear():n.setSort(e,o),n.table.rowManager.sorterRefresh(!n.sortList.length)}})))},Sort.prototype.hasChanged=function(){var e=this.changed;return this.changed=!1,e},Sort.prototype.getSort=function(){var e=[];return this.sortList.forEach((function(t){t.column&&e.push({column:t.column.getComponent(),field:t.column.getField(),dir:t.dir})})),e},Sort.prototype.setSort=function(e,t){var o=this,i=[];Array.isArray(e)||(e=[{column:e,dir:t}]),e.forEach((function(e){var t;(t=o.table.columnManager.findColumn(e.column))?(e.column=t,i.push(e),o.changed=!0):console.warn("Sort Warning - Sort field does not exist and is being ignored: ",e.column)})),o.sortList=i,this.table.options.persistence&&this.table.modExists("persistence",!0)&&this.table.modules.persistence.config.sort&&this.table.modules.persistence.save("sort")},Sort.prototype.clear=function(){this.setSort([])},Sort.prototype.findSorter=function(e){var t,o=this.table.rowManager.activeRows[0],i="string";if(o&&(o=o.getData(),e.getField()))switch(void 0===(t=e.getFieldValue(o))?"undefined":_typeof(t)){case"undefined":i="string";break;case"boolean":i="boolean";break;default:isNaN(t)||""===t?t.match(/((^[0-9]+[a-z]+)|(^[a-z]+[0-9]+))+$/i)&&(i="alphanum"):i="number"}return this.sorters[i]},Sort.prototype.sort=function(e){var t=this,o=this.table.options.sortOrderReverse?t.sortList.slice().reverse():t.sortList,i=[],n=[];t.table.options.dataSorting&&t.table.options.dataSorting.call(t.table,t.getSort()),t.clearColumnHeaders(),t.table.options.ajaxSorting?o.forEach((function(e,o){t.setColumnHeader(e.column,e.dir)})):(o.forEach((function(e,o){var n=e.column.modules.sort;e.column&&n&&(n.sorter||(n.sorter=t.findSorter(e.column)),e.params="function"==typeof n.params?n.params(e.column.getComponent(),e.dir):n.params,i.push(e)),t.setColumnHeader(e.column,e.dir)})),i.length&&t._sortItems(e,i)),t.table.options.dataSorted&&(e.forEach((function(e){n.push(e.getComponent())})),t.table.options.dataSorted.call(t.table,t.getSort(),n))},Sort.prototype.clearColumnHeaders=function(){this.table.columnManager.getRealColumns().forEach((function(e){e.modules.sort&&(e.modules.sort.dir="none",e.getElement().setAttribute("aria-sort","none"))}))},Sort.prototype.setColumnHeader=function(e,t){e.modules.sort.dir=t,e.getElement().setAttribute("aria-sort",t)},Sort.prototype._sortItems=function(e,t){var o=this,i=t.length-1;e.sort((function(e,n){for(var r,s=i;s>=0;s--){var a=t[s];if(0!==(r=o._sortRow(e,n,a.column,a.dir,a.params)))break}return r}))},Sort.prototype._sortRow=function(e,t,o,i,n){var r,s,a="asc"==i?e:t,l="asc"==i?t:e;return e=void 0!==(e=o.getFieldValue(a.getData()))?e:"",t=void 0!==(t=o.getFieldValue(l.getData()))?t:"",r=a.getComponent(),s=l.getComponent(),o.modules.sort.sorter.call(this,e,t,r,s,o.getComponent(),i,n)},Sort.prototype.sorters={number:function(e,t,o,i,n,r,s){var a=s.alignEmptyValues,l=s.decimalSeparator,u=s.thousandSeparator,c=0;if(e=String(e),t=String(t),u&&(e=e.split(u).join(""),t=t.split(u).join("")),l&&(e=e.split(l).join("."),t=t.split(l).join(".")),e=parseFloat(e),t=parseFloat(t),isNaN(e))c=isNaN(t)?0:-1;else{if(!isNaN(t))return e-t;c=1}return("top"===a&&"desc"===r||"bottom"===a&&"asc"===r)&&(c*=-1),c},string:function(e,t,o,i,n,r,s){var a,l=s.alignEmptyValues,u=0;if(e){if(t){switch(_typeof(s.locale)){case"boolean":s.locale&&(a=this.table.modules.localize.getLocale());break;case"string":a=s.locale}return String(e).toLowerCase().localeCompare(String(t).toLowerCase(),a)}u=1}else u=t?-1:0;return("top"===l&&"desc"===r||"bottom"===l&&"asc"===r)&&(u*=-1),u},date:function(e,t,o,i,n,r,s){return s.format||(s.format="DD/MM/YYYY"),this.sorters.datetime.call(this,e,t,o,i,n,r,s)},time:function(e,t,o,i,n,r,s){return s.format||(s.format="HH:mm"),this.sorters.datetime.call(this,e,t,o,i,n,r,s)},datetime:function(e,t,o,i,n,r,s){var a=s.format||"DD/MM/YYYY HH:mm:ss",l=s.alignEmptyValues,u=0;if("undefined"!=typeof moment){if(e=moment(e,a),t=moment(t,a),e.isValid()){if(t.isValid())return e-t;u=1}else u=t.isValid()?-1:0;return("top"===l&&"desc"===r||"bottom"===l&&"asc"===r)&&(u*=-1),u}console.error("Sort Error - 'datetime' sorter is dependant on moment.js")},boolean:function(e,t,o,i,n,r,s){return(!0===e||"true"===e||"True"===e||1===e?1:0)-(!0===t||"true"===t||"True"===t||1===t?1:0)},array:function(e,t,o,i,n,r,s){var a=s.type||"length",l=s.alignEmptyValues,u=0;function c(e){switch(a){case"length":return e.length;case"sum":return e.reduce((function(e,t){return e+t}));case"max":return Math.max.apply(null,e);case"min":return Math.min.apply(null,e);case"avg":return e.reduce((function(e,t){return e+t}))/e.length}}if(Array.isArray(e)){if(Array.isArray(t))return(e?c(e):0)-(t?c(t):0);l=1}else l=Array.isArray(t)?-1:0;return("top"===l&&"desc"===r||"bottom"===l&&"asc"===r)&&(u*=-1),u},exists:function(e,t,o,i,n,r,s){return(void 0===e?0:1)-(void 0===t?0:1)},alphanum:function(e,t,o,i,n,r,s){var a,l,u,c,d,h=0,p=/(\d+)|(\D+)/g,m=/\d/,f=s.alignEmptyValues,g=0;if(e||0===e){if(t||0===t){if(isFinite(e)&&isFinite(t))return e-t;if((a=String(e).toLowerCase())===(l=String(t).toLowerCase()))return 0;if(!m.test(a)||!m.test(l))return a>l?1:-1;for(a=a.match(p),l=l.match(p),d=a.length>l.length?l.length:a.length;h<d;)if((u=a[h])!==(c=l[h++]))return isFinite(u)&&isFinite(c)?("0"===u.charAt(0)&&(u="."+u),"0"===c.charAt(0)&&(c="."+c),u-c):u>c?1:-1;return a.length>l.length}g=1}else g=t||0===t?-1:0;return("top"===f&&"desc"===r||"bottom"===f&&"asc"===r)&&(g*=-1),g}},Tabulator.prototype.registerModule("sort",Sort);_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};var Format=function(e){this.table=e};Format.prototype.initializeColumn=function(e){e.modules.format=this.lookupFormatter(e,""),void 0!==e.definition.formatterPrint&&(e.modules.format.print=this.lookupFormatter(e,"Print")),void 0!==e.definition.formatterClipboard&&(e.modules.format.clipboard=this.lookupFormatter(e,"Clipboard")),void 0!==e.definition.formatterHtmlOutput&&(e.modules.format.htmlOutput=this.lookupFormatter(e,"HtmlOutput"))},Format.prototype.lookupFormatter=function(e,t){var o={params:e.definition["formatter"+t+"Params"]||{}},i=e.definition["formatter"+t];switch(void 0===i?"undefined":_typeof(i)){case"string":"tick"===i&&(i="tickCross",void 0===o.params.crossElement&&(o.params.crossElement=!1),console.warn("DEPRECATION WARNING - the tick formatter has been deprecated, please use the tickCross formatter with the crossElement param set to false")),this.formatters[i]?o.formatter=this.formatters[i]:(console.warn("Formatter Error - No such formatter found: ",i),o.formatter=this.formatters.plaintext);break;case"function":o.formatter=i;break;default:o.formatter=this.formatters.plaintext}return o},Format.prototype.cellRendered=function(e){e.modules.format&&e.modules.format.renderedCallback&&!e.modules.format.rendered&&(e.modules.format.renderedCallback(),e.modules.format.rendered=!0)},Format.prototype.formatValue=function(e){var t=e.getComponent(),o="function"==typeof e.column.modules.format.params?e.column.modules.format.params(t):e.column.modules.format.params;return e.column.modules.format.formatter.call(this,t,o,(function(t){e.modules.format||(e.modules.format={}),e.modules.format.renderedCallback=t,e.modules.format.rendered=!1}))},Format.prototype.formatExportValue=function(e,t){var o,i=e.column.modules.format[t];if(i){return o="function"==typeof i.params?i.params(component):i.params,i.formatter.call(this,e.getComponent(),o,(function(t){e.modules.format||(e.modules.format={}),e.modules.format.renderedCallback=t,e.modules.format.rendered=!1}))}return this.formatValue(e)},Format.prototype.sanitizeHTML=function(e){if(e){var t={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"};return String(e).replace(/[&<>"'`=\/]/g,(function(e){return t[e]}))}return e},Format.prototype.emptyToSpace=function(e){return null==e||""===e?"&nbsp;":e},Format.prototype.getFormatter=function(e){switch(void 0===e?"undefined":_typeof(e)){case"string":this.formatters[e]?e=this.formatters[e]:(console.warn("Formatter Error - No such formatter found: ",e),e=this.formatters.plaintext);break;case"function":e=e;break;default:e=this.formatters.plaintext}return e},Format.prototype.formatters={plaintext:function(e,t,o){return this.emptyToSpace(this.sanitizeHTML(e.getValue()))},html:function(e,t,o){return e.getValue()},textarea:function(e,t,o){return e.getElement().style.whiteSpace="pre-wrap",this.emptyToSpace(this.sanitizeHTML(e.getValue()))},money:function(e,t,o){var i,n,r,s,a=parseFloat(e.getValue()),l=t.decimal||".",u=t.thousand||",",c=t.symbol||"",d=!!t.symbolAfter,h=void 0!==t.precision?t.precision:2;if(isNaN(a))return this.emptyToSpace(this.sanitizeHTML(e.getValue()));for(i=!1!==h?a.toFixed(h):a,n=(i=String(i).split("."))[0],r=i.length>1?l+i[1]:"",s=/(\d+)(\d{3})/;s.test(n);)n=n.replace(s,"$1"+u+"$2");return d?n+r+c:c+n+r},link:function(e,t,o){var i=e.getValue(),n=t.urlPrefix||"",r=t.download,s=i,a=document.createElement("a");if(t.labelField&&(s=e.getData()[t.labelField]),t.label)switch(_typeof(t.label)){case"string":s=t.label;break;case"function":s=t.label(e)}if(s){if(t.urlField&&(i=e.getData()[t.urlField]),t.url)switch(_typeof(t.url)){case"string":i=t.url;break;case"function":i=t.url(e)}return a.setAttribute("href",n+i),t.target&&a.setAttribute("target",t.target),t.download&&(r="function"==typeof r?r(e):!0===r?"":r,a.setAttribute("download",r)),a.innerHTML=this.emptyToSpace(this.sanitizeHTML(s)),a}return"&nbsp;"},image:function(e,t,o){var i=document.createElement("img"),n=e.getValue();switch(t.urlPrefix&&(n=t.urlPrefix+e.getValue()),t.urlSuffix&&(n+=t.urlSuffix),i.setAttribute("src",n),_typeof(t.height)){case"number":i.style.height=t.height+"px";break;case"string":i.style.height=t.height}switch(_typeof(t.width)){case"number":i.style.width=t.width+"px";break;case"string":i.style.width=t.width}return i.addEventListener("load",(function(){e.getRow().normalizeHeight()})),i},tickCross:function(e,t,o){var i=e.getValue(),n=e.getElement(),r=t.allowEmpty,s=t.allowTruthy,a=void 0!==t.tickElement?t.tickElement:'<svg enable-background="new 0 0 24 24" height="14" width="14" viewBox="0 0 24 24" xml:space="preserve" ><path fill="#2DC214" clip-rule="evenodd" d="M21.652,3.211c-0.293-0.295-0.77-0.295-1.061,0L9.41,14.34  c-0.293,0.297-0.771,0.297-1.062,0L3.449,9.351C3.304,9.203,3.114,9.13,2.923,9.129C2.73,9.128,2.534,9.201,2.387,9.351  l-2.165,1.946C0.078,11.445,0,11.63,0,11.823c0,0.194,0.078,0.397,0.223,0.544l4.94,5.184c0.292,0.296,0.771,0.776,1.062,1.07  l2.124,2.141c0.292,0.293,0.769,0.293,1.062,0l14.366-14.34c0.293-0.294,0.293-0.777,0-1.071L21.652,3.211z" fill-rule="evenodd"/></svg>',l=void 0!==t.crossElement?t.crossElement:'<svg enable-background="new 0 0 24 24" height="14" width="14"  viewBox="0 0 24 24" xml:space="preserve" ><path fill="#CE1515" d="M22.245,4.015c0.313,0.313,0.313,0.826,0,1.139l-6.276,6.27c-0.313,0.312-0.313,0.826,0,1.14l6.273,6.272  c0.313,0.313,0.313,0.826,0,1.14l-2.285,2.277c-0.314,0.312-0.828,0.312-1.142,0l-6.271-6.271c-0.313-0.313-0.828-0.313-1.141,0  l-6.276,6.267c-0.313,0.313-0.828,0.313-1.141,0l-2.282-2.28c-0.313-0.313-0.313-0.826,0-1.14l6.278-6.269  c0.313-0.312,0.313-0.826,0-1.14L1.709,5.147c-0.314-0.313-0.314-0.827,0-1.14l2.284-2.278C4.308,1.417,4.821,1.417,5.135,1.73  L11.405,8c0.314,0.314,0.828,0.314,1.141,0.001l6.276-6.267c0.312-0.312,0.826-0.312,1.141,0L22.245,4.015z"/></svg>';return s&&i||!0===i||"true"===i||"True"===i||1===i||"1"===i?(n.setAttribute("aria-checked",!0),a||""):!r||"null"!==i&&""!==i&&null!=i?(n.setAttribute("aria-checked",!1),l||""):(n.setAttribute("aria-checked","mixed"),"")},datetime:function(e,t,o){var i=t.inputFormat||"YYYY-MM-DD hh:mm:ss",n=t.outputFormat||"DD/MM/YYYY hh:mm:ss",r=void 0!==t.invalidPlaceholder?t.invalidPlaceholder:"",s=e.getValue(),a=moment(s,i);return a.isValid()?t.timezone?a.tz(t.timezone).format(n):a.format(n):!0===r?s:"function"==typeof r?r(s):r},datetimediff:function(e,t,o){var i=t.inputFormat||"YYYY-MM-DD hh:mm:ss",n=void 0!==t.invalidPlaceholder?t.invalidPlaceholder:"",r=void 0!==t.suffix&&t.suffix,s=void 0!==t.unit?t.unit:void 0,a=void 0!==t.humanize&&t.humanize,l=void 0!==t.date?t.date:moment(),u=e.getValue(),c=moment(u,i);return c.isValid()?a?moment.duration(c.diff(l)).humanize(r):c.diff(l,s)+(r?" "+r:""):!0===n?u:"function"==typeof n?n(u):n},lookup:function(e,t,o){var i=e.getValue();return void 0===t[i]?(console.warn("Missing display value for "+i),i):t[i]},star:function(e,t,o){var i=e.getValue(),n=e.getElement(),r=t&&t.stars?t.stars:5,s=document.createElement("span"),a=document.createElementNS("http://www.w3.org/2000/svg","svg");s.style.verticalAlign="middle",a.setAttribute("width","14"),a.setAttribute("height","14"),a.setAttribute("viewBox","0 0 512 512"),a.setAttribute("xml:space","preserve"),a.style.padding="0 1px",i=i&&!isNaN(i)?parseInt(i):0,i=Math.max(0,Math.min(i,r));for(var l=1;l<=r;l++){var u=a.cloneNode(!0);u.innerHTML=l<=i?'<polygon fill="#FFEA00" stroke="#C1AB60" stroke-width="37.6152" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" points="259.216,29.942 330.27,173.919 489.16,197.007 374.185,309.08 401.33,467.31 259.216,392.612 117.104,467.31 144.25,309.08 29.274,197.007 188.165,173.919 "/>':'<polygon fill="#D2D2D2" stroke="#686868" stroke-width="37.6152" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" points="259.216,29.942 330.27,173.919 489.16,197.007 374.185,309.08 401.33,467.31 259.216,392.612 117.104,467.31 144.25,309.08 29.274,197.007 188.165,173.919 "/>',s.appendChild(u)}return n.style.whiteSpace="nowrap",n.style.overflow="hidden",n.style.textOverflow="ellipsis",n.setAttribute("aria-label",i),s},traffic:function(e,t,o){var i,n,r=this.sanitizeHTML(e.getValue())||0,s=document.createElement("span"),a=t&&t.max?t.max:100,l=t&&t.min?t.min:0,u=t&&void 0!==t.color?t.color:["red","orange","green"],c="#666666";if(!isNaN(r)&&void 0!==e.getValue()){switch(s.classList.add("tabulator-traffic-light"),n=parseFloat(r)<=a?parseFloat(r):a,n=parseFloat(n)>=l?parseFloat(n):l,i=(a-l)/100,n=Math.round((n-l)/i),void 0===u?"undefined":_typeof(u)){case"string":c=u;break;case"function":c=u(r);break;case"object":if(Array.isArray(u)){var d=100/u.length,h=Math.floor(n/d);h=Math.min(h,u.length-1),c=u[h=Math.max(h,0)];break}}return s.style.backgroundColor=c,s}},progress:function(e,t,o){var i,n,r,s,a,l=this.sanitizeHTML(e.getValue())||0,u=e.getElement(),c=t&&t.max?t.max:100,d=t&&t.min?t.min:0,h=t&&t.legendAlign?t.legendAlign:"center";switch(n=parseFloat(l)<=c?parseFloat(l):c,n=parseFloat(n)>=d?parseFloat(n):d,i=(c-d)/100,n=Math.round((n-d)/i),_typeof(t.color)){case"string":r=t.color;break;case"function":r=t.color(l);break;case"object":if(Array.isArray(t.color)){var p=100/t.color.length,m=Math.floor(n/p);m=Math.min(m,t.color.length-1),m=Math.max(m,0),r=t.color[m];break}default:r="#2DC214"}switch(_typeof(t.legend)){case"string":s=t.legend;break;case"function":s=t.legend(l);break;case"boolean":s=l;break;default:s=!1}switch(_typeof(t.legendColor)){case"string":a=t.legendColor;break;case"function":a=t.legendColor(l);break;case"object":if(Array.isArray(t.legendColor)){p=100/t.legendColor.length,m=Math.floor(n/p);m=Math.min(m,t.legendColor.length-1),m=Math.max(m,0),a=t.legendColor[m]}break;default:a="#000"}u.style.minWidth="30px",u.style.position="relative",u.setAttribute("aria-label",n);var f=document.createElement("div");if(f.style.display="inline-block",f.style.position="relative",f.style.width=n+"%",f.style.backgroundColor=r,f.style.height="100%",f.setAttribute("data-max",c),f.setAttribute("data-min",d),s){var g=document.createElement("div");g.style.position="absolute",g.style.top="4px",g.style.left=0,g.style.textAlign=h,g.style.width="100%",g.style.color=a,g.innerHTML=s}return o((function(){if(!(e instanceof CellComponent)){var t=document.createElement("div");t.style.position="absolute",t.style.top="4px",t.style.bottom="4px",t.style.left="4px",t.style.right="4px",u.appendChild(t),u=t}u.appendChild(f),s&&u.appendChild(g)})),""},color:function(e,t,o){return e.getElement().style.backgroundColor=this.sanitizeHTML(e.getValue()),""},buttonTick:function(e,t,o){return'<svg enable-background="new 0 0 24 24" height="14" width="14" viewBox="0 0 24 24" xml:space="preserve" ><path fill="#2DC214" clip-rule="evenodd" d="M21.652,3.211c-0.293-0.295-0.77-0.295-1.061,0L9.41,14.34  c-0.293,0.297-0.771,0.297-1.062,0L3.449,9.351C3.304,9.203,3.114,9.13,2.923,9.129C2.73,9.128,2.534,9.201,2.387,9.351  l-2.165,1.946C0.078,11.445,0,11.63,0,11.823c0,0.194,0.078,0.397,0.223,0.544l4.94,5.184c0.292,0.296,0.771,0.776,1.062,1.07  l2.124,2.141c0.292,0.293,0.769,0.293,1.062,0l14.366-14.34c0.293-0.294,0.293-0.777,0-1.071L21.652,3.211z" fill-rule="evenodd"/></svg>'},buttonCross:function(e,t,o){return'<svg enable-background="new 0 0 24 24" height="14" width="14" viewBox="0 0 24 24" xml:space="preserve" ><path fill="#CE1515" d="M22.245,4.015c0.313,0.313,0.313,0.826,0,1.139l-6.276,6.27c-0.313,0.312-0.313,0.826,0,1.14l6.273,6.272  c0.313,0.313,0.313,0.826,0,1.14l-2.285,2.277c-0.314,0.312-0.828,0.312-1.142,0l-6.271-6.271c-0.313-0.313-0.828-0.313-1.141,0  l-6.276,6.267c-0.313,0.313-0.828,0.313-1.141,0l-2.282-2.28c-0.313-0.313-0.313-0.826,0-1.14l6.278-6.269  c0.313-0.312,0.313-0.826,0-1.14L1.709,5.147c-0.314-0.313-0.314-0.827,0-1.14l2.284-2.278C4.308,1.417,4.821,1.417,5.135,1.73  L11.405,8c0.314,0.314,0.828,0.314,1.141,0.001l6.276-6.267c0.312-0.312,0.826-0.312,1.141,0L22.245,4.015z"/></svg>'},rownum:function(e,t,o){return this.table.rowManager.activeRows.indexOf(e.getRow()._getSelf())+1},handle:function(e,t,o){return e.getElement().classList.add("tabulator-row-handle"),"<div class='tabulator-row-handle-box'><div class='tabulator-row-handle-bar'></div><div class='tabulator-row-handle-bar'></div><div class='tabulator-row-handle-bar'></div></div>"},responsiveCollapse:function(e,t,o){var i=document.createElement("div"),n=e.getRow()._row.modules.responsiveLayout;function r(e){var t=n.element;n.open=e,t&&(n.open?(i.classList.add("open"),t.style.display=""):(i.classList.remove("open"),t.style.display="none"))}return i.classList.add("tabulator-responsive-collapse-toggle"),i.innerHTML="<span class='tabulator-responsive-collapse-toggle-open'>+</span><span class='tabulator-responsive-collapse-toggle-close'>-</span>",e.getElement().classList.add("tabulator-row-handle"),i.addEventListener("click",(function(e){e.stopImmediatePropagation(),r(!n.open)})),r(n.open),i},rowSelection:function(e,t,o){var i=this,n=document.createElement("input");if(n.type="checkbox",this.table.modExists("selectRow",!0))if(n.addEventListener("click",(function(e){e.stopPropagation()})),"function"==typeof e.getRow){var r=e.getRow();r instanceof RowComponent?(n.addEventListener("change",(function(e){r.toggleSelect()})),n.checked=r.isSelected&&r.isSelected(),this.table.modules.selectRow.registerRowSelectCheckbox(r,n)):n=""}else n.addEventListener("change",(function(e){i.table.modules.selectRow.selectedRows.length?i.table.deselectRow():i.table.selectRow(t.rowRange)})),this.table.modules.selectRow.registerHeaderSelectCheckbox(n);return n}},Tabulator.prototype.registerModule("format",Format);var ResizeColumns=function(e){this.table=e,this.startColumn=!1,this.startX=!1,this.startWidth=!1,this.handle=null,this.prevHandle=null};ResizeColumns.prototype.initializeColumn=function(e,t,o){var i=this,n=!1,r=this.table.options.resizableColumns;if("header"===e&&(n="textarea"==t.definition.formatter||t.definition.variableHeight,t.modules.resize={variableHeight:n}),!0===r||r==e){var s=document.createElement("div");s.className="tabulator-col-resize-handle";var a=document.createElement("div");a.className="tabulator-col-resize-handle prev",s.addEventListener("click",(function(e){e.stopPropagation()}));var l=function(e){var o=t.getLastColumn();o&&i._checkResizability(o)&&(i.startColumn=t,i._mouseDown(e,o,s))};s.addEventListener("mousedown",l),s.addEventListener("touchstart",l,{passive:!0}),s.addEventListener("dblclick",(function(e){var o=t.getLastColumn();o&&i._checkResizability(o)&&(e.stopPropagation(),o.reinitializeWidth(!0))})),a.addEventListener("click",(function(e){e.stopPropagation()}));var u=function(e){var o,n,r;(o=t.getFirstColumn())&&(r=(n=i.table.columnManager.findColumnIndex(o))>0&&i.table.columnManager.getColumnByIndex(n-1))&&i._checkResizability(r)&&(i.startColumn=t,i._mouseDown(e,r,a))};a.addEventListener("mousedown",u),a.addEventListener("touchstart",u,{passive:!0}),a.addEventListener("dblclick",(function(e){var o,n,r;(o=t.getFirstColumn())&&(r=(n=i.table.columnManager.findColumnIndex(o))>0&&i.table.columnManager.getColumnByIndex(n-1))&&i._checkResizability(r)&&(e.stopPropagation(),r.reinitializeWidth(!0))})),o.appendChild(s),o.appendChild(a)}},ResizeColumns.prototype._checkResizability=function(e){return void 0!==e.definition.resizable?e.definition.resizable:this.table.options.resizableColumns},ResizeColumns.prototype._mouseDown=function(e,t,o){var i=this;function n(e){i.table.rtl?t.setWidth(i.startWidth-((void 0===e.screenX?e.touches[0].screenX:e.screenX)-i.startX)):t.setWidth(i.startWidth+((void 0===e.screenX?e.touches[0].screenX:e.screenX)-i.startX)),i.table.options.virtualDomHoz&&i.table.vdomHoz.reinitialize(!0),!i.table.browserSlow&&t.modules.resize&&t.modules.resize.variableHeight&&t.checkCellHeights()}function r(e){i.startColumn.modules.edit&&(i.startColumn.modules.edit.blocked=!1),i.table.browserSlow&&t.modules.resize&&t.modules.resize.variableHeight&&t.checkCellHeights(),document.body.removeEventListener("mouseup",r),document.body.removeEventListener("mousemove",n),o.removeEventListener("touchmove",n),o.removeEventListener("touchend",r),i.table.element.classList.remove("tabulator-block-select"),i.table.options.persistence&&i.table.modExists("persistence",!0)&&i.table.modules.persistence.config.columns&&i.table.modules.persistence.save("columns"),i.table.options.columnResized.call(i.table,t.getComponent())}i.table.element.classList.add("tabulator-block-select"),e.stopPropagation(),i.startColumn.modules.edit&&(i.startColumn.modules.edit.blocked=!0),i.startX=void 0===e.screenX?e.touches[0].screenX:e.screenX,i.startWidth=t.getWidth(),document.body.addEventListener("mousemove",n),document.body.addEventListener("mouseup",r),o.addEventListener("touchmove",n,{passive:!0}),o.addEventListener("touchend",r)},Tabulator.prototype.registerModule("resizeColumns",ResizeColumns),
/*! pako 2.0.3 https://github.com/nodeca/pako @license (MIT AND Zlib) */
function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).pako={})}(this,(function(e){var t=(e,t,o,i)=>{let n=65535&e|0,r=e>>>16&65535|0,s=0;for(;0!==o;){s=o>2e3?2e3:o,o-=s;do{n=n+t[i++]|0,r=r+n|0}while(--s);n%=65521,r%=65521}return n|r<<16|0};const o=new Uint32Array((()=>{let e,t=[];for(var o=0;o<256;o++){e=o;for(var i=0;i<8;i++)e=1&e?3988292384^e>>>1:e>>>1;t[o]=e}return t})());var i=(e,t,i,n)=>{const r=o,s=n+i;e^=-1;for(let o=n;o<s;o++)e=e>>>8^r[255&(e^t[o])];return-1^e};var n=function(e,t){let o,i,n,r,s,a,l,u,c,d,h,p,m,f,g,b,v,y,w,C,E,T,R,L;const _=e.state;o=e.next_in,R=e.input,i=o+(e.avail_in-5),n=e.next_out,L=e.output,r=n-(t-e.avail_out),s=n+(e.avail_out-257),a=_.dmax,l=_.wsize,u=_.whave,c=_.wnext,d=_.window,h=_.hold,p=_.bits,m=_.lencode,f=_.distcode,g=(1<<_.lenbits)-1,b=(1<<_.distbits)-1;e:do{p<15&&(h+=R[o++]<<p,p+=8,h+=R[o++]<<p,p+=8),v=m[h&g];t:for(;;){if(y=v>>>24,h>>>=y,p-=y,y=v>>>16&255,0===y)L[n++]=65535&v;else{if(!(16&y)){if(0==(64&y)){v=m[(65535&v)+(h&(1<<y)-1)];continue t}if(32&y){_.mode=12;break e}e.msg="invalid literal/length code",_.mode=30;break e}w=65535&v,y&=15,y&&(p<y&&(h+=R[o++]<<p,p+=8),w+=h&(1<<y)-1,h>>>=y,p-=y),p<15&&(h+=R[o++]<<p,p+=8,h+=R[o++]<<p,p+=8),v=f[h&b];o:for(;;){if(y=v>>>24,h>>>=y,p-=y,y=v>>>16&255,!(16&y)){if(0==(64&y)){v=f[(65535&v)+(h&(1<<y)-1)];continue o}e.msg="invalid distance code",_.mode=30;break e}if(C=65535&v,y&=15,p<y&&(h+=R[o++]<<p,p+=8,p<y&&(h+=R[o++]<<p,p+=8)),C+=h&(1<<y)-1,C>a){e.msg="invalid distance too far back",_.mode=30;break e}if(h>>>=y,p-=y,y=n-r,C>y){if(y=C-y,y>u&&_.sane){e.msg="invalid distance too far back",_.mode=30;break e}if(E=0,T=d,0===c){if(E+=l-y,y<w){w-=y;do{L[n++]=d[E++]}while(--y);E=n-C,T=L}}else if(c<y){if(E+=l+c-y,y-=c,y<w){w-=y;do{L[n++]=d[E++]}while(--y);if(E=0,c<w){y=c,w-=y;do{L[n++]=d[E++]}while(--y);E=n-C,T=L}}}else if(E+=c-y,y<w){w-=y;do{L[n++]=d[E++]}while(--y);E=n-C,T=L}for(;w>2;)L[n++]=T[E++],L[n++]=T[E++],L[n++]=T[E++],w-=3;w&&(L[n++]=T[E++],w>1&&(L[n++]=T[E++]))}else{E=n-C;do{L[n++]=L[E++],L[n++]=L[E++],L[n++]=L[E++],w-=3}while(w>2);w&&(L[n++]=L[E++],w>1&&(L[n++]=L[E++]))}break}}break}}while(o<i&&n<s);w=p>>3,o-=w,p-=w<<3,h&=(1<<p)-1,e.next_in=o,e.next_out=n,e.avail_in=o<i?i-o+5:5-(o-i),e.avail_out=n<s?s-n+257:257-(n-s),_.hold=h,_.bits=p};const r=15,s=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),a=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),l=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),u=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]);var c=(e,t,o,i,n,c,d,h)=>{const p=h.bits;let m,f,g,b,v,y,w=0,C=0,E=0,T=0,R=0,L=0,_=0,M=0,k=0,D=0,x=null,S=0;const N=new Uint16Array(16),I=new Uint16Array(16);let B,A,P,O=null,z=0;for(w=0;w<=r;w++)N[w]=0;for(C=0;C<i;C++)N[t[o+C]]++;for(R=p,T=r;T>=1&&0===N[T];T--);if(R>T&&(R=T),0===T)return n[c++]=20971520,n[c++]=20971520,h.bits=1,0;for(E=1;E<T&&0===N[E];E++);for(R<E&&(R=E),M=1,w=1;w<=r;w++)if(M<<=1,M-=N[w],M<0)return-1;if(M>0&&(0===e||1!==T))return-1;for(I[1]=0,w=1;w<r;w++)I[w+1]=I[w]+N[w];for(C=0;C<i;C++)0!==t[o+C]&&(d[I[t[o+C]]++]=C);if(0===e?(x=O=d,y=19):1===e?(x=s,S-=257,O=a,z-=257,y=256):(x=l,O=u,y=-1),D=0,C=0,w=E,v=c,L=R,_=0,g=-1,k=1<<R,b=k-1,1===e&&k>852||2===e&&k>592)return 1;for(;;){B=w-_,d[C]<y?(A=0,P=d[C]):d[C]>y?(A=O[z+d[C]],P=x[S+d[C]]):(A=96,P=0),m=1<<w-_,f=1<<L,E=f;do{f-=m,n[v+(D>>_)+f]=B<<24|A<<16|P|0}while(0!==f);for(m=1<<w-1;D&m;)m>>=1;if(0!==m?(D&=m-1,D+=m):D=0,C++,0==--N[w]){if(w===T)break;w=t[o+d[C]]}if(w>R&&(D&b)!==g){for(0===_&&(_=R),v+=E,L=w-_,M=1<<L;L+_<T&&(M-=N[L+_],!(M<=0));)L++,M<<=1;if(k+=1<<L,1===e&&k>852||2===e&&k>592)return 1;g=D&b,n[g]=R<<24|L<<16|v-c|0}}return 0!==D&&(n[v+D]=w-_<<24|64<<16|0),h.bits=R,0},d={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{Z_FINISH:h,Z_BLOCK:p,Z_TREES:m,Z_OK:f,Z_STREAM_END:g,Z_NEED_DICT:b,Z_STREAM_ERROR:v,Z_DATA_ERROR:y,Z_MEM_ERROR:w,Z_BUF_ERROR:C,Z_DEFLATED:E}=d,T=12,R=30,L=e=>(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24);function _(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const M=e=>{if(!e||!e.state)return v;const t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=1,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(852),t.distcode=t.distdyn=new Int32Array(592),t.sane=1,t.back=-1,f},k=e=>{if(!e||!e.state)return v;const t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,M(e)},D=(e,t)=>{let o;if(!e||!e.state)return v;const i=e.state;return t<0?(o=0,t=-t):(o=1+(t>>4),t<48&&(t&=15)),t&&(t<8||t>15)?v:(null!==i.window&&i.wbits!==t&&(i.window=null),i.wrap=o,i.wbits=t,k(e))},x=(e,t)=>{if(!e)return v;const o=new _;e.state=o,o.window=null;const i=D(e,t);return i!==f&&(e.state=null),i};let S,N,I=!0;const B=e=>{if(I){S=new Int32Array(512),N=new Int32Array(32);let t=0;for(;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(c(1,e.lens,0,288,S,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;c(2,e.lens,0,32,N,0,e.work,{bits:5}),I=!1}e.lencode=S,e.lenbits=9,e.distcode=N,e.distbits=5},A=(e,t,o,i)=>{let n;const r=e.state;return null===r.window&&(r.wsize=1<<r.wbits,r.wnext=0,r.whave=0,r.window=new Uint8Array(r.wsize)),i>=r.wsize?(r.window.set(t.subarray(o-r.wsize,o),0),r.wnext=0,r.whave=r.wsize):(n=r.wsize-r.wnext,n>i&&(n=i),r.window.set(t.subarray(o-i,o-i+n),r.wnext),(i-=n)?(r.window.set(t.subarray(o-i,o),0),r.wnext=i,r.whave=r.wsize):(r.wnext+=n,r.wnext===r.wsize&&(r.wnext=0),r.whave<r.wsize&&(r.whave+=n))),0};var P={inflateReset:k,inflateReset2:D,inflateResetKeep:M,inflateInit:e=>x(e,15),inflateInit2:x,inflate:(e,o)=>{let r,s,a,l,u,d,_,M,k,D,x,S,N,I,P,O,z,H,F,j,U,V,W=0;const G=new Uint8Array(4);let q,$;const K=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return v;r=e.state,r.mode===T&&(r.mode=13),u=e.next_out,a=e.output,_=e.avail_out,l=e.next_in,s=e.input,d=e.avail_in,M=r.hold,k=r.bits,D=d,x=_,V=f;e:for(;;)switch(r.mode){case 1:if(0===r.wrap){r.mode=13;break}for(;k<16;){if(0===d)break e;d--,M+=s[l++]<<k,k+=8}if(2&r.wrap&&35615===M){r.check=0,G[0]=255&M,G[1]=M>>>8&255,r.check=i(r.check,G,2,0),M=0,k=0,r.mode=2;break}if(r.flags=0,r.head&&(r.head.done=!1),!(1&r.wrap)||(((255&M)<<8)+(M>>8))%31){e.msg="incorrect header check",r.mode=R;break}if((15&M)!==E){e.msg="unknown compression method",r.mode=R;break}if(M>>>=4,k-=4,U=8+(15&M),0===r.wbits)r.wbits=U;else if(U>r.wbits){e.msg="invalid window size",r.mode=R;break}r.dmax=1<<r.wbits,e.adler=r.check=1,r.mode=512&M?10:T,M=0,k=0;break;case 2:for(;k<16;){if(0===d)break e;d--,M+=s[l++]<<k,k+=8}if(r.flags=M,(255&r.flags)!==E){e.msg="unknown compression method",r.mode=R;break}if(57344&r.flags){e.msg="unknown header flags set",r.mode=R;break}r.head&&(r.head.text=M>>8&1),512&r.flags&&(G[0]=255&M,G[1]=M>>>8&255,r.check=i(r.check,G,2,0)),M=0,k=0,r.mode=3;case 3:for(;k<32;){if(0===d)break e;d--,M+=s[l++]<<k,k+=8}r.head&&(r.head.time=M),512&r.flags&&(G[0]=255&M,G[1]=M>>>8&255,G[2]=M>>>16&255,G[3]=M>>>24&255,r.check=i(r.check,G,4,0)),M=0,k=0,r.mode=4;case 4:for(;k<16;){if(0===d)break e;d--,M+=s[l++]<<k,k+=8}r.head&&(r.head.xflags=255&M,r.head.os=M>>8),512&r.flags&&(G[0]=255&M,G[1]=M>>>8&255,r.check=i(r.check,G,2,0)),M=0,k=0,r.mode=5;case 5:if(1024&r.flags){for(;k<16;){if(0===d)break e;d--,M+=s[l++]<<k,k+=8}r.length=M,r.head&&(r.head.extra_len=M),512&r.flags&&(G[0]=255&M,G[1]=M>>>8&255,r.check=i(r.check,G,2,0)),M=0,k=0}else r.head&&(r.head.extra=null);r.mode=6;case 6:if(1024&r.flags&&(S=r.length,S>d&&(S=d),S&&(r.head&&(U=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Uint8Array(r.head.extra_len)),r.head.extra.set(s.subarray(l,l+S),U)),512&r.flags&&(r.check=i(r.check,s,S,l)),d-=S,l+=S,r.length-=S),r.length))break e;r.length=0,r.mode=7;case 7:if(2048&r.flags){if(0===d)break e;S=0;do{U=s[l+S++],r.head&&U&&r.length<65536&&(r.head.name+=String.fromCharCode(U))}while(U&&S<d);if(512&r.flags&&(r.check=i(r.check,s,S,l)),d-=S,l+=S,U)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=8;case 8:if(4096&r.flags){if(0===d)break e;S=0;do{U=s[l+S++],r.head&&U&&r.length<65536&&(r.head.comment+=String.fromCharCode(U))}while(U&&S<d);if(512&r.flags&&(r.check=i(r.check,s,S,l)),d-=S,l+=S,U)break e}else r.head&&(r.head.comment=null);r.mode=9;case 9:if(512&r.flags){for(;k<16;){if(0===d)break e;d--,M+=s[l++]<<k,k+=8}if(M!==(65535&r.check)){e.msg="header crc mismatch",r.mode=R;break}M=0,k=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),e.adler=r.check=0,r.mode=T;break;case 10:for(;k<32;){if(0===d)break e;d--,M+=s[l++]<<k,k+=8}e.adler=r.check=L(M),M=0,k=0,r.mode=11;case 11:if(0===r.havedict)return e.next_out=u,e.avail_out=_,e.next_in=l,e.avail_in=d,r.hold=M,r.bits=k,b;e.adler=r.check=1,r.mode=T;case T:if(o===p||o===m)break e;case 13:if(r.last){M>>>=7&k,k-=7&k,r.mode=27;break}for(;k<3;){if(0===d)break e;d--,M+=s[l++]<<k,k+=8}switch(r.last=1&M,M>>>=1,k-=1,3&M){case 0:r.mode=14;break;case 1:if(B(r),r.mode=20,o===m){M>>>=2,k-=2;break e}break;case 2:r.mode=17;break;case 3:e.msg="invalid block type",r.mode=R}M>>>=2,k-=2;break;case 14:for(M>>>=7&k,k-=7&k;k<32;){if(0===d)break e;d--,M+=s[l++]<<k,k+=8}if((65535&M)!=(M>>>16^65535)){e.msg="invalid stored block lengths",r.mode=R;break}if(r.length=65535&M,M=0,k=0,r.mode=15,o===m)break e;case 15:r.mode=16;case 16:if(S=r.length,S){if(S>d&&(S=d),S>_&&(S=_),0===S)break e;a.set(s.subarray(l,l+S),u),d-=S,l+=S,_-=S,u+=S,r.length-=S;break}r.mode=T;break;case 17:for(;k<14;){if(0===d)break e;d--,M+=s[l++]<<k,k+=8}if(r.nlen=257+(31&M),M>>>=5,k-=5,r.ndist=1+(31&M),M>>>=5,k-=5,r.ncode=4+(15&M),M>>>=4,k-=4,r.nlen>286||r.ndist>30){e.msg="too many length or distance symbols",r.mode=R;break}r.have=0,r.mode=18;case 18:for(;r.have<r.ncode;){for(;k<3;){if(0===d)break e;d--,M+=s[l++]<<k,k+=8}r.lens[K[r.have++]]=7&M,M>>>=3,k-=3}for(;r.have<19;)r.lens[K[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,q={bits:r.lenbits},V=c(0,r.lens,0,19,r.lencode,0,r.work,q),r.lenbits=q.bits,V){e.msg="invalid code lengths set",r.mode=R;break}r.have=0,r.mode=19;case 19:for(;r.have<r.nlen+r.ndist;){for(;W=r.lencode[M&(1<<r.lenbits)-1],P=W>>>24,O=W>>>16&255,z=65535&W,!(P<=k);){if(0===d)break e;d--,M+=s[l++]<<k,k+=8}if(z<16)M>>>=P,k-=P,r.lens[r.have++]=z;else{if(16===z){for($=P+2;k<$;){if(0===d)break e;d--,M+=s[l++]<<k,k+=8}if(M>>>=P,k-=P,0===r.have){e.msg="invalid bit length repeat",r.mode=R;break}U=r.lens[r.have-1],S=3+(3&M),M>>>=2,k-=2}else if(17===z){for($=P+3;k<$;){if(0===d)break e;d--,M+=s[l++]<<k,k+=8}M>>>=P,k-=P,U=0,S=3+(7&M),M>>>=3,k-=3}else{for($=P+7;k<$;){if(0===d)break e;d--,M+=s[l++]<<k,k+=8}M>>>=P,k-=P,U=0,S=11+(127&M),M>>>=7,k-=7}if(r.have+S>r.nlen+r.ndist){e.msg="invalid bit length repeat",r.mode=R;break}for(;S--;)r.lens[r.have++]=U}}if(r.mode===R)break;if(0===r.lens[256]){e.msg="invalid code -- missing end-of-block",r.mode=R;break}if(r.lenbits=9,q={bits:r.lenbits},V=c(1,r.lens,0,r.nlen,r.lencode,0,r.work,q),r.lenbits=q.bits,V){e.msg="invalid literal/lengths set",r.mode=R;break}if(r.distbits=6,r.distcode=r.distdyn,q={bits:r.distbits},V=c(2,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,q),r.distbits=q.bits,V){e.msg="invalid distances set",r.mode=R;break}if(r.mode=20,o===m)break e;case 20:r.mode=21;case 21:if(d>=6&&_>=258){e.next_out=u,e.avail_out=_,e.next_in=l,e.avail_in=d,r.hold=M,r.bits=k,n(e,x),u=e.next_out,a=e.output,_=e.avail_out,l=e.next_in,s=e.input,d=e.avail_in,M=r.hold,k=r.bits,r.mode===T&&(r.back=-1);break}for(r.back=0;W=r.lencode[M&(1<<r.lenbits)-1],P=W>>>24,O=W>>>16&255,z=65535&W,!(P<=k);){if(0===d)break e;d--,M+=s[l++]<<k,k+=8}if(O&&0==(240&O)){for(H=P,F=O,j=z;W=r.lencode[j+((M&(1<<H+F)-1)>>H)],P=W>>>24,O=W>>>16&255,z=65535&W,!(H+P<=k);){if(0===d)break e;d--,M+=s[l++]<<k,k+=8}M>>>=H,k-=H,r.back+=H}if(M>>>=P,k-=P,r.back+=P,r.length=z,0===O){r.mode=26;break}if(32&O){r.back=-1,r.mode=T;break}if(64&O){e.msg="invalid literal/length code",r.mode=R;break}r.extra=15&O,r.mode=22;case 22:if(r.extra){for($=r.extra;k<$;){if(0===d)break e;d--,M+=s[l++]<<k,k+=8}r.length+=M&(1<<r.extra)-1,M>>>=r.extra,k-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=23;case 23:for(;W=r.distcode[M&(1<<r.distbits)-1],P=W>>>24,O=W>>>16&255,z=65535&W,!(P<=k);){if(0===d)break e;d--,M+=s[l++]<<k,k+=8}if(0==(240&O)){for(H=P,F=O,j=z;W=r.distcode[j+((M&(1<<H+F)-1)>>H)],P=W>>>24,O=W>>>16&255,z=65535&W,!(H+P<=k);){if(0===d)break e;d--,M+=s[l++]<<k,k+=8}M>>>=H,k-=H,r.back+=H}if(M>>>=P,k-=P,r.back+=P,64&O){e.msg="invalid distance code",r.mode=R;break}r.offset=z,r.extra=15&O,r.mode=24;case 24:if(r.extra){for($=r.extra;k<$;){if(0===d)break e;d--,M+=s[l++]<<k,k+=8}r.offset+=M&(1<<r.extra)-1,M>>>=r.extra,k-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){e.msg="invalid distance too far back",r.mode=R;break}r.mode=25;case 25:if(0===_)break e;if(S=x-_,r.offset>S){if(S=r.offset-S,S>r.whave&&r.sane){e.msg="invalid distance too far back",r.mode=R;break}S>r.wnext?(S-=r.wnext,N=r.wsize-S):N=r.wnext-S,S>r.length&&(S=r.length),I=r.window}else I=a,N=u-r.offset,S=r.length;S>_&&(S=_),_-=S,r.length-=S;do{a[u++]=I[N++]}while(--S);0===r.length&&(r.mode=21);break;case 26:if(0===_)break e;a[u++]=r.length,_--,r.mode=21;break;case 27:if(r.wrap){for(;k<32;){if(0===d)break e;d--,M|=s[l++]<<k,k+=8}if(x-=_,e.total_out+=x,r.total+=x,x&&(e.adler=r.check=r.flags?i(r.check,a,x,u-x):t(r.check,a,x,u-x)),x=_,(r.flags?M:L(M))!==r.check){e.msg="incorrect data check",r.mode=R;break}M=0,k=0}r.mode=28;case 28:if(r.wrap&&r.flags){for(;k<32;){if(0===d)break e;d--,M+=s[l++]<<k,k+=8}if(M!==(4294967295&r.total)){e.msg="incorrect length check",r.mode=R;break}M=0,k=0}r.mode=29;case 29:V=g;break e;case R:V=y;break e;case 31:return w;case 32:default:return v}return e.next_out=u,e.avail_out=_,e.next_in=l,e.avail_in=d,r.hold=M,r.bits=k,(r.wsize||x!==e.avail_out&&r.mode<R&&(r.mode<27||o!==h))&&A(e,e.output,e.next_out,x-e.avail_out),D-=e.avail_in,x-=e.avail_out,e.total_in+=D,e.total_out+=x,r.total+=x,r.wrap&&x&&(e.adler=r.check=r.flags?i(r.check,a,x,e.next_out-x):t(r.check,a,x,e.next_out-x)),e.data_type=r.bits+(r.last?64:0)+(r.mode===T?128:0)+(20===r.mode||15===r.mode?256:0),(0===D&&0===x||o===h)&&V===f&&(V=C),V},inflateEnd:e=>{if(!e||!e.state)return v;let t=e.state;return t.window&&(t.window=null),e.state=null,f},inflateGetHeader:(e,t)=>{if(!e||!e.state)return v;const o=e.state;return 0==(2&o.wrap)?v:(o.head=t,t.done=!1,f)},inflateSetDictionary:(e,o)=>{const i=o.length;let n,r,s;return e&&e.state?(n=e.state,0!==n.wrap&&11!==n.mode?v:11===n.mode&&(r=1,r=t(r,o,i,0),r!==n.check)?y:(s=A(e,o,i,i),s?(n.mode=31,w):(n.havedict=1,f))):v},inflateInfo:"pako inflate (from Nodeca project)"};const O=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var z=function(e){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const o=t.shift();if(o){if("object"!=typeof o)throw new TypeError(o+"must be non-object");for(const t in o)O(o,t)&&(e[t]=o[t])}}return e},H=e=>{let t=0;for(let o=0,i=e.length;o<i;o++)t+=e[o].length;const o=new Uint8Array(t);for(let t=0,i=0,n=e.length;t<n;t++){let n=e[t];o.set(n,i),i+=n.length}return o};let F=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){F=!1}const j=new Uint8Array(256);for(let e=0;e<256;e++)j[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;j[254]=j[254]=1;var U=e=>{let t,o,i,n,r,s=e.length,a=0;for(n=0;n<s;n++)o=e.charCodeAt(n),55296==(64512&o)&&n+1<s&&(i=e.charCodeAt(n+1),56320==(64512&i)&&(o=65536+(o-55296<<10)+(i-56320),n++)),a+=o<128?1:o<2048?2:o<65536?3:4;for(t=new Uint8Array(a),r=0,n=0;r<a;n++)o=e.charCodeAt(n),55296==(64512&o)&&n+1<s&&(i=e.charCodeAt(n+1),56320==(64512&i)&&(o=65536+(o-55296<<10)+(i-56320),n++)),o<128?t[r++]=o:o<2048?(t[r++]=192|o>>>6,t[r++]=128|63&o):o<65536?(t[r++]=224|o>>>12,t[r++]=128|o>>>6&63,t[r++]=128|63&o):(t[r++]=240|o>>>18,t[r++]=128|o>>>12&63,t[r++]=128|o>>>6&63,t[r++]=128|63&o);return t},V=(e,t)=>{let o,i;const n=t||e.length,r=new Array(2*n);for(i=0,o=0;o<n;){let t=e[o++];if(t<128){r[i++]=t;continue}let s=j[t];if(s>4)r[i++]=65533,o+=s-1;else{for(t&=2===s?31:3===s?15:7;s>1&&o<n;)t=t<<6|63&e[o++],s--;s>1?r[i++]=65533:t<65536?r[i++]=t:(t-=65536,r[i++]=55296|t>>10&1023,r[i++]=56320|1023&t)}}return((e,t)=>{if(t<65534&&e.subarray&&F)return String.fromCharCode.apply(null,e.length===t?e:e.subarray(0,t));let o="";for(let i=0;i<t;i++)o+=String.fromCharCode(e[i]);return o})(r,i)},W=(e,t)=>{(t=t||e.length)>e.length&&(t=e.length);let o=t-1;for(;o>=0&&128==(192&e[o]);)o--;return o<0||0===o?t:o+j[e[o]]>t?o:t},G={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"};var q=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0};var $=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1};const K=Object.prototype.toString,{Z_NO_FLUSH:Z,Z_FINISH:J,Z_OK:X,Z_STREAM_END:Y,Z_NEED_DICT:Q,Z_STREAM_ERROR:ee,Z_DATA_ERROR:te,Z_MEM_ERROR:oe}=d;function ie(e){this.options=z({chunkSize:65536,windowBits:15,to:""},e||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(t.windowBits>=0&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&0==(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new q,this.strm.avail_out=0;let o=P.inflateInit2(this.strm,t.windowBits);if(o!==X)throw new Error(G[o]);if(this.header=new $,P.inflateGetHeader(this.strm,this.header),t.dictionary&&("string"==typeof t.dictionary?t.dictionary=U(t.dictionary):"[object ArrayBuffer]"===K.call(t.dictionary)&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(o=P.inflateSetDictionary(this.strm,t.dictionary),o!==X)))throw new Error(G[o])}function ne(e,t){const o=new ie(t);if(o.push(e),o.err)throw o.msg||G[o.err];return o.result}ie.prototype.push=function(e,t){const o=this.strm,i=this.options.chunkSize,n=this.options.dictionary;let r,s,a;if(this.ended)return!1;for(s=t===~~t?t:!0===t?J:Z,"[object ArrayBuffer]"===K.call(e)?o.input=new Uint8Array(e):o.input=e,o.next_in=0,o.avail_in=o.input.length;;){for(0===o.avail_out&&(o.output=new Uint8Array(i),o.next_out=0,o.avail_out=i),r=P.inflate(o,s),r===Q&&n&&(r=P.inflateSetDictionary(o,n),r===X?r=P.inflate(o,s):r===te&&(r=Q));o.avail_in>0&&r===Y&&o.state.wrap>0&&0!==e[o.next_in];)P.inflateReset(o),r=P.inflate(o,s);switch(r){case ee:case te:case Q:case oe:return this.onEnd(r),this.ended=!0,!1}if(a=o.avail_out,o.next_out&&(0===o.avail_out||r===Y))if("string"===this.options.to){let e=W(o.output,o.next_out),t=o.next_out-e,n=V(o.output,e);o.next_out=t,o.avail_out=i-t,t&&o.output.set(o.output.subarray(e,e+t),0),this.onData(n)}else this.onData(o.output.length===o.next_out?o.output:o.output.subarray(0,o.next_out));if(r!==X||0!==a){if(r===Y)return r=P.inflateEnd(this.strm),this.onEnd(r),this.ended=!0,!0;if(0===o.avail_in)break}}return!0},ie.prototype.onData=function(e){this.chunks.push(e)},ie.prototype.onEnd=function(e){e===X&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=H(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};var re=ie,se=ne,ae=function(e,t){return(t=t||{}).raw=!0,ne(e,t)},le=ne,ue=d,ce={Inflate:re,inflate:se,inflateRaw:ae,ungzip:le,constants:ue};e.Inflate=re,e.constants=ue,e.default=ce,e.inflate=se,e.inflateRaw=ae,e.ungzip=le,Object.defineProperty(e,"__esModule",{value:!0})}));
/**
 * @license Copyright 2020 The Lighthouse Authors. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0
 * Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.
 */
const e={toggleTableButtonLabel:"Toggle Table",allScriptsDropdownLabel:"All Scripts",tableColumnName:"Name",resourceBytesLabel:"Resource Bytes",unusedBytesLabel:"Unused Bytes",coverageColumnName:"Coverage",allLabel:"All",duplicateModulesLabel:"Duplicate Modules"};class t{static i18n=null;static UIStrings=e;static walk(e,o,i){if(i||(i=[]),i.push(e.name),o(e,i),e.children)for(const n of e.children)t.walk(n,o,[...i])}static pathsAreEqual(e,t){if(e.length!==t.length)return!1;for(let o=0;o<e.length;o++)if(e[o]!==t[o])return!1;return!0}static pathIsSubpath(e,t){if(e.length>t.length)return!1;for(let o=0;o<e.length;o++)if(e[o]!==t[o])return!1;return!0}static elide(e,t){return e.length<=t?e:e.slice(0,t-1)+"…"}static elideSameOrigin(e,t){return e.origin!==t.origin?e.toString():e.toString().replace(t.origin,"")}static createElement(e,t){const o=document.createElement(e);return t&&(o.className=t),o}static createChildOf(e,t,o){const i=this.createElement(t,o);return e.appendChild(i),i}static find(e,t=document){const o=t.querySelector(e);if(null===o)throw new Error(`query ${e} not found`);return o}static format(e,t){return"bytes"===t?this.i18n.formatBytes(e):"time"===t?this.i18n.formatNumber(e)+" ms":`${this.i18n.formatNumber(e)} ${t}`}static stableHasher(e){let t=[...e];const o=new Map;return i=>{const n=o.get(i);if(void 0!==n)return n;0===t.length&&(t=[...e]);const r=[...i].reduce(((e,t)=>e+t.charCodeAt(0)),0),[s]=t.splice(r%t.length,1);return o.set(i,s),s}}static hsl(e,t,o){return`hsl(${e}, ${t}%, ${o}%)`}}t.COLOR_HUES=[4.1,339.6,291.2,261.6,230.8,198.7,186.8,174.4,122.4,87.8,65.5,45,35.8,15.9,199.5];
/**
 * @license Copyright 2017 The Lighthouse Authors. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0
 * Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.
 */
class r{constructor(e){const t=document.querySelector(".drop_zone");if(!t)throw new Error("Drag and drop `.drop_zone` element not found in page");this._dropZone=t,this._fileHandlerCallback=e,this._dragging=!1,this._addListeners()}readFile(e){return new Promise(((t,o)=>{const i=new FileReader;i.onload=function(e){const i=e.target?.result;i?t(i):o(new Error("Could not read file"))},i.onerror=o,i.readAsText(e)}))}_addListeners(){document.addEventListener("mouseleave",(e=>{this._dragging&&this._resetDraggingUI()})),document.addEventListener("dragover",(e=>{e.stopPropagation(),e.preventDefault(),e.dataTransfer&&(e.dataTransfer.dropEffect="copy")})),document.addEventListener("dragenter",(e=>{this._dropZone.classList.add("dropping"),this._dragging=!0})),document.addEventListener("drop",(e=>{e.stopPropagation(),e.preventDefault(),this._resetDraggingUI(),e.dataTransfer&&this.readFile(e.dataTransfer.files[0]).then((e=>{this._fileHandlerCallback(e)})).catch((e=>logger.error(e)))}))}_resetDraggingUI(){this._dropZone.classList.remove("dropping"),this._dragging=!1}}var n,i={exports:{}};n=i,function(){var e;function t(t,o){return(e||(e=new Promise((function(e,t){var o=indexedDB.open("keyval-store",1);o.onerror=function(){t(o.error)},o.onupgradeneeded=function(){o.result.createObjectStore("keyval")},o.onsuccess=function(){e(o.result)}}))),e).then((function(e){return new Promise((function(i,n){var r=e.transaction("keyval",t);r.oncomplete=function(){i()},r.onerror=function(){n(r.error)},o(r.objectStore("keyval"))}))}))}var o={get:function(e){var o;return t("readonly",(function(t){o=t.get(e)})).then((function(){return o.result}))},set:function(e,o){return t("readwrite",(function(t){t.put(o,e)}))},delete:function(e){return t("readwrite",(function(t){t.delete(e)}))},clear:function(){return t("readwrite",(function(e){e.clear()}))},keys:function(){var e=[];return t("readonly",(function(t){(t.openKeyCursor||t.openCursor).call(t).onsuccess=function(){this.result&&(e.push(this.result.key),this.result.continue())}})).then((function(){return e}))}};n.exports?n.exports=o:self.idbKeyval=o}();var s=i.exports,o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)};
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function a(e,t){var o={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(o[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(i=Object.getOwnPropertySymbols(e);n<i.length;n++)t.indexOf(i[n])<0&&Object.prototype.propertyIsEnumerable.call(e,i[n])&&(o[i[n]]=e[i[n]])}return o}function c(e,t,o,i){return new(o||(o=Promise))((function(n,r){function s(e){try{l(i.next(e))}catch(e){r(e)}}function a(e){try{l(i.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof o?t:new o((function(e){e(t)}))).then(s,a)}l((i=i.apply(e,t||[])).next())}))}function l(e,t){var o,i,n,r,s={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(r){return function(a){return function(r){if(o)throw new TypeError("Generator is already executing.");for(;s;)try{if(o=1,i&&(n=2&r[0]?i.return:r[0]?i.throw||((n=i.return)&&n.call(i),0):i.next)&&!(n=n.call(i,r[1])).done)return n;switch(i=0,n&&(r=[2&r[0],n.value]),r[0]){case 0:case 1:n=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,i=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!((n=(n=s.trys).length>0&&n[n.length-1])||6!==r[0]&&2!==r[0])){s=0;continue}if(3===r[0]&&(!n||r[1]>n[0]&&r[1]<n[3])){s.label=r[1];break}if(6===r[0]&&s.label<n[1]){s.label=n[1],n=r;break}if(n&&s.label<n[2]){s.label=n[2],s.ops.push(r);break}n[2]&&s.ops.pop(),s.trys.pop();continue}r=t.call(e,s)}catch(e){r=[6,e],i=0}finally{o=n=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,a])}}}function u(e){var t="function"==typeof Symbol&&Symbol.iterator,o=t&&e[t],i=0;if(o)return o.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function h(e,t){var o="function"==typeof Symbol&&e[Symbol.iterator];if(!o)return e;var i,n,r=o.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(e){n={error:e}}finally{try{i&&!i.done&&(o=r.return)&&o.call(r)}finally{if(n)throw n.error}}return s}function d(e,t,o){if(o||2===arguments.length)for(var i,n=0,r=t.length;n<r;n++)!i&&n in t||(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var p={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var o=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[],n=0;n<e.length;n+=3){var r=e[n],s=n+1<e.length,a=s?e[n+1]:0,l=n+2<e.length,u=l?e[n+2]:0,c=r>>2,d=(3&r)<<4|a>>4,h=(15&a)<<2|u>>6,p=63&u;l||(p=64,s||(h=64)),i.push(o[c],o[d],o[h],o[p])}return i.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(function(e){for(var t=[],o=0,i=0;i<e.length;i++){var n=e.charCodeAt(i);n<128?t[o++]=n:n<2048?(t[o++]=n>>6|192,t[o++]=63&n|128):55296==(64512&n)&&i+1<e.length&&56320==(64512&e.charCodeAt(i+1))?(n=65536+((1023&n)<<10)+(1023&e.charCodeAt(++i)),t[o++]=n>>18|240,t[o++]=n>>12&63|128,t[o++]=n>>6&63|128,t[o++]=63&n|128):(t[o++]=n>>12|224,t[o++]=n>>6&63|128,t[o++]=63&n|128)}return t}(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],o=0,i=0;o<e.length;){var n=e[o++];if(n<128)t[i++]=String.fromCharCode(n);else if(n>191&&n<224){var r=e[o++];t[i++]=String.fromCharCode((31&n)<<6|63&r)}else if(n>239&&n<365){var s=((7&n)<<18|(63&(r=e[o++]))<<12|(63&(a=e[o++]))<<6|63&e[o++])-65536;t[i++]=String.fromCharCode(55296+(s>>10)),t[i++]=String.fromCharCode(56320+(1023&s))}else{r=e[o++];var a=e[o++];t[i++]=String.fromCharCode((15&n)<<12|(63&r)<<6|63&a)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var o=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[],n=0;n<e.length;){var r=o[e.charAt(n++)],s=n<e.length?o[e.charAt(n)]:0,a=++n<e.length?o[e.charAt(n)]:64,l=++n<e.length?o[e.charAt(n)]:64;if(++n,null==r||null==s||null==a||null==l)throw Error();var u=r<<2|s>>4;if(i.push(u),64!==a){var c=s<<4&240|a>>2;if(i.push(c),64!==l){var d=a<<6&192|l;i.push(d)}}}return i},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},f=function(){function e(){var e=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(t,o){e.resolve=t,e.reject=o}))}return e.prototype.wrapCallback=function(e){var t=this;return function(o,i){o?t.reject(o):t.resolve(i),"function"==typeof e&&(t.promise.catch((function(){})),1===e.length?e(o):e(o,i))}},e}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var g=function(e){function t(o,i,n){var r=e.call(this,i)||this;return r.code=o,r.customData=n,r.name="FirebaseError",Object.setPrototypeOf(r,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(r,v.prototype.create),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function i(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}(t,e),t}(Error),v=function(){function e(e,t,o){this.service=e,this.serviceName=t,this.errors=o}return e.prototype.create=function(e){for(var t=[],o=1;o<arguments.length;o++)t[o-1]=arguments[o];var i=t[0]||{},n=this.service+"/"+e,r=this.errors[e],s=r?y(r,i):"Error",a=this.serviceName+": "+s+" ("+n+").",l=new g(n,a,i);return l},e}();function y(e,t){return e.replace(w,(function(e,o){var i=t[o];return null!=i?String(i):"<"+o+"?>"}))}var w=/\{\$([^}]+)}/g;function _(e,t){if(e===t)return!0;for(var o=Object.keys(e),i=Object.keys(t),n=0,r=o;n<r.length;n++){var s=r[n];if(!i.includes(s))return!1;var a=e[s],l=t[s];if(b(a)&&b(l)){if(!_(a,l))return!1}else if(a!==l)return!1}for(var u=0,c=i;u<c.length;u++)if(s=c[u],!o.includes(s))return!1;return!0}function b(e){return null!==e&&"object"==typeof e}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I(e){for(var t=[],o=function(e,o){Array.isArray(o)?o.forEach((function(o){t.push(encodeURIComponent(e)+"="+encodeURIComponent(o))})):t.push(encodeURIComponent(e)+"="+encodeURIComponent(o))},i=0,n=Object.entries(e);i<n.length;i++){var r=n[i];o(r[0],r[1])}return t.length?"&"+t.join("&"):""}var T=function(){function e(e,t){var o=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((function(){e(o)})).catch((function(e){o.error(e)}))}return e.prototype.next=function(e){this.forEachObserver((function(t){t.next(e)}))},e.prototype.error=function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)},e.prototype.complete=function(){this.forEachObserver((function(e){e.complete()})),this.close()},e.prototype.subscribe=function(e,t,o){var i,n=this;if(void 0===e&&void 0===t&&void 0===o)throw new Error("Missing Observer.");void 0===(i=function(e,t){if("object"!=typeof e||null===e)return!1;for(var o=0,i=["next","error","complete"];o<i.length;o++){var n=i[o];if(n in e&&"function"==typeof e[n])return!0}return!1}(e)?e:{next:e,error:t,complete:o}).next&&(i.next=E),void 0===i.error&&(i.error=E),void 0===i.complete&&(i.complete=E);var r=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{n.finalError?i.error(n.finalError):i.complete()}catch(e){}})),this.observers.push(i),r},e.prototype.unsubscribeOne=function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},e.prototype.forEachObserver=function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)},e.prototype.sendOne=function(e,t){var o=this;this.task.then((function(){if(void 0!==o.observers&&void 0!==o.observers[e])try{t(o.observers[e])}catch(e){"undefined"!=typeof console&&console.error&&console.error(e)}}))},e.prototype.close=function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))},e}();function E(){}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k(e){return e&&e._delegate?e._delegate:e}var R,C,S=function(){function e(e,t,o){this.name=e,this.instanceFactory=t,this.type=o,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return e.prototype.setInstantiationMode=function(e){return this.instantiationMode=e,this},e.prototype.setMultipleInstances=function(e){return this.multipleInstances=e,this},e.prototype.setServiceProps=function(e){return this.serviceProps=e,this},e.prototype.setInstanceCreatedCallback=function(e){return this.onInstanceCreated=e,this},e}(),O=function(){function e(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return e.prototype.get=function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var o=new f;if(this.instancesDeferred.set(t,o),this.isInitialized(t)||this.shouldAutoInitialize())try{var i=this.getOrInitializeService({instanceIdentifier:t});i&&o.resolve(i)}catch(e){}}return this.instancesDeferred.get(t).promise},e.prototype.getImmediate=function(e){var t,o=this.normalizeInstanceIdentifier(null==e?void 0:e.identifier),i=null!==(t=null==e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(o)&&!this.shouldAutoInitialize()){if(i)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:o})}catch(e){if(i)return null;throw e}},e.prototype.getComponent=function(){return this.component},e.prototype.setComponent=function(e){var t,o;if(e.name!==this.name)throw Error("Mismatching Component "+e.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e))try{this.getOrInitializeService({instanceIdentifier:"[DEFAULT]"})}catch(e){}try{for(var i=u(this.instancesDeferred.entries()),n=i.next();!n.done;n=i.next()){var r=h(n.value,2),s=r[0],a=r[1],l=this.normalizeInstanceIdentifier(s);try{var c=this.getOrInitializeService({instanceIdentifier:l});a.resolve(c)}catch(e){}}}catch(e){t={error:e}}finally{try{n&&!n.done&&(o=i.return)&&o.call(i)}finally{if(t)throw t.error}}}},e.prototype.clearInstance=function(e){void 0===e&&(e="[DEFAULT]"),this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)},e.prototype.delete=function(){return c(this,void 0,void 0,(function(){var e;return l(this,(function(t){switch(t.label){case 0:return e=Array.from(this.instances.values()),[4,Promise.all(d(d([],h(e.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()})))),h(e.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))))];case 1:return t.sent(),[2]}}))}))},e.prototype.isComponentSet=function(){return null!=this.component},e.prototype.isInitialized=function(e){return void 0===e&&(e="[DEFAULT]"),this.instances.has(e)},e.prototype.getOptions=function(e){return void 0===e&&(e="[DEFAULT]"),this.instancesOptions.get(e)||{}},e.prototype.initialize=function(e){var t,o;void 0===e&&(e={});var i=e.options,n=void 0===i?{}:i,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(this.name+"("+r+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var s=this.getOrInitializeService({instanceIdentifier:r,options:n});try{for(var a=u(this.instancesDeferred.entries()),l=a.next();!l.done;l=a.next()){var c=h(l.value,2),d=c[0],p=c[1];r===this.normalizeInstanceIdentifier(d)&&p.resolve(s)}}catch(e){t={error:e}}finally{try{l&&!l.done&&(o=a.return)&&o.call(a)}finally{if(t)throw t.error}}return s},e.prototype.onInit=function(e,t){var o,i=this.normalizeInstanceIdentifier(t),n=null!==(o=this.onInitCallbacks.get(i))&&void 0!==o?o:new Set;n.add(e),this.onInitCallbacks.set(i,n);var r=this.instances.get(i);return r&&e(r,i),function(){n.delete(e)}},e.prototype.invokeOnInitCallbacks=function(e,t){var o,i,n=this.onInitCallbacks.get(t);if(n)try{for(var r=u(n),s=r.next();!s.done;s=r.next()){var a=s.value;try{a(e,t)}catch(e){}}}catch(e){o={error:e}}finally{try{s&&!s.done&&(i=r.return)&&i.call(r)}finally{if(o)throw o.error}}},e.prototype.getOrInitializeService=function(e){var t,o=e.instanceIdentifier,i=e.options,n=void 0===i?{}:i,r=this.instances.get(o);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(t=o,"[DEFAULT]"===t?void 0:t),options:n}),this.instances.set(o,r),this.instancesOptions.set(o,n),this.invokeOnInitCallbacks(r,o),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,o,r)}catch(e){}return r||null},e.prototype.normalizeInstanceIdentifier=function(e){return void 0===e&&(e="[DEFAULT]"),this.component?this.component.multipleInstances?e:"[DEFAULT]":e},e.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},e}(),N=function(){function e(e){this.name=e,this.providers=new Map}return e.prototype.addComponent=function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component "+e.name+" has already been registered with "+this.name);t.setComponent(e)},e.prototype.addOrOverwriteComponent=function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)},e.prototype.getProvider=function(e){if(this.providers.has(e))return this.providers.get(e);var t=new O(e,this);return this.providers.set(e,t),t},e.prototype.getProviders=function(){return Array.from(this.providers.values())},e}();
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
function L(){for(var e=0,t=0,o=arguments.length;t<o;t++)e+=arguments[t].length;var i=Array(e),n=0;for(t=0;t<o;t++)for(var r=arguments[t],s=0,a=r.length;s<a;s++,n++)i[n]=r[s];return i}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(C||(C={}));var A={debug:C.DEBUG,verbose:C.VERBOSE,info:C.INFO,warn:C.WARN,error:C.ERROR,silent:C.SILENT},P=C.INFO,M=((R={})[C.DEBUG]="log",R[C.VERBOSE]="log",R[C.INFO]="info",R[C.WARN]="warn",R[C.ERROR]="error",R),D=function(e,t){for(var o=[],i=2;i<arguments.length;i++)o[i-2]=arguments[i];if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=M[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: "+t+")");console[r].apply(console,L(["["+n+"]  "+e.name+":"],o))}},U=function(){function e(e){this.name=e,this._logLevel=P,this._logHandler=D,this._userLogHandler=null}return Object.defineProperty(e.prototype,"logLevel",{get:function(){return this._logLevel},set:function(e){if(!(e in C))throw new TypeError('Invalid value "'+e+'" assigned to `logLevel`');this._logLevel=e},enumerable:!1,configurable:!0}),e.prototype.setLogLevel=function(e){this._logLevel="string"==typeof e?A[e]:e},Object.defineProperty(e.prototype,"logHandler",{get:function(){return this._logHandler},set:function(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e},enumerable:!1,configurable:!0}),e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,L([this,C.DEBUG],e)),this._logHandler.apply(this,L([this,C.DEBUG],e))},e.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,L([this,C.VERBOSE],e)),this._logHandler.apply(this,L([this,C.VERBOSE],e))},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,L([this,C.INFO],e)),this._logHandler.apply(this,L([this,C.INFO],e))},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,L([this,C.WARN],e)),this._logHandler.apply(this,L([this,C.WARN],e))},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,L([this,C.ERROR],e)),this._logHandler.apply(this,L([this,C.ERROR],e))},e}();
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null==t?void 0:t.type)}(e)){const t=e.getImmediate();return`${t.library}/${t.version}`}return null})).filter((e=>e)).join(" ")}}const x=new U("@firebase/app"),B={"@firebase/app":"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},j=new Map,H=new Map;function V(e,t){try{e.container.addComponent(t)}catch(o){x.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,o)}}function z(e){const t=e.name;if(H.has(t))return x.debug(`There were multiple attempts to register component ${t}.`),!1;H.set(t,e);for(const t of j.values())V(t,e);return!0}function $(e,t){return e.container.getProvider(t)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W=new v("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function."});
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G{constructor(e,t,o){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=o,this.container.addComponent(new S("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw W.create("app-deleted",{appName:this._name})}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q(e,t,o){var i;let n=null!==(i=B[e])&&void 0!==i?i:e;o&&(n+="-"+o);const r=n.match(/\s|\//),s=t.match(/\s|\//);if(r||s){const e=[`Unable to register library "${n}" with version "${t}":`];return r&&e.push(`library name "${n}" contains illegal characters (whitespace or "/")`),r&&s&&e.push("and"),s&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),void x.warn(e.join(" "))}z(new S(n+"-version",(()=>({library:n,version:t})),"VERSION"))}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var K;function J(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */z(new S("platform-logger",(e=>new F(e)),"PRIVATE")),q("@firebase/app","0.7.0",K),q("fire-js",""),q("firebase","9.0.2","app");const X=J,Y=new v("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Z=new U("@firebase/auth");function Q(e,...t){Z.logLevel<=C.ERROR&&Z.error("Auth (9.0.0): "+e,...t)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ee(e,...t){throw ne(e,...t)}function te(e,...t){return ne(e,...t)}function re(e,t,o){const i=Object.assign(Object.assign({},X()),{[t]:o});return new v("auth","Firebase",i).create(t,{appName:e.name})}function ne(e,...t){if("string"!=typeof e){const o=t[0],i=[...t.slice(1)];return i[0]&&(i[0].appName=e.name),e._errorFactory.create(o,...i)}return Y.create(e,...t)}function ie(e,t,...o){if(!e)throw ne(t,...o)}function se(e){const t="INTERNAL ASSERTION FAILED: "+e;throw Q(t),new Error(t)}function oe(e,t){e||se(t)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ae=new Map;function ce(e){oe(e instanceof Function,"Expected a class definition");let t=ae.get(e);return t?(oe(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,ae.set(e,t),t)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function le(){var e;return"undefined"!=typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function ue(){var e;return"undefined"!=typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function he(){return"undefined"==typeof navigator||!navigator||!("onLine"in navigator)||"boolean"!=typeof navigator.onLine||"http:"!==ue()&&"https:"!==ue()&&("object"!=typeof(e="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0)||void 0===e.id)&&!("connection"in navigator)||navigator.onLine;var e}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class de{constructor(e,t){this.shortDelay=e,this.longDelay=t,oe(t>e,"Short delay should be less than long delay!"),this.isMobile="undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(m())||"object"==typeof navigator&&"ReactNative"===navigator.product}get(){return he()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pe(e,t){oe(e.emulator,"Emulator should always be set here");const{url:o}=e.emulator;return t?`${o}${t.startsWith("/")?t.slice(1):t}`:o}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fe{static initialize(e,t,o){this.fetchImpl=e,t&&(this.headersImpl=t),o&&(this.responseImpl=o)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void se("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void se("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void se("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const me={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},ge=new de(3e4,6e4);
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ve(e,t,o,i,n={}){return ye(e,n,(()=>{let n={},r={};i&&("GET"===t?r=i:n={body:JSON.stringify(i)});const s=I(Object.assign({key:e.config.apiKey},r)).slice(1),a=new(fe.headers());return a.set("Content-Type","application/json"),a.set("X-Client-Version",e._getSdkClientVersion()),e.languageCode&&a.set("X-Firebase-Locale",e.languageCode),fe.fetch()(we(e,e.config.apiHost,o,s),Object.assign({method:t,headers:a,referrerPolicy:"no-referrer"},n))}))}async function ye(e,t,o){e._canInitEmulator=!1;const i=Object.assign(Object.assign({},me),t);try{const t=new _e(e),n=await Promise.race([o(),t.promise]);t.clearNetworkTimeout();const r=await n.json();if("needConfirmation"in r)throw be(e,"account-exists-with-different-credential",r);if(n.ok&&!("errorMessage"in r))return r;{const t=n.ok?r.errorMessage:r.error.message,[o,s]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===o)throw be(e,"credential-already-in-use",r);if("EMAIL_EXISTS"===o)throw be(e,"email-already-in-use",r);const a=i[o]||o.toLowerCase().replace(/[_\s]+/g,"-");if(s)throw re(e,a,s);ee(e,a)}}catch(t){if(t instanceof g)throw t;ee(e,"network-request-failed")}}function we(e,t,o,i){const n=`${t}${o}?${i}`;return e.config.emulator?pe(e.config,n):`${e.config.apiScheme}://${n}`}class _e{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise(((e,t)=>{this.timer=setTimeout((()=>t(te(this.auth,"timeout"))),ge.get())}))}clearNetworkTimeout(){clearTimeout(this.timer)}}function be(e,t,o){const i={appName:e.name};o.email&&(i.email=o.email),o.phoneNumber&&(i.phoneNumber=o.phoneNumber);const n=te(e,t,i);return n.customData._tokenResponse=o,n}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ie(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(e){}}function Te(e){return 1e3*Number(e)}function Ee(e){const[t,o,i]=e.split(".");if(void 0===t||void 0===o||void 0===i)return Q("JWT malformed, contained fewer than 3 sections"),null;try{const e=function(e){try{return p.decodeString(e,!0)}catch(e){console.error("base64Decode failed: ",e)}return null}(o);return e?JSON.parse(e):(Q("Failed to decode base64 JWT payload"),null)}catch(e){return Q("Caught error parsing JWT payload as JSON",e),null
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}}async function ke(e,t,o=!1){if(o)return t;try{return await t}catch(t){throw t instanceof g&&function({code:e}){return"auth/user-disabled"===e||"auth/user-token-expired"===e}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(t)&&e.auth.currentUser===e&&await e.auth.signOut(),t}}class Se{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout((async()=>{await this.iteration()}),t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){return void("auth/network-request-failed"===e.code&&this.schedule(!0))}this.schedule()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oe{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ie(this.lastLoginAt),this.creationTime=Ie(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Re(e){var t;const o=e.auth,i=await e.getIdToken(),n=await ke(e,async function(e,t){return ve(e,"POST","/v1/accounts:lookup",t)}(o,{idToken:i}));ie(null==n?void 0:n.users.length,o,"internal-error");const r=n.users[0];e._notifyReloadListener(r);const s=(null===(t=r.providerUserInfo)||void 0===t?void 0:t.length)?r.providerUserInfo.map((e=>{var{providerId:t}=e,o=a(e,["providerId"]);return{providerId:t,uid:o.rawId||"",displayName:o.displayName||null,email:o.email||null,phoneNumber:o.phoneNumber||null,photoURL:o.photoUrl||null}})):[],l=(u=e.providerData,c=s,[...u.filter((e=>!c.some((t=>t.providerId===e.providerId)))),...c]);var u,c;const d=e.isAnonymous,h=!(e.email&&r.passwordHash||(null==l?void 0:l.length)),p=!!d&&h,m={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:l,metadata:new Oe(r.createdAt,r.lastLoginAt),isAnonymous:p};Object.assign(e,m)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ce{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ie(e.idToken,"internal-error"),ie(void 0!==e.idToken,"internal-error"),ie(void 0!==e.refreshToken,"internal-error");const t="expiresIn"in e&&void 0!==e.expiresIn?Number(e.expiresIn):function(e){const t=Ee(e);return ie(t,"internal-error"),ie(void 0!==t.exp,"internal-error"),ie(void 0!==t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}async getToken(e,t=!1){return ie(!this.accessToken||this.refreshToken,e,"user-token-expired"),t||!this.accessToken||this.isExpired?this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null:this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:o,refreshToken:i,expiresIn:n}=await
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
async function(e,t){const o=await ye(e,{},(()=>{const o=I({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:i,apiKey:n}=e.config,r=we(e,i,"/v1/token","key="+n);return fe.fetch()(r,{method:"POST",headers:{"X-Client-Version":e._getSdkClientVersion(),"Content-Type":"application/x-www-form-urlencoded"},body:o})}));return{accessToken:o.access_token,expiresIn:o.expires_in,refreshToken:o.refresh_token}}(e,t);this.updateTokensAndExpiration(o,i,Number(n))}updateTokensAndExpiration(e,t,o){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*o}static fromJSON(e,t){const{refreshToken:o,accessToken:i,expirationTime:n}=t,r=new Ce;return o&&(ie("string"==typeof o,"internal-error",{appName:e}),r.refreshToken=o),i&&(ie("string"==typeof i,"internal-error",{appName:e}),r.accessToken=i),n&&(ie("number"==typeof n,"internal-error",{appName:e}),r.expirationTime=n),r}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ce,this.toJSON())}_performRefresh(){return se("not implemented")}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ne(e,t){ie("string"==typeof e||void 0===e,"internal-error",{appName:t})}class Le{constructor(e){var{uid:t,auth:o,stsTokenManager:i}=e,n=a(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.emailVerified=!1,this.isAnonymous=!1,this.tenantId=null,this.providerData=[],this.proactiveRefresh=new Se(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=o,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=n.displayName||null,this.email=n.email||null,this.phoneNumber=n.phoneNumber||null,this.photoURL=n.photoURL||null,this.isAnonymous=n.isAnonymous||!1,this.metadata=new Oe(n.createdAt||void 0,n.lastLoginAt||void 0)}async getIdToken(e){const t=await ke(this,this.stsTokenManager.getToken(this.auth,e));return ie(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e,t=!1){const o=k(e),i=await o.getIdToken(t),n=Ee(i);ie(n&&n.exp&&n.auth_time&&n.iat,o.auth,"internal-error");const r="object"==typeof n.firebase?n.firebase:void 0,s=null==r?void 0:r.sign_in_provider;return{claims:n,token:i,authTime:Ie(Te(n.auth_time)),issuedAtTime:Ie(Te(n.iat)),expirationTime:Ie(Te(n.exp)),signInProvider:s||null,signInSecondFactor:(null==r?void 0:r.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=k(e);await Re(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(ie(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((e=>Object.assign({},e))),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){return new Le(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(e){ie(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let o=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),o=!0),t&&await Re(this),await this.auth._persistUserIfCurrent(this),o&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await ke(this,async function(e,t){return ve(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((e=>Object.assign({},e))),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var o,i,n,r,s,a,l,u;const c=null!==(o=t.displayName)&&void 0!==o?o:void 0,d=null!==(i=t.email)&&void 0!==i?i:void 0,h=null!==(n=t.phoneNumber)&&void 0!==n?n:void 0,p=null!==(r=t.photoURL)&&void 0!==r?r:void 0,m=null!==(s=t.tenantId)&&void 0!==s?s:void 0,f=null!==(a=t._redirectEventId)&&void 0!==a?a:void 0,g=null!==(l=t.createdAt)&&void 0!==l?l:void 0,b=null!==(u=t.lastLoginAt)&&void 0!==u?u:void 0,{uid:v,emailVerified:y,isAnonymous:w,providerData:C,stsTokenManager:E}=t;ie(v&&E,e,"internal-error");const T=Ce.fromJSON(this.name,E);ie("string"==typeof v,e,"internal-error"),Ne(c,e.name),Ne(d,e.name),ie("boolean"==typeof y,e,"internal-error"),ie("boolean"==typeof w,e,"internal-error"),Ne(h,e.name),Ne(p,e.name),Ne(m,e.name),Ne(f,e.name),Ne(g,e.name),Ne(b,e.name);const R=new Le({uid:v,auth:e,email:d,emailVerified:y,displayName:c,isAnonymous:w,photoURL:p,phoneNumber:h,tenantId:m,stsTokenManager:T,createdAt:g,lastLoginAt:b});return C&&Array.isArray(C)&&(R.providerData=C.map((e=>Object.assign({},e)))),f&&(R._redirectEventId=f),R}static async _fromIdTokenResponse(e,t,o=!1){const i=new Ce;i.updateFromServerResponse(t);const n=new Le({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:o});return await Re(n),n
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}}class Ae{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Ae.type="NONE";const Pe=Ae;
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Me(e,t,o){return`firebase:${e}:${t}:${o}`}class De{constructor(e,t,o){this.persistence=e,this.auth=t,this.userKey=o;const{config:i,name:n}=this.auth;this.fullUserKey=Me(this.userKey,i.apiKey,n),this.fullPersistenceKey=Me("persistence",i.apiKey,n),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Le._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,o="authUser"){if(!t.length)return new De(ce(Pe),e,o);const i=(await Promise.all(t.map((async e=>{if(await e._isAvailable())return e})))).filter((e=>e));let n=i[0]||ce(Pe);const r=Me(o,e.config.apiKey,e.name);let s=null;for(const o of t)try{const t=await o._get(r);if(t){const i=Le._fromJSON(e,t);o!==n&&(s=i),n=o;break}}catch(e){}const a=i.filter((e=>e._shouldAllowMigration));return n._shouldAllowMigration&&a.length?(n=a[0],s&&await n._set(r,s.toJSON()),await Promise.all(t.map((async e=>{if(e!==n)try{await e._remove(r)}catch(e){}}))),new De(n,e,o)):new De(n,e,o)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ue(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(je(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Fe(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Ve(t))return"Blackberry";if(ze(t))return"Webos";if(xe(t))return"Safari";if((t.includes("chrome/")||Be(t))&&!t.includes("edge/"))return"Chrome";if(He(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,o=e.match(t);if(2===(null==o?void 0:o.length))return o[1]}return"Other"}function Fe(e=m()){return/firefox\//i.test(e)}function xe(e=m()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function Be(e=m()){return/crios\//i.test(e)}function je(e=m()){return/iemobile/i.test(e)}function He(e=m()){return/android/i.test(e)}function Ve(e=m()){return/blackberry/i.test(e)}function ze(e=m()){return/webos/i.test(e)}function $e(e=m()){return/iphone|ipad|ipod/i.test(e)}function We(){return((e=m()).indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0)&&10===document.documentMode;var e}function Ge(e=m()){return $e(e)||He(e)||ze(e)||Ve(e)||/windows phone/i.test(e)||je(e)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qe(e,t=[]){let o;switch(e){case"Browser":o=Ue(m());break;case"Worker":o=`${Ue(m())}-${e}`;break;default:o=e}return`${o}/JsCore/9.0.0/${t.length?t.join(","):"FirebaseCore-web"}`
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}class Ke{constructor(e,t){this.app=e,this.config=t,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Xe(this),this.idTokenSubscription=new Xe(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Y,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=t.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=ce(t)),this._initializationPromise=this.queue((async()=>{var o;this._deleted||(this.persistenceManager=await De.create(this,e),this._deleted||((null===(o=this._popupRedirectResolver)||void 0===o?void 0:o._shouldInitProactively)&&await this._popupRedirectResolver._initialize(this),await this.initializeCurrentUser(t),this._deleted||(this._isInitialized=!0)))})),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e):void 0}async initializeCurrentUser(e){var t;let o=await this.assertedPersistence.getCurrentUser();if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const i=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,n=null==o?void 0:o._redirectEventId,r=await this.tryRedirectSignIn(e);i&&i!==n||!(null==r?void 0:r.user)||(o=r.user)}return o?o._redirectEventId?(ie(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)):this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(e){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Re(e)}catch(e){if("auth/network-request-failed"!==e.code)return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const t=e?k(e):null;return t&&ie(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){if(!this._deleted)return e&&ie(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),this.queue((async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()}))}async signOut(){return(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null)}setPersistence(e){return this.queue((async()=>{await this.assertedPersistence.setPersistence(ce(e))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new v("auth","Firebase",e())}onAuthStateChanged(e,t,o){return this.registerStateListener(this.authStateSubscription,e,t,o)}onIdTokenChanged(e,t,o){return this.registerStateListener(this.idTokenSubscription,e,t,o)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const o=await this.getOrInitRedirectPersistenceManager(t);return null===e?o.removeCurrentUser():o.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&ce(e)||this._popupRedirectResolver;ie(t,this,"argument-error"),this.redirectPersistenceManager=await De.create(this,[ce(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,o;return this._isInitialized&&await this.queue((async()=>{})),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(o=this.redirectUser)||void 0===o?void 0:o._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue((async()=>this.directlySetCurrentUser(e)))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const o=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==o&&(this.lastNotifiedUid=o,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,o,i){if(this._deleted)return()=>{};const n="function"==typeof t?t:t.next.bind(t),r=this._isInitialized?Promise.resolve():this._initializationPromise;return ie(r,this,"internal-error"),r.then((()=>n(this.currentUser))),"function"==typeof t?e.addObserver(t,o,i):e.addObserver(t)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&(this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh()),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ie(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=qe(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getSdkClientVersion(){return this.clientVersion}}function Je(e){return k(e)}class Xe{constructor(e){var t;this.auth=e,this.observer=null,this.addObserver=(t=new T((e=>this.observer=e),undefined)).subscribe.bind(t)}get next(){return ie(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}}class Ye{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return se("not implemented")}_getIdTokenResponse(e){return se("not implemented")}_linkToIdToken(e,t){return se("not implemented")}_getReauthenticationResolver(e){return se("not implemented")}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ze(e,t){return async function(e,t,o,i,n={}){const r=await ve(e,t,o,i,n);return"mfaPendingCredential"in r&&ee(e,"multi-factor-auth-required",{serverResponse:r}),r}(e,"POST","/v1/accounts:signInWithIdp",function(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}(e,t))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qe extends Ye{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Qe(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):ee("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e,{providerId:o,signInMethod:i}=t,n=a(t,["providerId","signInMethod"]);if(!o||!i)return null;const r=new Qe(o,i);return Object.assign(r,n),r}_getIdTokenResponse(e){return Ze(e,this.buildRequest())}_linkToIdToken(e,t){const o=this.buildRequest();return o.idToken=t,Ze(e,o)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Ze(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=I(t)}return e}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class et{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tt extends et{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rt extends tt{constructor(){super("facebook.com")}static credential(e){return Qe._fromParams({providerId:rt.PROVIDER_ID,signInMethod:rt.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return rt.credentialFromTaggedObject(e)}static credentialFromError(e){return rt.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e))return null;if(!e.oauthAccessToken)return null;try{return rt.credential(e.oauthAccessToken)}catch(e){return null}}}rt.FACEBOOK_SIGN_IN_METHOD="facebook.com",rt.PROVIDER_ID="facebook.com";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class nt extends tt{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Qe._fromParams({providerId:nt.PROVIDER_ID,signInMethod:nt.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return nt.credentialFromTaggedObject(e)}static credentialFromError(e){return nt.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:o}=e;if(!t&&!o)return null;try{return nt.credential(t,o)}catch(e){return null}}}nt.GOOGLE_SIGN_IN_METHOD="google.com",nt.PROVIDER_ID="google.com";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class it extends tt{constructor(){super("github.com")}static credential(e){return Qe._fromParams({providerId:it.PROVIDER_ID,signInMethod:it.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return it.credentialFromTaggedObject(e)}static credentialFromError(e){return it.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e))return null;if(!e.oauthAccessToken)return null;try{return it.credential(e.oauthAccessToken)}catch(e){return null}}}it.GITHUB_SIGN_IN_METHOD="github.com",it.PROVIDER_ID="github.com";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class st extends tt{constructor(){super("twitter.com")}static credential(e,t){return Qe._fromParams({providerId:st.PROVIDER_ID,signInMethod:st.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return st.credentialFromTaggedObject(e)}static credentialFromError(e){return st.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:o}=e;if(!t||!o)return null;try{return st.credential(t,o)}catch(e){return null}}}st.TWITTER_SIGN_IN_METHOD="twitter.com",st.PROVIDER_ID="twitter.com";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class ot{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,o,i=!1){const n=await Le._fromIdTokenResponse(e,o,i),r=at(o);return new ot({user:n,providerId:r,_tokenResponse:o,operationType:t})}static async _forOperation(e,t,o){await e._updateTokensIfNecessary(o,!0);const i=at(o);return new ot({user:e,providerId:i,_tokenResponse:o,operationType:t})}}function at(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ct extends g{constructor(e,t,o,i){var n;super(t.code,t.message),this.operationType=o,this.user=i,this.name="FirebaseError",Object.setPrototypeOf(this,ct.prototype),this.appName=e.name,this.code=t.code,this.tenantId=null!==(n=e.tenantId)&&void 0!==n?n:void 0,this.serverResponse=t.customData.serverResponse}static _fromErrorAndOperation(e,t,o,i){return new ct(e,t,o,i)}}function lt(e,t,o,i){return("reauthenticate"===t?o._getReauthenticationResolver(e):o._getIdTokenResponse(e)).catch((o=>{if("auth/multi-factor-auth-required"===o.code)throw ct._fromErrorAndOperation(e,o,t,i);throw o}))}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ut{constructor(e,t){this.storage=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem("__sak","1"),this.storage.removeItem("__sak"),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}}class ht extends ut{constructor(){super(window.localStorage,"LOCAL"),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const e=m();return xe(e)||$e(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),this.fallbackToPolling=Ge(),this._shouldAllowMigration=!0,this.boundEventHandler=this.onStorageEvent.bind(this)}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const o=this.storage.getItem(t),i=this.localCache[t];o!==i&&e(t,i,o)}}onStorageEvent(e,t=!1){if(!e.key)return void this.forAllChangedKeys(((e,t,o)=>{this.notifyListeners(e,o)}));const o=e.key;if(t?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const i=this.storage.getItem(o);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(o,e.newValue):this.storage.removeItem(o);else if(this.localCache[o]===e.newValue&&!t)return}const i=()=>{const e=this.storage.getItem(o);(t||this.localCache[o]!==e)&&this.notifyListeners(o,e)},n=this.storage.getItem(o);We()&&n!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,10):i()}notifyListeners(e,t){this.localCache[e]=t;const o=this.listeners[e];if(o)for(const e of Array.from(o))e(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((()=>{this.forAllChangedKeys(((e,t,o)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:o}),!0)}))}),1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}ht.type="LOCAL";const dt=ht;
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt extends ut{constructor(){super(window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}pt.type="SESSION";const ft=pt;
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mt{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find((t=>t.isListeningto(e)));if(t)return t;const o=new mt(e);return this.receivers.push(o),o}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:o,eventType:i,data:n}=t.data,r=this.handlersMap[i];if(!(null==r?void 0:r.size))return;t.ports[0].postMessage({status:"ack",eventId:o,eventType:i});const s=Array.from(r).map((async e=>e(t.origin,n))),a=await function(e){return Promise.all(e.map((async e=>{try{return{fulfilled:!0,value:await e}}catch(e){return{fulfilled:!1,reason:e}}})))}(s);t.ports[0].postMessage({status:"done",eventId:o,eventType:i,response:a})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}}function gt(e="",t=10){let o="";for(let e=0;e<t;e++)o+=Math.floor(10*Math.random());return e+o}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */mt.receivers=[];class vt{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,o=50){const i="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let n,r;return new Promise(((s,a)=>{const l=gt("",20);i.port1.start();const u=setTimeout((()=>{a(new Error("unsupported_event"))}),o);r={messageChannel:i,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(u),n=setTimeout((()=>{a(new Error("timeout"))}),3e3);break;case"done":clearTimeout(n),s(t.data.response);break;default:clearTimeout(u),clearTimeout(n),a(new Error("invalid_response"))}}},this.handlers.add(r),i.port1.addEventListener("message",r.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[i.port2])})).finally((()=>{r&&this.removeMessageHandler(r)}))}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yt(){return window}
/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wt(){return void 0!==yt().WorkerGlobalScope&&"function"==typeof yt().importScripts}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _t="firebaseLocalStorageDb";class bt{constructor(e){this.request=e}toPromise(){return new Promise(((e,t)=>{this.request.addEventListener("success",(()=>{e(this.request.result)})),this.request.addEventListener("error",(()=>{t(this.request.error)}))}))}}function It(e,t){return e.transaction(["firebaseLocalStorage"],t?"readwrite":"readonly").objectStore("firebaseLocalStorage")}function Tt(){const e=indexedDB.open(_t,1);return new Promise(((t,o)=>{e.addEventListener("error",(()=>{o(e.error)})),e.addEventListener("upgradeneeded",(()=>{const t=e.result;try{t.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(e){o(e)}})),e.addEventListener("success",(async()=>{const o=e.result;o.objectStoreNames.contains("firebaseLocalStorage")?t(o):(o.close(),await function(){const e=indexedDB.deleteDatabase(_t);return new bt(e).toPromise()}(),t(await Tt()))}))}))}async function Et(e,t,o){const i=It(e,!0).put({fbase_key:t,value:o});return new bt(i).toPromise()}function kt(e,t){const o=It(e,!0).delete(t);return new bt(o).toPromise()}class St{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((()=>{}),(()=>{}))}async _openDb(){return this.db||(this.db=await Tt()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(e){if(t++>3)throw e;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return wt()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=mt._getInstance(wt()?self:null),this.receiver._subscribe("keyChanged",(async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)}))),this.receiver._subscribe("ping",(async(e,t)=>["keyChanged"]))}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new vt(this.activeServiceWorker);const o=await this.sender._send("ping",{},800);o&&(null===(e=o[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=o[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(e){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Tt();return await Et(e,"__sak","1"),await kt(e,"__sak"),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite((async()=>(await this._withRetries((o=>Et(o,e,t))),this.localCache[e]=t,this.notifyServiceWorker(e))))}async _get(e){const t=await this._withRetries((t=>async function(e,t){const o=It(e,!1).get(t),i=await new bt(o).toPromise();return void 0===i?null:i.value}(t,e)));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite((async()=>(await this._withRetries((t=>kt(t,e))),delete this.localCache[e],this.notifyServiceWorker(e))))}async _poll(){const e=await this._withRetries((e=>{const t=It(e,!1).getAll();return new bt(t).toPromise()}));if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],o=new Set;for(const{fbase_key:i,value:n}of e)o.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(n)&&(this.notifyListeners(i,n),t.push(i));for(const e of Object.keys(this.localCache))this.localCache[e]&&!o.has(e)&&(this.notifyListeners(e,null),t.push(e));return t}notifyListeners(e,t){this.localCache[e]=t;const o=this.listeners[e];if(o)for(const e of Array.from(o))e(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((async()=>this._poll()),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}St.type="LOCAL";const Ot=St;
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rt(e){return new Promise(((t,o)=>{const i=document.createElement("script");i.setAttribute("src",e),i.onload=t,i.onerror=e=>{const t=te("internal-error");t.customData=e,o(t)},i.type="text/javascript",i.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(i)}))}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ct(e,t){return t?ce(t):(ie(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new de(3e4,6e4);class Nt extends Ye{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ze(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Ze(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Ze(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Lt(e){
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
return async function(e,t,o=!1){const i="signIn",n=await lt(e,i,t),r=await ot._fromIdTokenResponse(e,i,n);return o||await e._updateCurrentUser(r.user),r}(e.auth,new Nt(e),e.bypassAuthState)}function At(e){const{auth:t,user:o}=e;return ie(o,t,"internal-error"),
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
async function(e,t,o=!1){const{auth:i}=e,n="reauthenticate";try{const r=await ke(e,lt(i,n,t,e),o);ie(r.idToken,i,"internal-error");const s=Ee(r.idToken);ie(s,i,"internal-error");const{sub:a}=s;return ie(e.uid===a,i,"user-mismatch"),ot._forOperation(e,n,r)}catch(e){throw"auth/user-not-found"===(null==e?void 0:e.code)&&ee(i,"user-mismatch"),e}}(o,new Nt(e),e.bypassAuthState)}async function Pt(e){const{auth:t,user:o}=e;return ie(o,t,"internal-error"),async function(e,t,o=!1){const i=await ke(e,t._linkToIdToken(e.auth,await e.getIdToken()),o);return ot._forOperation(e,"link",i)}(o,new Nt(e),e.bypassAuthState)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{constructor(e,t,o,i,n=!1){this.auth=e,this.resolver=o,this.user=i,this.bypassAuthState=n,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(e){this.reject(e)}}))}async onAuthEvent(e){const{urlResponse:t,sessionId:o,postBody:i,tenantId:n,error:r,type:s}=e;if(r)return void this.reject(r);const a={auth:this.auth,requestUri:t,sessionId:o,tenantId:n||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(s)(a))}catch(e){this.reject(e)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Lt;case"linkViaPopup":case"linkViaRedirect":return Pt;case"reauthViaPopup":case"reauthViaRedirect":return At;default:ee(this.auth,"internal-error")}}resolve(e){oe(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){oe(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}}const Dt=new de(2e3,1e4);async function Ut(e,t,o){const i=Je(e);!function(e,t,o){if(!(t instanceof et))throw et.name!==t.constructor.name&&ee(e,"argument-error"),re(e,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}(e,t);const n=Ct(i,o);return new Ft(i,"signInViaPopup",t,n).executeNotNull()}class Ft extends Mt{constructor(e,t,o,i,n){super(e,t,i,n),this.provider=o,this.authWindow=null,this.pollId=null,Ft.currentPopupAction&&Ft.currentPopupAction.cancel(),Ft.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ie(e,this.auth,"internal-error"),e}async onExecution(){oe(1===this.filter.length,"Popup operations only handle one event");const e=gt();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch((e=>{this.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(e=>{e||this.reject(te(this.auth,"web-storage-unsupported"))})),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(te(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ft.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,o;(null===(o=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===o?void 0:o.closed)?this.pollId=window.setTimeout((()=>{this.pollId=null,this.reject(te(this.auth,"popup-closed-by-user"))}),2e3):this.pollId=window.setTimeout(e,Dt.get())};e()}}Ft.currentPopupAction=null;
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const xt=new Map;class Bt extends Mt{constructor(e,t,o=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,o),this.eventId=null}async execute(){let e=xt.get(this.auth._key());if(!e){try{const t=await async function(e,t){const o=function(e){return Me("pendingRedirect",e.config.apiKey,e.name)}(t),i="true"===await jt(e)._get(o);return await jt(e)._remove(o),i}(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(t)}catch(t){e=()=>Promise.reject(t)}xt.set(this.auth._key(),e)}return e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function jt(e){return ce(e._redirectPersistence)}async function Ht(e,t,o=!1){const i=Je(e),n=Ct(i,t),r=new Bt(i,n,o),s=await r.execute();return s&&!o&&(delete s.user._redirectEventId,await i._persistUserIfCurrent(s.user),await i._setRedirectUser(null,t)),s}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vt{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach((o=>{this.isEventForConsumer(e,o)&&(t=!0,this.sendToConsumer(e,o),this.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return $t(e);default:return!1}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var o;if(e.error&&!$t(e)){const i=(null===(o=e.error.code)||void 0===o?void 0:o.split("auth/")[1])||"internal-error";t.onError(te(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const o=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&o}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(zt(e))}saveEventToCache(e){this.cachedEventUids.add(zt(e)),this.lastProcessedEventTime=Date.now()}}function zt(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((e=>e)).join("-")}function $t({type:e,error:t}){return"unknown"===e&&"auth/no-auth-event"===(null==t?void 0:t.code)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wt=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Gt=/^https?/;async function qt(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e,t={}){return ve(e,"GET","/v1/projects",t)}(e);for(const o of t)try{if(Kt(o))return}catch(e){}ee(e,"unauthorized-domain")}function Kt(e){const t=le(),{protocol:o,hostname:i}=new URL(t);if(e.startsWith("chrome-extension://")){const n=new URL(e);return""===n.hostname&&""===i?"chrome-extension:"===o&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===o&&n.hostname===i}if(!Gt.test(o))return!1;if(Wt.test(e))return i===e;const n=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+n+"|"+n+")$","i").test(i)}
/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jt=new de(3e4,6e4);function Xt(){const e=yt().___jsl;if(null==e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let t=0;t<e.CP.length;t++)e.CP[t]=null}function Yt(e){return new Promise(((t,o)=>{var i,n,r;function s(){Xt(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Xt(),o(te(e,"network-request-failed"))},timeout:Jt.get()})}if(null===(n=null===(i=yt().gapi)||void 0===i?void 0:i.iframes)||void 0===n?void 0:n.Iframe)t(gapi.iframes.getContext());else{if(!(null===(r=yt().gapi)||void 0===r?void 0:r.load)){const t="__iframefcb"+Math.floor(1e6*Math.random());return yt()[t]=()=>{gapi.load?s():o(te(e,"network-request-failed"))},Rt("https://apis.google.com/js/api.js?onload="+t)}s()}})).catch((e=>{throw Zt=null,e}))}let Zt=null;
/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qt=new de(5e3,15e3),er={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},tr=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function rr(e){const t=e.config;ie(t.authDomain,e,"auth-domain-config-required");const o=t.emulator?pe(t,"emulator/auth/iframe"):`https://${e.config.authDomain}/__/auth/iframe`,i={apiKey:t.apiKey,appName:e.name,v:"9.0.0"},n=tr.get(e.config.apiHost);n&&(i.eid=n);const r=e._getFrameworks();return r.length&&(i.fw=r.join(",")),`${o}?${I(i).slice(1)}`}async function nr(e){const t=await function(e){return Zt=Zt||Yt(e),Zt}(e),o=yt().gapi;return ie(o,e,"internal-error"),t.open({where:document.body,url:rr(e),messageHandlersFilter:o.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:er,dontclear:!0},(t=>new Promise((async(o,i)=>{await t.restyle({setHideOnLeave:!1});const n=te(e,"network-request-failed"),r=yt().setTimeout((()=>{i(n)}),Qt.get());function s(){yt().clearTimeout(r),o(t)}t.ping(s).then(s,(()=>{i(n)}))}))))}
/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ir={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class sr{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}function or(e,t,o,i=500,n=600){const r=Math.max((window.screen.availHeight-n)/2,0).toString(),s=Math.max((window.screen.availWidth-i)/2,0).toString();let a="";const l=Object.assign(Object.assign({},ir),{width:i.toString(),height:n.toString(),top:r,left:s}),u=m().toLowerCase();o&&(a=Be(u)?"_blank":o),Fe(u)&&(t=t||"http://localhost",l.scrollbars="yes");const c=Object.entries(l).reduce(((e,[t,o])=>`${e}${t}=${o},`),"");if(function(e=m()){var t;return $e(e)&&!!(null===(t=window.navigator)||void 0===t?void 0:t.standalone)}(u)&&"_self"!==a)return function(e,t){const o=document.createElement("a");o.href=e,o.target=t;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),o.dispatchEvent(i)}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(t||"",a),new sr(null);const d=window.open(t||"",a,c);ie(d,e,"popup-blocked");try{d.focus()}catch(e){}return new sr(d)}function ar(e,t,o,i,n,r){ie(e.config.authDomain,e,"auth-domain-config-required"),ie(e.config.apiKey,e,"invalid-api-key");const s={apiKey:e.config.apiKey,appName:e.name,authType:o,redirectUrl:i,v:"9.0.0",eventId:n};if(t instanceof et){t.setDefaultLanguage(e.languageCode),s.providerId=t.providerId||"",function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(s.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(r||{}))s[e]=t}if(t instanceof tt){const e=t.getScopes().filter((e=>""!==e));e.length>0&&(s.scopes=e.join(","))}e.tenantId&&(s.tid=e.tenantId);const a=s;for(const e of Object.keys(a))void 0===a[e]&&delete a[e];return`${function({config:e}){return e.emulator?pe(e,"emulator/auth/handler"):`https://${e.authDomain}/__/auth/handler`}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e)}?${I(a).slice(1)}`}const cr=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ft,this._completeRedirectFn=Ht}async _openPopup(e,t,o,i){var n;return oe(null===(n=this.eventManagers[e._key()])||void 0===n?void 0:n.manager,"_initialize() not called before _openPopup()"),or(e,ar(e,t,o,le(),i),gt())}async _openRedirect(e,t,o,i){var n;return await this._originValidation(e),n=ar(e,t,o,le(),i),yt().location.href=n,new Promise((()=>{}))}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:o}=this.eventManagers[t];return e?Promise.resolve(e):(oe(o,"If manager is not set, promise should be"),o)}const o=this.initAndGetManager(e);return this.eventManagers[t]={promise:o},o}async initAndGetManager(e){const t=await nr(e),o=new Vt(e);return t.register("authEvent",(t=>(ie(null==t?void 0:t.authEvent,e,"invalid-auth-event"),{status:o.onEvent(t.authEvent)?"ACK":"ERROR"})),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:o},this.iframes[e._key()]=t,o}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send("webStorageSupport",{type:"webStorageSupport"},(o=>{var i;const n=null===(i=null==o?void 0:o[0])||void 0===i?void 0:i.webStorageSupport;void 0!==n&&t(!!n),ee(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=qt(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Ge()||xe()||$e()}};var lr;
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ur{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged((t=>{var o;e((null===(o=t)||void 0===o?void 0:o.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){ie(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hr(e=function(e="[DEFAULT]"){const t=j.get(e);if(!t)throw W.create("no-app",{appName:e});return t}()){const t=$(e,"auth");return t.isInitialized()?t.getImmediate():function(e,t){const o=$(e,"auth");if(o.isInitialized()){const e=o.getImmediate();if(_(o.getOptions(),null!=t?t:{}))return e;ee(e,"already-initialized")}return o.initialize({options:t})}(e,{popupRedirectResolver:cr,persistence:[Ot,dt,ft]})}lr="Browser",z(new S("auth",((e,{options:t})=>{const o=e.getProvider("app").getImmediate(),{apiKey:i,authDomain:n}=o.options;return(e=>{ie(i&&!i.includes(":"),"invalid-api-key",{appName:e.name}),ie(!(null==n?void 0:n.includes(":")),"argument-error",{appName:e.name});const o={apiKey:i,authDomain:n,clientPlatform:lr,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:qe(lr)},r=new Ke(e,o);return function(e,t){const o=(null==t?void 0:t.persistence)||[],i=(Array.isArray(o)?o:[o]).map(ce);(null==t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(i,null==t?void 0:t.popupRedirectResolver)}(r,t),r})(o)}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(((e,t,o)=>{e.getProvider("auth-internal").initialize()}))),z(new S("auth-internal",(e=>(e=>new ur(e))(Je(e.getProvider("auth").getImmediate()))),"PRIVATE").setInstantiationMode("EXPLICIT")),q("@firebase/auth","0.17.2",function(e){switch(lr){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}());
/**
 * @license Copyright 2016 The Lighthouse Authors. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0
 * Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.
 */
class dr{constructor(){this._accessToken=null,this._firebaseApp=function(e,t={}){"object"!=typeof t&&(t={name:t});const o=Object.assign({name:"[DEFAULT]",automaticDataCollectionEnabled:!1},t),i=o.name;if("string"!=typeof i||!i)throw W.create("bad-app-name",{appName:String(i)});const n=j.get(i);if(n){if(_(e,n.options)&&_(o,n.config))return n;throw W.create("duplicate-app",{appName:i})}const r=new N(i);for(const e of H.values())r.addComponent(e);const s=new G(e,o,r);return j.set(i,s),s}({apiKey:"AIzaSyBQEZMlX6A9B0jJ6PFGcBADbXZG9ogyCmQ",authDomain:"lighthouse-chrom-1560304954232.firebaseapp.com",projectId:"lighthouse-chrom-1560304954232",storageBucket:"lighthouse-chrom-1560304954232.appspot.com",messagingSenderId:"89319782509",appId:"1:89319782509:web:9ea5d8e149048c7836e764",measurementId:"G-7FMYHPW5YC"}),this._auth=hr(),this._provider=new it,this._provider.addScope("gist"),this._ready=Promise.resolve(s.get("accessToken").then((e=>{e&&(this._accessToken=e)})))}async getAccessTokenIfLoggedIn(){return await this._ready,this._accessToken}async getAccessToken(){return await this._ready,this._accessToken?this._accessToken:this.signIn()}async signIn(){const e=await Ut(this._auth,this._provider),t=it.credentialFromResult(e);if(!t||!t.accessToken)throw new Error("unexpected credential");const o=t.accessToken;return this._accessToken=o,await s.set("accessToken",o),o
/**
 * @license Copyright 2017 The Lighthouse Authors. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0
 * Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.
 */}}function pr(e,t){const o=t?new Date(t):new Date,i=o.toLocaleTimeString("en-US",{hour12:!1}),n=o.toLocaleDateString("en-US",{year:"numeric",month:"2-digit",day:"2-digit"}).split("/");return n.unshift(n.pop()),`${e}_${n.join("-")}_${i}`.replace(/[/?<>\\:*|"]/g,"-")}var fr={getLhrFilenamePrefix:function(e){return pr(new URL(e.finalUrl).hostname,e.fetchTime)},getFilenamePrefix:pr,getFlowResultFilenamePrefix:function(e){const t=e.steps[0].lhr;return pr(e.name.replace(/\s/g,"-"),t.fetchTime)}};
/**
 * @license Copyright 2016 The Lighthouse Authors. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0
 * Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.
 */class mr{constructor(){this._auth=new dr,this._saving=!1}static get LH_JSON_EXT(){return".lighthouse.report.json"}getFirebaseAuth(){return this._auth}async createGist(e){if(this._saving)throw new Error("Save already in progress");logger.log("Saving report to GitHub...",!1),this._saving=!0;try{const t=await this._auth.getAccessToken();let o;o="steps"in e?fr.getFlowResultFilenamePrefix(e):fr.getLhrFilenamePrefix({finalUrl:e.finalUrl,fetchTime:e.fetchTime});const i={description:"Lighthouse json report",public:!1,files:{[`${o}${mr.LH_JSON_EXT}`]:{content:JSON.stringify(e)}}},n=new Request("https://api.github.com/gists",{method:"POST",headers:new Headers({Authorization:"token "+t}),body:JSON.stringify(i)}),r=await fetch(n),s=await r.json();if(s.id)return logger.log("Saved!"),s.id;throw new Error("Error: "+JSON.stringify(s))}finally{this._saving=!1}}getGistFileContentAsJson(e){return logger.log("Fetching report from GitHub...",!1),this._auth.getAccessTokenIfLoggedIn().then((t=>{const o=new Headers;return t&&o.set("Authorization","token "+t),s.get(e).then((t=>(t?.etag&&o.set("If-None-Match",t.etag),fetch("https://api.github.com/gists/"+e,{headers:o}).then((o=>{const i=Number(o.headers.get("X-RateLimit-Remaining")),n=Number(o.headers.get("X-RateLimit-Limit"));if(i<10&&logger.warn(`Approaching GitHub's rate limit. ${n-i}/${n} requests used. Consider signing in to increase this limit.`),!o.ok){if(304===o.status&&t)return Promise.resolve(t);throw 404===o.status&&s.delete(e),new Error(o.status+" fetching gist")}const r=o.headers.get("ETag");return o.json().then((t=>{const o=Object.keys(t.files);let i=o.find((e=>e.endsWith(mr.LH_JSON_EXT)));if(i||(i=o.find((e=>e.endsWith(".json")))),!i)throw new Error(`Failed to find a Lighthouse report (*${mr.LH_JSON_EXT}) in gist ${e}`);const n=t.files[i];if(n.truncated)return fetch(n.raw_url).then((e=>e.json())).then((e=>({etag:r,content:e})));const s=JSON.parse(n.content);return{etag:r,content:s}}))})))))})).then((t=>s.set(e,t).then((e=>(logger.hide(),t.content)))))
/**
 * @license Copyright 2020 The Lighthouse Authors. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0
 * Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.
 */}}class gr{constructor(e,t){"en-XA"===e&&(e="de"),this._numberDateLocale=e,this._numberFormatter=new Intl.NumberFormat(e),this._percentFormatter=new Intl.NumberFormat(e,{style:"percent"}),this._strings=t}get strings(){return this._strings}formatNumber(e,t=.1){const o=Math.round(e/t)*t;return this._numberFormatter.format(o)}formatPercent(e){return this._percentFormatter.format(e)}formatBytesToKiB(e,t=.1){return this._byteFormatterForGranularity(t).format(Math.round(e/1024/t)*t)+" KiB"}formatBytesToMiB(e,t=.1){return this._byteFormatterForGranularity(t).format(Math.round(e/1048576/t)*t)+" MiB"}formatBytes(e,t=1){return this._byteFormatterForGranularity(t).format(Math.round(e/t)*t)+" bytes"}formatBytesWithBestUnit(e,t=.1){return e>=1048576?this.formatBytesToMiB(e,t):e>=1024?this.formatBytesToKiB(e,t):this.formatNumber(e,t)+" B"}_byteFormatterForGranularity(e){let t=0;return e<1&&(t=-Math.floor(Math.log10(e))),new Intl.NumberFormat(this._numberDateLocale,{...this._numberFormatter.resolvedOptions(),maximumFractionDigits:t,minimumFractionDigits:t})}formatMilliseconds(e,t=10){const o=Math.round(e/t)*t;return 0===o?this._numberFormatter.format(0)+" ms":this._numberFormatter.format(o)+" ms"}formatSeconds(e,t=.1){const o=Math.round(e/1e3/t)*t;return this._numberFormatter.format(o)+" s"}formatDateTime(e){const t={month:"short",day:"numeric",year:"numeric",hour:"numeric",minute:"numeric",timeZoneName:"short"};let o;try{o=new Intl.DateTimeFormat(this._numberDateLocale,t)}catch(e){t.timeZone="UTC",o=new Intl.DateTimeFormat(this._numberDateLocale,t)}return o.format(new Date(e))}formatDuration(e){let t=e/1e3;if(0===Math.round(t))return"None";const o=[],i={d:86400,h:3600,m:60,s:1};return Object.keys(i).forEach((e=>{const n=i[e],r=Math.floor(t/n);r>0&&(t-=r*n,o.push(`${r} ${e}`))})),o.join(" ")
/**
 * @license Copyright 2021 The Lighthouse Authors. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0
 * Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.
 */}}const vr="undefined"!=typeof btoa?btoa:e=>Buffer.from(e).toString("base64"),yr="undefined"!=typeof atob?atob:e=>Buffer.from(e,"base64").toString(),wr={toBase64:async function(e,t){let o=(new TextEncoder).encode(e);if(t.gzip)if("undefined"!=typeof CompressionStream){const e=new CompressionStream("gzip"),t=e.writable.getWriter();t.write(o),t.close();const i=await new Response(e.readable).arrayBuffer();o=new Uint8Array(i)}else o=window.pako.gzip(e);let i="";for(let e=0;e<o.length;e+=5e3)i+=String.fromCharCode(...o.subarray(e,e+5e3));return vr(i)},fromBase64:function(e,t){const o=yr(e),i=Uint8Array.from(o,(e=>e.charCodeAt(0)));return t.gzip?window.pako.ungzip(i,{to:"string"}):(new TextDecoder).decode(i)}},_r=document.querySelector("div#lh-log");if(!_r)throw new Error("logger element not found");const br=new class{constructor(e){this.el=e;const t=document.createElement("style");if(t.textContent="\n      #lh-log {\n        position: fixed;\n        background-color: #323232;\n        color: #fff;\n        min-height: 48px;\n        min-width: 288px;\n        padding: 16px 24px;\n        box-shadow: 0 2px 5px 0 rgba(0, 0, 0, 0.26);\n        border-radius: 2px;\n        margin: 12px;\n        font-size: 14px;\n        cursor: default;\n        transition: transform 0.3s, opacity 0.3s;\n        transform: translateY(100px);\n        opacity: 0;\n        bottom: 0;\n        left: 0;\n        z-index: 3;\n        display: flex;\n        flex-direction: row;\n        justify-content: center;\n        align-items: center;\n      }\n      \n      #lh-log.lh-show {\n        opacity: 1;\n        transform: translateY(0);\n      }\n    ",!this.el.parentNode)throw new Error("element needs to be in the DOM");this.el.parentNode.insertBefore(t,this.el),this._id=void 0}log(e,t=!0){this._id&&clearTimeout(this._id),this.el.textContent=e,this.el.classList.add("lh-show"),t&&(this._id=setTimeout((()=>{this.el.classList.remove("lh-show")}),7e3))}warn(e){this.log("Warning: "+e)}error(e){this.log(e),setTimeout((()=>{throw new Error(e)}),0)}hide(){this._id&&clearTimeout(this._id),this.el.classList.remove("lh-show")}}(_r);let Ir;window.logger=br,Cell.prototype.clearHeight=()=>{},Row.prototype.calcHeight=function(){this.height=24,this.outerHeight=24,this.heightStyled="24px"};class Tr{constructor(e,o){this.abortController=new AbortController;const i=e.lhr.audits["script-treemap-data"].details;if(!i||"treemap-data"!==i.type)throw new Error("missing script-treemap-data");this.depthOneNodesByGroup={scripts:i.nodes},this.nodeToDepthOneNodeMap=new WeakMap;for(const e of Object.values(this.depthOneNodesByGroup))for(const o of e)t.walk(o,(e=>this.nodeToDepthOneNodeMap.set(e,o)));this.nodeToPathMap=new WeakMap,this.documentUrl=new URL(e.lhr.requestedUrl),this.el=o,this.getHueForD1NodeName=t.stableHasher(t.COLOR_HUES);for(const e of this.depthOneNodesByGroup.scripts)try{const o=new URL(e.name);e.name=t.elideSameOrigin(o,this.documentUrl),o.href===this.documentUrl.href&&(e.name+=" (inline)")}catch{}this.currentTreemapRoot,this.currentViewMode,this.selector,this.viewModes,this.previousRenderState,this.tableRowToNodeMap=new WeakMap,this.treemap,this.createHeader(),this.toggleTable(window.innerWidth>=600),this.initListeners(),this.setSelector({type:"group",value:"scripts"}),this.render()}createHeader(){const e=t.find("a.lh-header--url");e.textContent=this.documentUrl.toString(),e.href=this.documentUrl.toString(),this.createBundleSelector()}createBundleSelector(){const e=t.find("select.bundle-selector");e.innerHTML="";const o=[];function i(i,n){const r=t.createChildOf(e,"option");r.value=String(o.length),o.push(i),r.textContent=n}for(const[e,o]of Object.entries(this.depthOneNodesByGroup)){i({type:"group",value:e},{scripts:t.i18n.strings.allScriptsDropdownLabel}[e]||"All "+e);for(const e of o)e.children&&i({type:"depthOneNode",value:e.name},e.name)}const n=o.findIndex((e=>this.selector&&e.type===this.selector.type&&e.value===this.selector.value));e.value=String(-1!==n?n:0),e.addEventListener("change",(()=>{const t=Number(e.value),i=o[t];this.setSelector(i),this.render()}))}initListeners(){const e={signal:this.abortController.signal},o=t.find(".lh-treemap");new ResizeObserver((()=>this.resize())).observe(o),o.addEventListener("click",(e=>{e.target instanceof HTMLElement&&e.target.closest(".webtreemap-node")&&this.updateColors()}),e),o.addEventListener("keyup",(e=>{e instanceof KeyboardEvent&&("Enter"===e.key&&this.updateColors(),"Escape"===e.key&&this.treemap&&this.treemap.zoom([]))}),e),o.addEventListener("mouseover",(e=>{if(!(e.target instanceof HTMLElement))return;const t=e.target.closest(".webtreemap-node");t&&t.classList.add("webtreemap-node--hover")}),e),o.addEventListener("mouseout",(e=>{if(!(e.target instanceof HTMLElement))return;const t=e.target.closest(".webtreemap-node");t&&t.classList.remove("webtreemap-node--hover")}),e),t.find(".lh-table").addEventListener("mouseover",(e=>{const t=e.target;if(!(t instanceof HTMLElement))return;const i=t.closest(".tabulator-row");if(!(i instanceof HTMLElement))return;const n=this.tableRowToNodeMap.get(i);n&&n.dom&&(n.dom.classList.add("webtreemap-node--hover"),i.addEventListener("mouseout",(()=>{for(const e of o.querySelectorAll(".webtreemap-node--hover"))e.classList.remove("webtreemap-node--hover")}),{once:!0}))}),e),t.find(".lh-button--toggle-table").addEventListener("click",(()=>Ir.toggleTable()),e)}wrapNodesInNewRootNode(e){const t=[...e];return{name:this.documentUrl.toString(),resourceBytes:t.reduce(((e,t)=>t.resourceBytes+e),0),unusedBytes:t.reduce(((e,t)=>(t.unusedBytes||0)+e),0),children:t}}createViewModes(){const e=[];e.push({id:"all",label:t.i18n.strings.allLabel,subLabel:t.i18n.formatBytesWithBestUnit(this.currentTreemapRoot.resourceBytes),enabled:!0});const o=function(e){if(void 0!==e.unusedBytes)return{id:"unused-bytes",label:t.i18n.strings.unusedBytesLabel,subLabel:t.i18n.formatBytesWithBestUnit(e.unusedBytes),enabled:!0}}(this.currentTreemapRoot);o&&e.push(o);const i=(e=>{const o=new Map;for(const i of e.children||[])t.walk(i,((e,t)=>{if(e.children)return;if(!e.duplicatedNormalizedModuleName)return;const i=o.get(e.duplicatedNormalizedModuleName)||[];i.push({node:e,path:t}),o.set(e.duplicatedNormalizedModuleName,i)}));const i=t.stableHasher(t.COLOR_HUES);let n=0;const r=[];for(const[t,s]of o.entries()){if(1===s.length)continue;const o=[];for(const{node:e}of s)o.push(e.resourceBytes);o.sort(((e,t)=>t-e));let a=0;for(let e=1;e<o.length;e++)a+=o[e];if(!(a<1024)){for(const{path:o}of s)r.push({path:[e.name,...o],color:this.getColorFromHue(i(t))});n+=a}}let s=!0;return 0===r.length&&(s=!1),n/e.resourceBytes<.01&&(s=!1),{id:"duplicate-modules",label:t.i18n.strings.duplicateModulesLabel,subLabel:s?t.i18n.formatBytesWithBestUnit(n):"N/A",highlights:r,enabled:s}})(this.currentTreemapRoot);return i&&e.push(i),e}setSelector(e){if(this.selector=e,"group"===e.type)this.currentTreemapRoot=this.wrapNodesInNewRootNode(this.depthOneNodesByGroup[e.value]);else{if("depthOneNode"!==e.type)throw new Error("unknown selector: "+JSON.stringify(e));{let t;e:for(const o of Object.values(this.depthOneNodesByGroup))for(const i of o)if(i.name===e.value){t=i;break e}if(!t)throw new Error("unknown depthOneNode: "+e.value);this.currentTreemapRoot=t}}this.viewModes=this.createViewModes();const t=this.currentViewMode&&this.viewModes.find((e=>e.id===this.currentViewMode.id&&!e.enabled));this.currentViewMode&&!t||(this.currentViewMode=this.viewModes[0])}setViewMode(e){this.currentViewMode=e}render(){const e=!this.previousRenderState||this.previousRenderState.root!==this.currentTreemapRoot,o=!this.previousRenderState||this.previousRenderState.viewMode!==this.currentViewMode;e&&(this.nodeToPathMap=new Map,t.walk(this.currentTreemapRoot,((e,t)=>this.nodeToPathMap.set(e,t))),function(e){const o=t.find(".lh-modes");o.innerHTML="",e.forEach((function(e){const i=t.createChildOf(o,"div","view-mode");e.enabled||i.classList.add("view-mode--disabled"),i.id="view-mode--"+e.id;const n=t.createChildOf(i,"input","view-mode__button");n.id=`view-mode--${e.id}__label`,n.type="radio",n.name="view-mode",n.disabled=!e.enabled;const r=t.createChildOf(i,"label");r.htmlFor=n.id,t.createChildOf(r,"span","view-mode__label").textContent=e.label,t.createChildOf(r,"span","view-mode__sublabel lh-text-dim").textContent=` (${e.subLabel})`,n.addEventListener("click",(()=>{Ir.setViewMode(e),Ir.render()}))}))}(this.viewModes),t.walk(this.currentTreemapRoot,(e=>{delete e.dom,e.size=e[this.currentViewMode.partitionBy||"resourceBytes"]||0})),webtreemap.sort(this.currentTreemapRoot),this.treemap=new webtreemap.TreeMap(this.currentTreemapRoot,{padding:[16,3,3,3],spacing:10,caption:e=>this.makeCaption(e)}),this.el.innerHTML="",this.treemap.render(this.el),t.find(".webtreemap-node").classList.add("webtreemap-node--root"),this.createTable()),(e||o)&&(this.updateColors(),function(e,o){const i=t.find(".lh-modes");for(const t of i.querySelectorAll(".view-mode")){if(!(t instanceof HTMLElement))continue;const i=t.id==="view-mode--"+e;t.classList.toggle("view-mode--active",i),o.classList.toggle("lh-treemap--"+t.id,i)}}(this.currentViewMode.id,this.el)),this.previousRenderState={root:this.currentTreemapRoot,viewMode:this.currentViewMode}}createTable(){const e=t.find(".lh-table");e.innerHTML="";const o=[];t.walk(this.currentTreemapRoot,((e,t)=>{if(e.children)return;const i=this.nodeToDepthOneNodeMap.get(e),n=i?.children?i:void 0;let r;if(n){const e=this.nodeToPathMap.get(n),o=e?e.length:0;r="(bundle) "+t.slice(o).join("/")}else r=t[0]===this.currentTreemapRoot.name?t.slice(1).join("/"):t.join("/");o.push({node:e,name:r,bundleNode:n,resourceBytes:e.resourceBytes,unusedBytes:e.unusedBytes})}));const i=e=>o=>{const i=o.getRow().getData()[e];return void 0===i?"":t.i18n.formatBytes(i)},n=document.createElement("div");e.append(n);const r=this.currentTreemapRoot.children||[],s=Math.max(...r.map((e=>e.resourceBytes)));this.tableRowToNodeMap=new WeakMap,this.table=new Tabulator(n,{data:o,height:"100%",layout:"fitColumns",tooltips:!0,addRowPos:"top",resizableColumns:!0,initialSort:[{column:"resourceBytes",dir:"desc"}],columns:[{title:t.i18n.strings.tableColumnName,field:"name",widthGrow:5,tooltip:e=>{const t=e.getRow().getData();return t.bundleNode?`${t.bundleNode.name} ${t.name}`:""}},{title:t.i18n.strings.resourceBytesLabel,field:"resourceBytes",headerSortStartingDir:"desc",tooltip:i("resourceBytes"),formatter:e=>{const o=e.getValue();return t.i18n.formatBytesWithBestUnit(o)}},{title:t.i18n.strings.unusedBytesLabel,field:"unusedBytes",widthGrow:1,sorterParams:{alignEmptyValues:"bottom"},headerSortStartingDir:"desc",tooltip:i("unusedBytes"),formatter:e=>{const o=e.getValue();return void 0===o?"":t.i18n.formatBytesWithBestUnit(o)}},{title:t.i18n.strings.coverageColumnName,widthGrow:3,headerSort:!1,tooltip:e=>{const o=e.getRow().getData();if(!o.unusedBytes)return"";const i=o.unusedBytes/o.resourceBytes;return t.i18n.formatPercent(i)+" bytes unused"},formatter:e=>{const o=e.getRow().getData(),i=t.createElement("div","lh-coverage-bar");return void 0===o.unusedBytes||(i.style.setProperty("--max",String(s)),i.style.setProperty("--used",String(o.resourceBytes-o.unusedBytes)),i.style.setProperty("--unused",String(o.unusedBytes)),t.createChildOf(i,"div","lh-coverage-bar--used"),t.createChildOf(i,"div","lh-coverage-bar--unused")),i}}],rowFormatter:e=>{this.tableRowToNodeMap.set(e.getElement(),e.getData().node)}})}toggleTable(e){t.find("main").classList.toggle("lh-main--show-table",e),t.find(".lh-button--toggle-table").classList.toggle("lh-button--active",e)}resize(){if(!this.treemap)throw new Error("must call .render() first");this.treemap.layout(this.currentTreemapRoot,this.el),this.updateColors(),this.table&&this.table.redraw()}makeCaption(e){const o=this.currentViewMode.partitionBy||"resourceBytes",i={resourceBytes:t.i18n.strings.resourceBytesLabel,unusedBytes:t.i18n.strings.unusedBytesLabel}[o],n=e[o],r=this.currentTreemapRoot[o],s=[t.elide(e.name||"",60)];if(void 0!==n&&void 0!==r){const o=0===r?1:n/r,a=t.i18n.formatPercent(o);let l=`${t.i18n.formatBytesWithBestUnit(n)} (${a})`;e===this.currentTreemapRoot&&(l=`${i}: ${l}`),s.push(l)}return s.join(" · ")}getColorFromHue(e){return t.hsl(e,60,90)}updateColors(){t.walk(this.currentTreemapRoot,(e=>{const o=this.nodeToDepthOneNodeMap.get(e),i=o&&this.getHueForD1NodeName(o?o.name:e.name),n=void 0!==i?this.getColorFromHue(i):"white";if(!e.dom)return;let r;if(this.currentViewMode.highlights){const o=this.nodeToPathMap.get(e),i=o&&this.currentViewMode.highlights.find((e=>t.pathsAreEqual(o,e.path)));return r=i?i.color||n:"white",void(e.dom.style.backgroundColor=r)}if(e.dom.style.backgroundColor=n,"unused-bytes"===this.currentViewMode.id){const t=(e.unusedBytes||0)/e.resourceBytes*100;e.dom.style.setProperty("--pctUnused",t+"%")}}))}}class Er{static get APP_URL(){return`${location.origin}${location.pathname}`}constructor(){this._onPaste=this._onPaste.bind(this),this._onFileLoad=this._onFileLoad.bind(this),this._dragAndDrop=new r(this._onFileLoad),this._github=new mr,document.addEventListener("paste",this._onPaste);const e=t.find("input#hidden-file-input",document);e.addEventListener("change",(e=>{if(!e.target)return;const t=e.target;t.files&&this._dragAndDrop.readFile(t.files[0]).then((e=>{this._onFileLoad(e)})),t.value=""})),t.find(".treemap-placeholder-inner",document).addEventListener("click",(t=>{const o=t.target;o&&"input"!==o.localName&&"a"!==o.localName&&e.click()}))}init(e){t.find(".treemap-placeholder").classList.add("hidden"),t.find("main").classList.remove("hidden");const o=e.lhr.configSettings.locale;document.documentElement.lang=o;const i=new gr(o,{...t.UIStrings,...strings[e.lhr.configSettings.locale]});t.i18n=i;for(const e of document.querySelectorAll("[data-i18n]")){const o=e.getAttribute("data-i18n");e.textContent=t.i18n.strings[o]}Ir&&(t.find(".lh-treemap").innerHTML="",t.find(".lh-table").innerHTML="",Ir.abortController.abort()),Ir=new Tr(e,t.find("div.lh-treemap")),function(e){let o=document.querySelector(".lh-injectedoptions");o&&o.remove(),o=t.createChildOf(document.head,"script","lh-injectedoptions"),o.textContent=`\n    window.__treemapOptions = ${JSON.stringify(e)};\n  `}(e),console.log("window.__treemapOptions",window.__treemapOptions)}coerceToOptions(e){let t=null;if(e&&"object"==typeof e)for(const o of[e,e.lhr,e.lighthouseResult])if(o?.audits&&"object"==typeof o.audits){t=o;break}if(!t)throw new Error("provided json is not a Lighthouse result");if(!t.audits["script-treemap-data"])throw new Error("provided Lighthouse result is missing audit: `script-treemap-data`");return t===e.lhr?e:{lhr:t}}async loadFromGistUrl(e){try{const t=new URL(e);if("https://gist.github.com"!==t.origin)return void br.error("URL was not a gist");const o=t.pathname.match(/[a-f0-9]{5,}/);if(o){const e=o[0];history.pushState({},"",`${Er.APP_URL}?gist=${e}`);const t=await this._github.getGistFileContentAsJson(e),i=this.coerceToOptions(t);this.init(i)}}catch(e){br.error(e)}}_onFileLoad(e){let t,o;try{t=JSON.parse(e),o=this.coerceToOptions(t)}catch(e){br.error("Could not parse JSON file.")}o&&this.init(o)}_onPaste(e){if(e.clipboardData){e.preventDefault();try{const t=new URL(e.clipboardData.getData("text"));return this.loadFromGistUrl(t.href),void(window.ga&&window.ga("send","event","report","paste-link"))}catch(e){}try{const t=JSON.parse(e.clipboardData.getData("text")),o=this.coerceToOptions(t);return this.init(o),void(window.ga&&window.ga("send","event","report","paste"))}catch(e){}br.error("Pasted content did not have JSON or gist URL")}}}async function kr(){const e=new Er,t=new URLSearchParams(window.location.search),o="1"===t.get("gzip"),i=t.get("filekey"),n=location.hash?JSON.parse(wr.fromBase64(location.hash.substr(1),{gzip:o})):{},r={...Object.fromEntries(t.entries()),...n};if(i){const e=await((e="")=>new Promise(((t,o)=>{if(!e)return;const i=new XMLHttpRequest;i.open("get",""+e),i.send(),i.onreadystatechange=function(){if(4===i.readyState&&200===i.status)try{t(JSON.parse(i.responseText))}catch(e){o(e)}}})))("/api/report/"+i).then((e=>e.data.Frecord)),t={lhr:{requestedUrl:e.requestedUrl,finalUrl:e.finalUrl,audits:{"script-treemap-data":e.audits["script-treemap-data"]},configSettings:{locale:e.configSettings.locale}}};window.__treemapOptions=t}if(window.__treemapOptions)e.init(e.coerceToOptions(window.__treemapOptions));else if("debug"in r){const t=await fetch("debug.json"),o=await t.json(),i=e.coerceToOptions(o);e.init(i)}else if(r.lhr){const t=e.coerceToOptions(r.lhr);e.init(t)}else if(r.gist){const t=await e._github.getGistFileContentAsJson(r.gist||""),o=e.coerceToOptions(t);e.init(o)}}document.addEventListener("DOMContentLoaded",(async()=>{try{await kr()}catch(e){br.error(e)}}));